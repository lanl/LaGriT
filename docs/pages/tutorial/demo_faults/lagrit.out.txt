 
 
*               * * * * * * * * * * * * * * * * * * * * * * * *                 
*               *                                             *                 
*               *    Program:  LaGriT V3.3.4   Linux          *                 
*               *    Compiler Name: GNU                       *                 
*               *    Compiler Version: 9.4.0                  *                 
*               *    Date Compile: 2024/05/06                 *                 
*               *    Run Time: 2025/Apr 30  14:54:03          *                 
*               *    Manual:   https://lagrit.lanl.gov        *                 
*               *                                             *                 
*               * * * * * * * * * * * * * * * * * * * * * * * *                 
 
                               -----oOo-----                                    
             LaGriT V3 LA-CC-15-069  https://github.com/lanl/LaGriT             
  Copyright 2016. Triad National Security, LLC.  All rights reserved. This      
  program was produced under U.S. Government contract 89233218CNA000001         
  for Los Alamos National Laboratory (LANL), which is operated by Triad         
  National Security, LLC for the U.S. Department of Energy/National Nuclear     
  Security Administration.  All rights in the program are reserved by Triad     
  National Security, LLC, and the U.S. Department of Energy/National Nuclear    
  Security Administration. The Government is granted for itself and others      
  acting on its behalf a nonexclusive, paid-up, irrevocable worldwide license   
  in this material to reproduce, prepare derivative works, distribute copies    
  to the public, perform publicly and display publicly, and to permit others to 
  do so. This software is open source and available under the BSD-3 License.    
                               -----oOo-----                                    
 
 
Output log file: lagrit.out                                                     
Command log file: lagrit.log                                                    
 
# octree refine with faults                                                     
*                                                                               
* L0 - Level 0, base mesh                                                       
* L1 - Level 1, refine base mesh once                                           
* L2 - Level 2, refine base mesh twice                                          
* etc.                                                                          
*                                                                               
*========================================================================       
*                                                                               
* Three new integer element attributes will be created as part of the           
* book keeping for the octree mesh data structure.                              
*                                                                               
* When elements are refined                                                     
* the original element (parent) is not removed when eight child elements        
* are created. For example, if you have a single hex and refine it, you         
* will then have 9 elements, 1 itetlev=N element and 8 children of the          
* original perent element refined to itetlev = N+1.                             
*                                                                               
* itetlev = level of refinement                                                 
*         = 0 not refined                                                       
*         = 1 refined once                                                      
*         = 2 refined twice                                                     
*           etc.                                                                
*                                                                               
* itetpar = pointer to parent element                                           
*           Each refined element contains an integer pointer to the             
*           element number of the element that was refined to create it.        
*                                                                               
* itetkid = pointer to first of 8 child (kid) elements created by refinement    
*           of parent element.                                                  
*                                                                               
*========================================================================       
*                                                                               
#----------------------------------------------                                 
# CREATE HEX MESH                                                               
# This is Level 0 mesh that will be refined                                     
# Mesh domain 100x50x80                                                         
define/XMIN/400.                                                                
define/XMAX/2600.                                                               
define/YMIN/200.                                                                
define/YMAX/2200.                                                               
define/ZMIN/4000.                                                               
define/ZMAX/5400.                                                               
# Set the number of points along each axis                                      
# 2200x2000x1400 domain                                                         
define/NX/23                                                                    
define/NY/21                                                                    
define/NZ/15                                                                    
# create hex mesh                                                               
cmo/create/mohex///hex                                                          
createpts/brick/xyz/NX NY NZ/XMIN YMIN ZMIN/XMAX YMAX ZMAX/1,1,1                
          Number of nodes:        7245                                          
          Number of elements:        6160                                       
          Number of negative volume elements:           0                       
          Total volume:     0.616000000000E+10                                  
cmo/setatt/mohex/imt/1,0,0/1                                                    
      7245 values reset for attribute imt1                                      
 
cmo/setatt/mohex/itetclr/1,0,0/1                                                
      6160 values reset for attribute itetclr                                   
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :       6160                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
All elements have volume  1.0000000E+06                                         
-----------------------------------------------------------                     
      6160 total elements evaluated.                                            
 
quality/edge_min                                                                
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge min normalized by dividing with max value.                                 
element norm min edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :          0                            
element norm edge length b/w .2  and .5 :          0                            
element norm edge length b/w .5  and 1. :       6160                            
min min edge length =  0.1000E+03  max min edge length =  0.1000E+03            
-----------------------------------------------------------                     
      6160 total elements evaluated.                                            
 
dump/avs/hex0.inp/mohex                                                         
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
#----------------------------------------------                                 
# SET REFINE OBJECTS                                                            
# merge faults for easier refinement                                            
read/avs/fault_surf06.inp/mo_flt6                                               
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: mo_flt6                                        
 
  1 Mesh Object name: mohex                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
read/avs/fault_surf12.inp/mo_flt12                                              
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: mo_flt12                                       
 
  1 Mesh Object name: mohex                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
addmesh/merge/mo_faults/mo_faults/mo_flt6                                       
cmo/copy/mo_faults/mo_flt6                                                      
finish                                                                          
addmesh/merge/mo_faults/mo_faults/mo_flt12                                      
cmo/move/-tmp_source_internal-/mo_faults                                        
finish                                                                          
cmo/delete/-tmp_source_internal-/                                               
     Released Mesh Object: -tmp_source_internal-                                
finish                                                                          
cmo/printatt/mo_faults/itetclr/minmax                                           
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetclr                          6               12               6      9723  
 
cmo/printatt/mo_faults/-xyz-/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic                0.000000000E+00  3.908834900E+03 3.908834900E+03      5130  
 yic                0.000000000E+00  2.605901712E+03 2.605901712E+03      5130  
 zic                0.000000000E+00  5.825851966E+03 5.825851966E+03      5130  
 
cmo/printatt/mohex/-xyz-/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03      7245  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03      7245  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03      7245  
 
#####################################################################           
# REFINE and VIEW RESULTS                                                       
#                                                                               
# View results to decide on preferred resolutions                               
# Use the following infile macros for each refinement                           
# 1. hex_add_volumes.mlgi                                                       
#    Reduce octree to tet mesh and add volume attributes                        
#                                                                               
# These are called seperately for each fault                                    
# so each can be examined to decide on final resolution                         
# 2. extract_hex_fault.mlgi                                                     
#    Extract intersected cells as refined hex faults                            
# 3. extract_thin_faults.mlgi                                                   
#     Extract either side as single node thin faults                            
#####################################################################           
#----------------------------------------------                                 
# START with LEVEL 0 100m spacing                                               
# No Refinement                                                                 
**** WRITE RESULTS ****                                                         
define MOHEX mohex                                                              
define MOVOL movol                                                              
# define the octree mesh name and volume tet mesh name                          
# this is not an octree mesh yet so just make a copy                            
cmo/copy/MOVOL/MOHEX                                                            
cmo/addatt/MOVOL/itetlev/vint/scalar/nelements/linear/permanent//0.0            
infile hex_add_volumes.mlgi                                                     
# Create cell and node volume attributes                                        
# for resolution decisions based on volumes                                     
# define MOVOL as the hex mesh for added attributes                             
#        MOVOL is a standard mesh and not octree                                
#        grid2grid/tree_to_fe will convert to standard form                     
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                0               0      6160  
 
# create tet voronoi attribute to put on hex nodes                              
cmo/create/motet                                                                
copypts/motet/MOVOL                                                             
copypts added nodes          1 to       7245                                    
cmo/select/motet                                                                
cmo/setatt/motet/imt/1                                                          
Warning: nelements = 0                                                          
      7245 values reset for attribute imt1                                      
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           0                                    
rmpoint compress                                                                
         0 points removed and          0 elements removed.                      
RMPOINT: new point count is         7245                                        
RMPOINT: new element count is          0                                        
connect                                                                         
 Coordinates of enclosing tetrahedron are:                                      
          -0.12500D+04   -0.13000D+04    0.12000D+04                            
          -0.12500D+04    0.87000D+04    0.47000D+04                            
          -0.12500D+04   -0.13000D+04    0.82000D+04                            
           0.97500D+04    0.12000D+04    0.47000D+04                            
 ntets=     29949     node index=     5000     nlstfail=       0 %done=  68.86  
 
 Successfully eliminated all multimaterial connections.                         
 
 The mesh is now complete!                                                      
 
LaGriT FINISH: connect                                                          
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :      36960                          
min aspect ratio =  0.6230E+00  max aspect ratio =  0.7321E+00                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
All elements have volume  1.6666667E+05                                         
-----------------------------------------------------------                     
     36960 total elements evaluated.                                            
 
dump avs tmp_connect.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
cmo/addatt/motet/voronoi_volume/vor_vol                                         
ADDATT/voronoi_volume: creating new attribute: vor_vol                          
 
AMatbld3d_stor: Matrix compress_eps:  0.1000000E-07                             
AMatbld3d_stor: Local epsilon:  0.1000000E-14                                   
AMatbld3d_stor: *****Zero Negative Coefficients ******                          
AMatbld3d_stor: Number of 'zero' (< compress_eps) coefs         0               
AMatbld3d_stor: npoints =     7245  ncoefs =      48429                         
AMatbld3d_stor: Number of unique coefs =     27837                              
AMatbld3d_stor: Maximum num. connections to a node =          7                 
AMatbld3d_stor: Volume min =   1.2500000E+05                                    
AMatbld3d_stor: Volume max =   1.0000000E+06                                    
AMatbld3d_stor: Total Volume:   6.1600000E+09                                   
AMatbld3d_stor: abs(Aij/xij) min =   0.0000000E+00                              
AMatbld3d_stor: abs(Aij/xij) max =   1.0000000E+02                              
AMatbld3d_stor: (Aij/xij) max =   0.0000000E+00                                 
AMatbld3d_stor: (Aij/xij) min =  -1.0000000E+02                                 
AMatbld3d_stor Matrix coefficient values stored as scalar area/distance         
AMatbld3d_stor Matrix compression used for graph, not coefficient values        
motet attribute with voronoi volumes created with name vor_vol                  
 
*** SPARSE COEFFICIENT MATRIX _gstor SUCCESSFUL ***                             
 
3D Matrix Coefficient file written with name -notset-                           
 
dump avs tmp_vor_vol.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# interpolate from tet to hex mesh                                              
cmo/addatt/MOVOL/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/afgx/0.0/       
interpolate/voronoi/MOVOL vor_vol/1,0,0/motet vor_vol                           
nodes in indexed point set  =       7245                                        
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.100000100006E+07             
 
 
Build kdtree0 done - assign nearest node for each.                              
 
 
     Sink point   Points Searched   Points Found  Percent Done                  
 
           1812             1812           1812       25 %                      
           3623             3623           3623       50 %                      
           5434             5434           5434       75 %                      
           7245             7245           7245       100%                      
 
Total Source Nodes:                    7245                                     
Total Sink   Nodes:                    7245                                     
 
 
interpolate/voronoi done.                                                       
 
cmo select movol                                                                
finish                                                                          
cmo kdtree release                                                              
finish                                                                          
cmo/delete/motet                                                                
     Released Mesh Object: motet                                                
# add more attributes                                                           
cmo/addatt/MOVOL/volume/cell_vol                                                
ADDATT/volume: creating new attribute: cell_vol                                 
quality/edge_min/y                                                              
cmo/addatt//edgemin/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge min normalized by dividing with max value.                                 
element norm min edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :          0                            
element norm edge length b/w .2  and .5 :          0                            
element norm edge length b/w .5  and 1. :       6160                            
min min edge length =  0.1000E+03  max min edge length =  0.1000E+03            
-----------------------------------------------------------                     
      6160 total elements evaluated.                                            
 
quality/edge_max/y                                                              
cmo/addatt//edgemax/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge max normalized by dividing with max value.                                 
element norm max edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :          0                            
element norm edge length b/w .2  and .5 :          0                            
element norm edge length b/w .5  and 1. :       6160                            
min max edge length =  0.1000E+03  max max edge length =  0.1000E+03            
-----------------------------------------------------------                     
      6160 total elements evaluated.                                            
 
dump avs tmp_attributes.inp MOVOL                                               
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# minmax of added attributes                                                    
cmo/printatt/MOVOL/-all- minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00      7245  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                        7245             7245               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                     6160             6160               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 3                3               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                8                8               0         1  
 edges_per_element               12               12               0         1  
 faces_per_element                6                6               0         1  
 isetwd                           0                0               0      7245  
 ialias                           0                0               0      7245  
 imt1                             1                1               0      7245  
 itp1                             0               10              10      7245  
 icr1                             0                0               0      7245  
 isn1                             0                0               0      7245  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03      7245  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03      7245  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03      7245  
 xtetwd                           0                0               0      6160  
 itetclr                          1                1               0      6160  
 itettyp                          8                8               0      6160  
 itetoff                          0            49272           49272      6160  
 jtetoff                          0            36954           36954      6160  
 itet                             1             7245            7244      6160x8
 jtet                             2         16000000        15999998      6160x6
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           7.297130333E-10  7.297130333E-10 0.000000000E+00         1  
 epsilona           2.398081733E-06  2.398081733E-06 0.000000000E+00         1  
 epsilonv           1.367794766E-03  1.367794766E-03 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                       7245             7245               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin               4.000000000E+02  4.000000000E+02 0.000000000E+00         1  
 ymin               2.000000000E+02  2.000000000E+02 0.000000000E+00         1  
 zmin               4.000000000E+03  4.000000000E+03 0.000000000E+00         1  
 xmax               2.600000000E+03  2.600000000E+03 0.000000000E+00         1  
 ymax               2.200000000E+03  2.200000000E+03 0.000000000E+00         1  
 zmax               5.400000000E+03  5.400000000E+03 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  0                0               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 itetlev                          0                0               0      6160  
 vor_vol            1.250000000E+05  1.000000000E+06 8.750000001E+05      7245  
 cell_vol           1.000000000E+06  1.000000000E+06 0.000000000E+00      6160  
 edgemin            1.000000000E+02  1.000000000E+02 0.000000000E+00      6160  
 edgemax            1.000000000E+02  1.000000000E+02 0.000000000E+00      6160  
 
# check hex arrays                                                              
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                0               0      6160  
 
cmo/printatt/MOVOL/vor_vol/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            1.250000000E+05  1.000000000E+06 8.750000001E+05      7245  
 
cmo/printatt/MOVOL/vor_vol/1,5,1                                                
Attribute: vor_vol                                                              
         1  1.25000E+05                                                         
         2  2.50000E+05                                                         
         3  2.50000E+05                                                         
         4  2.50000E+05                                                         
         5  2.50000E+05                                                         
 
cmo/printatt/MOVOL/cell_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.000000000E+06  1.000000000E+06 0.000000000E+00      6160  
 
cmo/printatt/MOVOL/cell_vol/1,5,1                                               
Attribute: cell_vol                                                             
         1  1.00000E+06                                                         
         2  1.00000E+06                                                         
         3  1.00000E+06                                                         
         4  1.00000E+06                                                         
         5  1.00000E+06                                                         
 
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
# end infile macro hex_add_volumes.mlgi                                         
finish                                                                          
# Write files for level 0 fault 6                                               
define MOHEX movol                                                              
define MATNO 6                                                                  
define MOS mo_flt6                                                              
define FILE_FLT hex0_fault_6.inp                                                
define FILE_NFLT hex0_fault_6_side_n.inp                                        
define FILE_PFLT hex0_fault_6_side_p.inp                                        
infile extract_hex_fault.mlgi                                                   
# extract hex cells intersected by fault                                        
# input fault surface MOS and hex mesh MOHEX                                    
# write FILE_FLT                                                                
# Extract intersected fault cells                                               
cmo/copy/mo2/MOHEX                                                              
cmo/select/mo2                                                                  
intersect_elements/mo2/MOS/if_inter                                             
cmo/select/mo2                                                                  
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
cmo/addatt/mo2/if_inter/VINT/scalar/nelements/linear/permanent//0/              
finish                                                                          
 
         Element    Elems Searched  Elements Found  Percent Done                
           1087             3318            331       25 %                      
           2173             6719             16       50 %                      
           3259            10491              2       75 %                      
           4344            14531            350    Total Done                   
 
cmo/select/mo2                                                                  
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mo2/sbox                                                             
finish                                                                          
cmo/DELATT/mo2/v12                                                              
finish                                                                          
cmo/DELATT/mo2/linkt                                                            
finish                                                                          
cmo/DELATT/mo2/v2                                                               
finish                                                                          
finish                                                                          
eltset/e_inter/if_inter/gt/0                                                    
 
 THE ELTSET e_inter                          HAS        350 ELEMENTS            
eltset/eduds/not/e_inter                                                        
 
 THE ELTSET eduds                            HAS       5810 ELEMENTS            
rmpoint element eltset,get,eduds                                                
 Dudded       6467 points plus parents, and        5810 elements removed.       
rmpoint compress                                                                
      6467 points removed and          0 elements removed.                      
RMPOINT: new point count is          778                                        
RMPOINT: new element count is        350                                        
resetpts itp                                                                    
geniee                                                                          
finish                                                                          
boundary_components/node                                                        
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/addatt/mo2/numbnd/vint/scalar/nnodes/linear/permanent/afgx/0/               
finish                                                                          
cmo/addatt/mo2/id_numb/vint/scalar/nnodes/linear/permanent/afgx/0/              
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/mo2/ikey_tmp/vint/scalar/nnodes///gax/0                              
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different exterior boundary components                   
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                   2                 778                                 
 
cmo/DELATT/mo2/ikey_tmp                                                         
finish                                                                          
log/tty/on                                                                      
finish                                                                          
dump/avs/FILE_FLT mo2                                                           
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for hex fault                                            
cmo/printatt/mo2/imt/minmax                                                     
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             1                1               0       778  
 
cmo/printatt/mo2/itetlev/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                0               0       350  
 
cmo/printatt/mo2/cell_vol/minmax                                                
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.000000000E+06  1.000000000E+06 0.000000000E+00       350  
 
cmo/printatt/mo2/vor_vol/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            2.500000000E+05  1.000000000E+06 7.500000000E+05       778  
 
cmo/delete/mo2                                                                  
     Released Mesh Object: mo2                                                  
finish                                                                          
infile extract_thin_faults.mlgi                                                 
# input hex fault read file FILE_FLT                                            
# input fault surface mesh object MOS                                           
# write files FILE_NFLT and FILE_PFLT                                           
# assign itetclr with MATNO                                                     
read/FILE_FLT/moin                                                              
read/avs/hex0_fault_6.inp/moin                                                  
cmo/addatt/moin/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf/0.0             
finish                                                                          
cmo/addatt/moin/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
cmo/addatt/moin/itetlev/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/cell_vol/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0     
finish                                                                          
cmo/addatt/moin/edgemin/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/edgemax/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/if_inter/VINT/scalar/nelements/linear/permanent/gxaf/0.0        
finish                                                                          
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: moin                                           
 
  1 Mesh Object name: mohex                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  5 Mesh Object name: movol                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  6 Mesh Object name: moin                                                      
    number of nodes =           778        number of elements =          350    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
finish                                                                          
cmo/status/moin/brief                                                           
 
The current-mesh-object(CMO) is: moin                                           
 
  6 Mesh Object name: moin                                                      
    number of nodes =           778        number of elements =          350    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/setatt/moin/itetclr 1                                                       
       350 values reset for attribute itetclr                                   
 
cmo/setatt/moin/imt 1                                                           
       778 values reset for attribute imt1                                      
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
# extract outside surface of the fault                                          
extract/surfmesh/1,0,0/cmosurf/moin/external                                    
cmo/addatt/cmosurf/itetclr0/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/itetclr1/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/idnode0/vint/scalar/nnodes////0                              
finish                                                                          
cmo/addatt/cmosurf/idelem0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idelem1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/facecol/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf          
finish                                                                          
cmo/addatt/cmosurf/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf              
finish                                                                          
cmo/addatt/cmosurf/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf             
finish                                                                          
cmo/addatt/cmosurf/ncon50/int/scalar/scalar/constant/permanent/x/0              
finish                                                                          
cmo/addatt/cmosurf/nconbnd/int/scalar/scalar/constant/permanent/x/0             
finish                                                                          
cmo/addatt/cmosurf/icontab/vint/scalar/ncon50/constant/permanent/x/0            
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/select/cmosurf                                                              
# define the negative and positive sides of the fault                           
cmo/select/cmosurf                                                              
surface/surf_flt/reflect/sheet/MOS                                              
cmo/addatt//v2/INT/scalar/scalar/constant/permanent//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//permanent/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/permanent//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/permanent/x/0.0                   
finish                                                                          
log/tty/off                                                                     
finish                                                                          
cmo/DELATT/surf_flt isetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt ialias                                                      
finish                                                                          
cmo/DELATT/surf_flt imt1                                                        
finish                                                                          
cmo/DELATT/surf_flt itp1                                                        
finish                                                                          
cmo/DELATT/surf_flt icr1                                                        
finish                                                                          
cmo/DELATT/surf_flt isn1                                                        
finish                                                                          
cmo/DELATT/surf_flt xtetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt itetclr                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
region/r_fault_p/ge surf_flt                                                    
region/r_fault_n/lt surf_flt                                                    
pset/p_fault_p/region/r_fault_p                                                 
 
 THE PSET  p_fault_p  HAS        389 POINTS                                     
pset/p_fault_n/region/r_fault_n                                                 
 
 THE PSET  p_fault_n  HAS        389 POINTS                                     
cmo/addatt/cmosurf/n_flt/vint/scalar/nnodes/linear/permanent/agx/0/             
cmo/setatt/cmosurf/n_flt/pset get p_fault_p/2                                   
       389 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/n_flt/pset get p_fault_n/3                                   
       389 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/imt/1                                                        
       778 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_p/2                                     
       389 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_n/3                                     
       389 values reset for attribute imt1                                      
 
# check for continuous connectivity                                             
boundary_components/node/2                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               2
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                   2                 389                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
boundary_components/node/3                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               3
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                   4                 389                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
# color faces of each side                                                      
cmo/setatt/cmosurf/itetclr/1                                                    
       776 values reset for attribute itetclr                                   
 
# inclusive will include extra associated nodes                                 
eltset/epi/inclusive pset,get,p_fault_p                                         
 
 THE ELTSET epi                              HAS        426 ELEMENTS            
eltset/eni/inclusive pset,get,p_fault_n                                         
 
 THE ELTSET eni                              HAS        426 ELEMENTS            
# exclusive are only those attached to cells                                    
eltset/epe/exclusive pset,get,p_fault_p                                         
 
 THE ELTSET epe                              HAS        350 ELEMENTS            
eltset/ene/exclusive pset,get,p_fault_n                                         
 
 THE ELTSET ene                              HAS        350 ELEMENTS            
# remove extra attributes and subset side surfs                                 
define MO cmosurf                                                               
infile remove_attributes.mlgi                                                   
# define mesh object name                                                       
cmo/printatt/MO/-all- minmax                                                    
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00       778  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                         778              778               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                      776              776               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 2                2               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                4                4               0         1  
 edges_per_element                4                4               0         1  
 faces_per_element                4                4               0         1  
 isetwd                           1                2               1       778  
 ialias                           0                0               0       778  
 imt1                             2                3               1       778  
 itp1                             0                0               0       778  
 icr1                             0                0               0       778  
 isn1                             0                0               0       778  
 xic                1.400000000E+03  1.900000000E+03 5.000000000E+02       778  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03       778  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03       778  
 xtetwd                           3               10               7       776  
 itetclr                          1                1               0       776  
 itettyp                          4                4               0       776  
 itetoff                          0             3100            3100       776  
 jtetoff                          0             3100            3100       776  
 itet                             1              778             777       776x4
 jtet                             1             3104            3103       776x4
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilona           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilonv           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                        778              778               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 ymin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 zmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 xmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 ymax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 zmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  2                2               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 itetclr0                         0                0               0       776  
 itetclr1                         1                1               0       776  
 idnode0                          1              778             777       778  
 idelem0                          0                0               0       776  
 idelem1                          1              350             349       776  
 facecol                          1                1               0       776  
 idface0                          0                0               0       776  
 idface1                          1                6               5       776  
 vor_vol            2.500000000E+05  1.000000000E+06 7.500000000E+05       778  
 numbnd                           0                4               4       778  
 id_numb                          1                1               0       778  
 ncon50                         500              500               0         1  
 nconbnd                          1                1               0         1  
 icontab                          0                2               2       500  
 n_flt                            2                3               1       778  
 
cmo/DELATT/MO/itetclr0                                                          
cmo/DELATT/MO/itetclr1                                                          
cmo/DELATT/MO/idnode0                                                           
cmo/DELATT/MO/idelem0                                                           
cmo/DELATT/MO/idelem1                                                           
cmo/DELATT/MO/facecol                                                           
cmo/DELATT/MO/idface0                                                           
cmo/DELATT/MO/idface1                                                           
cmo/DELATT/MO/numbnd                                                            
cmo/DELATT/MO/id_numb                                                           
cmo/DELATT/MO/iign                                                              
DELATT no action, attribute does not exist: iign                                
cmo/DELATT/MO/ncon50                                                            
cmo/DELATT/MO/nconbnd                                                           
cmo/DELATT/MO/icontab                                                           
DELATT no action, attribute does not exist: icontab                             
cmo/DELATT/MO/facecol                                                           
DELATT no action, attribute does not exist: facecol                             
finish                                                                          
# create the thin sides of the fault mesh                                       
cmo/setatt/cmosurf/itetclr/eltset,get,epe/2                                     
       350 values reset for attribute itetclr                                   
 
cmo/setatt/cmosurf/itetclr/eltset,get,ene/3                                     
       350 values reset for attribute itetclr                                   
 
cmo/addatt/cmosurf/volume/cell_vol                                              
ADDATT/volume: creating new attribute: cell_vol                                 
dump/avs/tmp_surf_sides.inp/cmosurf                                             
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# negative side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 2                                                       
 
 THE ELTSET eduds                            HAS        426 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded        389 points plus parents, and         426 elements removed.       
rmpoint/compress                                                                
       389 points removed and          0 elements removed.                      
RMPOINT: new point count is          389                                        
RMPOINT: new element count is        350                                        
cmo/setatt/moside/imt/MATNO                                                     
       389 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
       350 values reset for attribute itetclr                                   
 
dump/avs/FILE_PFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault pos                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             6                6               0       389  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.000000000E+04  1.000000000E+04 0.000000000E+00       350  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            2.500000000E+05  1.000000000E+06 7.500000000E+05       389  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
# positive side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 3                                                       
 
 THE ELTSET eduds                            HAS        426 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded        389 points plus parents, and         426 elements removed.       
rmpoint/compress                                                                
       389 points removed and          0 elements removed.                      
RMPOINT: new point count is          389                                        
RMPOINT: new element count is        350                                        
cmo/setatt/moside/imt/MATNO                                                     
       389 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
       350 values reset for attribute itetclr                                   
 
dump/avs/FILE_NFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault neg                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             6                6               0       389  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.000000000E+04  1.000000000E+04 0.000000000E+00       350  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            2.500000000E+05  1.000000000E+06 7.500000000E+05       389  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
surface/surf_flt/remove                                                         
region/r_fault_p/remove                                                         
region/r_fault_n/remove                                                         
cmo/delete/surf_flt                                                             
     Released Mesh Object: surf_flt                                             
cmo/delete/cmosurf                                                              
     Released Mesh Object: cmosurf                                              
cmo/delete/moin                                                                 
     Released Mesh Object: moin                                                 
finish                                                                          
# Write files for level 0 fault 12                                              
define MOHEX movol                                                              
define MATNO 12                                                                 
define MOS mo_flt12                                                             
define FILE_FLT hex0_fault_12.inp                                               
define FILE_NFLT hex0_fault_12_side_n.inp                                       
define FILE_PFLT hex0_fault_12_side_p.inp                                       
infile extract_hex_fault.mlgi                                                   
# extract hex cells intersected by fault                                        
# input fault surface MOS and hex mesh MOHEX                                    
# write FILE_FLT                                                                
# Extract intersected fault cells                                               
cmo/copy/mo2/MOHEX                                                              
cmo/select/mo2                                                                  
intersect_elements/mo2/MOS/if_inter                                             
cmo/select/mo2                                                                  
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
cmo/addatt/mo2/if_inter/VINT/scalar/nelements/linear/permanent//0/              
finish                                                                          
 
         Element    Elems Searched  Elements Found  Percent Done                
           1346             4664            433       25 %                      
           2691             9289             39       50 %                      
           4036            14640             18       75 %                      
           5379            20780            495    Total Done                   
 
cmo/select/mo2                                                                  
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mo2/sbox                                                             
finish                                                                          
cmo/DELATT/mo2/v12                                                              
finish                                                                          
cmo/DELATT/mo2/linkt                                                            
finish                                                                          
cmo/DELATT/mo2/v2                                                               
finish                                                                          
finish                                                                          
eltset/e_inter/if_inter/gt/0                                                    
 
 THE ELTSET e_inter                          HAS        495 ELEMENTS            
eltset/eduds/not/e_inter                                                        
 
 THE ELTSET eduds                            HAS       5665 ELEMENTS            
rmpoint element eltset,get,eduds                                                
 Dudded       6144 points plus parents, and        5665 elements removed.       
rmpoint compress                                                                
      6144 points removed and          0 elements removed.                      
RMPOINT: new point count is         1101                                        
RMPOINT: new element count is        495                                        
resetpts itp                                                                    
geniee                                                                          
finish                                                                          
boundary_components/node                                                        
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/addatt/mo2/numbnd/vint/scalar/nnodes/linear/permanent/afgx/0/               
finish                                                                          
cmo/addatt/mo2/id_numb/vint/scalar/nnodes/linear/permanent/afgx/0/              
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/mo2/ikey_tmp/vint/scalar/nnodes///gax/0                              
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different exterior boundary components                   
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                   2                1099                                 
 
cmo/DELATT/mo2/ikey_tmp                                                         
finish                                                                          
log/tty/on                                                                      
finish                                                                          
dump/avs/FILE_FLT mo2                                                           
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for hex fault                                            
cmo/printatt/mo2/imt/minmax                                                     
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             1                1               0      1101  
 
cmo/printatt/mo2/itetlev/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                0               0       495  
 
cmo/printatt/mo2/cell_vol/minmax                                                
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.000000000E+06  1.000000000E+06 0.000000000E+00       495  
 
cmo/printatt/mo2/vor_vol/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            2.500000000E+05  1.000000000E+06 7.500000000E+05      1101  
 
cmo/delete/mo2                                                                  
     Released Mesh Object: mo2                                                  
finish                                                                          
infile extract_thin_faults.mlgi                                                 
# input hex fault read file FILE_FLT                                            
# input fault surface mesh object MOS                                           
# write files FILE_NFLT and FILE_PFLT                                           
# assign itetclr with MATNO                                                     
read/FILE_FLT/moin                                                              
read/avs/hex0_fault_12.inp/moin                                                 
cmo/addatt/moin/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf/0.0             
finish                                                                          
cmo/addatt/moin/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
cmo/addatt/moin/itetlev/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/cell_vol/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0     
finish                                                                          
cmo/addatt/moin/edgemin/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/edgemax/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/if_inter/VINT/scalar/nelements/linear/permanent/gxaf/0.0        
finish                                                                          
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: moin                                           
 
  1 Mesh Object name: mohex                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  5 Mesh Object name: movol                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  6 Mesh Object name: moin                                                      
    number of nodes =          1101        number of elements =          495    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
finish                                                                          
cmo/status/moin/brief                                                           
 
The current-mesh-object(CMO) is: moin                                           
 
  6 Mesh Object name: moin                                                      
    number of nodes =          1101        number of elements =          495    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/setatt/moin/itetclr 1                                                       
       495 values reset for attribute itetclr                                   
 
cmo/setatt/moin/imt 1                                                           
      1101 values reset for attribute imt1                                      
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
# extract outside surface of the fault                                          
extract/surfmesh/1,0,0/cmosurf/moin/external                                    
cmo/addatt/cmosurf/itetclr0/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/itetclr1/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/idnode0/vint/scalar/nnodes////0                              
finish                                                                          
cmo/addatt/cmosurf/idelem0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idelem1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/facecol/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf          
finish                                                                          
cmo/addatt/cmosurf/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf              
finish                                                                          
cmo/addatt/cmosurf/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf             
finish                                                                          
cmo/addatt/cmosurf/ncon50/int/scalar/scalar/constant/permanent/x/0              
finish                                                                          
cmo/addatt/cmosurf/nconbnd/int/scalar/scalar/constant/permanent/x/0             
finish                                                                          
cmo/addatt/cmosurf/icontab/vint/scalar/ncon50/constant/permanent/x/0            
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     5  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
cmo/select/cmosurf                                                              
# define the negative and positive sides of the fault                           
cmo/select/cmosurf                                                              
surface/surf_flt/reflect/sheet/MOS                                              
cmo/addatt//v2/INT/scalar/scalar/constant/permanent//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//permanent/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/permanent//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/permanent/x/0.0                   
finish                                                                          
log/tty/off                                                                     
finish                                                                          
cmo/DELATT/surf_flt isetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt ialias                                                      
finish                                                                          
cmo/DELATT/surf_flt imt1                                                        
finish                                                                          
cmo/DELATT/surf_flt itp1                                                        
finish                                                                          
cmo/DELATT/surf_flt icr1                                                        
finish                                                                          
cmo/DELATT/surf_flt isn1                                                        
finish                                                                          
cmo/DELATT/surf_flt xtetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt itetclr                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
region/r_fault_p/ge surf_flt                                                    
region/r_fault_n/lt surf_flt                                                    
pset/p_fault_p/region/r_fault_p                                                 
 
 THE PSET  p_fault_p  HAS        559 POINTS                                     
pset/p_fault_n/region/r_fault_n                                                 
 
 THE PSET  p_fault_n  HAS        540 POINTS                                     
cmo/addatt/cmosurf/n_flt/vint/scalar/nnodes/linear/permanent/agx/0/             
cmo/setatt/cmosurf/n_flt/pset get p_fault_p/2                                   
       559 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/n_flt/pset get p_fault_n/3                                   
       540 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/imt/1                                                        
      1099 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_p/2                                     
       559 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_n/3                                     
       540 values reset for attribute imt1                                      
 
# check for continuous connectivity                                             
boundary_components/node/2                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     5  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               2
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                   9                 559                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
boundary_components/node/3                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     5  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               3
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                   6                 540                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
# color faces of each side                                                      
cmo/setatt/cmosurf/itetclr/1                                                    
      1102 values reset for attribute itetclr                                   
 
# inclusive will include extra associated nodes                                 
eltset/epi/inclusive pset,get,p_fault_p                                         
 
 THE ELTSET epi                              HAS        621 ELEMENTS            
eltset/eni/inclusive pset,get,p_fault_n                                         
 
 THE ELTSET eni                              HAS        599 ELEMENTS            
# exclusive are only those attached to cells                                    
eltset/epe/exclusive pset,get,p_fault_p                                         
 
 THE ELTSET epe                              HAS        503 ELEMENTS            
eltset/ene/exclusive pset,get,p_fault_n                                         
 
 THE ELTSET ene                              HAS        481 ELEMENTS            
# remove extra attributes and subset side surfs                                 
define MO cmosurf                                                               
infile remove_attributes.mlgi                                                   
# define mesh object name                                                       
cmo/printatt/MO/-all- minmax                                                    
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00      1099  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                        1099             1099               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                     1102             1102               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 2                2               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                4                4               0         1  
 edges_per_element                4                4               0         1  
 faces_per_element                4                4               0         1  
 isetwd                           1                2               1      1099  
 ialias                           0                0               0      1099  
 imt1                             2                3               1      1099  
 itp1                             0                0               0      1099  
 icr1                             0                0               0      1099  
 isn1                             0                0               0      1099  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03      1099  
 yic                6.000000000E+02  2.000000000E+03 1.400000000E+03      1099  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03      1099  
 xtetwd                           3               10               7      1102  
 itetclr                          1                1               0      1102  
 itettyp                          4                4               0      1102  
 itetoff                          0             4404            4404      1102  
 jtetoff                          0             4404            4404      1102  
 itet                             1             1099            1098      1102x4
 jtet                             1         16000672        16000671      1102x4
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilona           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilonv           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                       1099             1099               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 ymin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 zmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 xmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 ymax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 zmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  2                2               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 itetclr0                         0                0               0      1102  
 itetclr1                         1                1               0      1102  
 idnode0                          1             1101            1100      1099  
 idelem0                          0                0               0      1102  
 idelem1                          1              495             494      1102  
 facecol                          1                1               0      1102  
 idface0                          0                0               0      1102  
 idface1                          1                6               5      1102  
 vor_vol            2.500000000E+05  1.000000000E+06 7.500000000E+05      1099  
 numbnd                           0                6               6      1099  
 id_numb                          1                1               0      1099  
 ncon50                         500              500               0         1  
 nconbnd                          1                1               0         1  
 icontab                          0                2               2       500  
 jtet_cycle_max                   4                4               0         1  
 n_flt                            2                3               1      1099  
 
cmo/DELATT/MO/itetclr0                                                          
cmo/DELATT/MO/itetclr1                                                          
cmo/DELATT/MO/idnode0                                                           
cmo/DELATT/MO/idelem0                                                           
cmo/DELATT/MO/idelem1                                                           
cmo/DELATT/MO/facecol                                                           
cmo/DELATT/MO/idface0                                                           
cmo/DELATT/MO/idface1                                                           
cmo/DELATT/MO/numbnd                                                            
cmo/DELATT/MO/id_numb                                                           
cmo/DELATT/MO/iign                                                              
DELATT no action, attribute does not exist: iign                                
cmo/DELATT/MO/ncon50                                                            
cmo/DELATT/MO/nconbnd                                                           
cmo/DELATT/MO/icontab                                                           
DELATT no action, attribute does not exist: icontab                             
cmo/DELATT/MO/facecol                                                           
DELATT no action, attribute does not exist: facecol                             
finish                                                                          
# create the thin sides of the fault mesh                                       
cmo/setatt/cmosurf/itetclr/eltset,get,epe/2                                     
       503 values reset for attribute itetclr                                   
 
cmo/setatt/cmosurf/itetclr/eltset,get,ene/3                                     
       481 values reset for attribute itetclr                                   
 
cmo/addatt/cmosurf/volume/cell_vol                                              
ADDATT/volume: creating new attribute: cell_vol                                 
dump/avs/tmp_surf_sides.inp/cmosurf                                             
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# negative side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 2                                                       
 
 THE ELTSET eduds                            HAS        599 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded        542 points plus parents, and         599 elements removed.       
rmpoint/compress                                                                
       542 points removed and          0 elements removed.                      
RMPOINT: new point count is          557                                        
RMPOINT: new element count is        503                                        
cmo/setatt/moside/imt/MATNO                                                     
       557 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
       503 values reset for attribute itetclr                                   
 
dump/avs/FILE_PFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault pos                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                            12               12               0       557  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.000000000E+04  1.000000000E+04 0.000000000E+00       503  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            2.500000000E+05  1.000000000E+06 7.500000000E+05       557  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
# positive side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 3                                                       
 
 THE ELTSET eduds                            HAS        621 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded        561 points plus parents, and         621 elements removed.       
rmpoint/compress                                                                
       561 points removed and          0 elements removed.                      
RMPOINT: new point count is          538                                        
RMPOINT: new element count is        481                                        
cmo/setatt/moside/imt/MATNO                                                     
       538 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
       481 values reset for attribute itetclr                                   
 
dump/avs/FILE_NFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault neg                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                            12               12               0       538  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.000000000E+04  1.000000000E+04 0.000000000E+00       481  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            2.500000000E+05  1.000000000E+06 7.500000000E+05       538  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
surface/surf_flt/remove                                                         
region/r_fault_p/remove                                                         
region/r_fault_n/remove                                                         
cmo/delete/surf_flt                                                             
     Released Mesh Object: surf_flt                                             
cmo/delete/cmosurf                                                              
     Released Mesh Object: cmosurf                                              
cmo/delete/moin                                                                 
     Released Mesh Object: moin                                                 
finish                                                                          
dump/hex0_attributes.inp/movol                                                  
dump/avs/hex0_attributes.inp/movol                                              
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
cmo/delete/movol                                                                
     Released Mesh Object: movol                                                
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: mohex                                          
 
  1 Mesh Object name: mohex                                                     
    number of nodes =          7245        number of elements =         6160    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
 
#----------------------------------------------                                 
# REFINE LEVEL 1 50m spacing                                                    
# refine intersected hex cells                                                  
cmo/select/mohex                                                                
intersect_elements/mohex/mo_faults/if_inter                                     
cmo/select/mohex                                                                
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
cmo/addatt/mohex/if_inter/VINT/scalar/nelements/linear/permanent//0/            
finish                                                                          
 
         Element    Elems Searched  Elements Found  Percent Done                
           2432             7585            348       25 %                      
           4863            16316            315       50 %                      
           7294            24741            142       75 %                      
           9723            35311            823    Total Done                   
 
cmo/select/mohex                                                                
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mohex/sbox                                                           
finish                                                                          
cmo/DELATT/mohex/v12                                                            
finish                                                                          
cmo/DELATT/mohex/linkt                                                          
finish                                                                          
cmo/DELATT/mohex/v2                                                             
finish                                                                          
finish                                                                          
eltset/e_refine/if_inter/gt/0                                                   
 
 THE ELTSET e_refine                         HAS        823 ELEMENTS            
refine/eltset/eltset get e_refine                                               
pset/refine_eltset_pset_tmp_abc_xyz/eltset/e_refine/                            
 
 THE PSET  refine_eltset_pset_tmp_abc_xyz  HAS       1770 POINTS                
finish                                                                          
refine/constant/imt1/linear/element/pset,get,refine_eltset_pset_tmp_abc_xyz/-1.,
0.,0./exclusive/                                                                
refine elements:                                                                
refine hex     :        840                                                     
cmo/addatt/mohex/itetpar/VINT/scalar/nelements/linear/permanent//0.0            
finish                                                                          
cmo/addatt/mohex/itetkid/VINT/scalar/nelements/linear/permanent//0.0            
finish                                                                          
cmo/addatt/mohex/itetlev/VINT/scalar/nelements/linear/permanent//0.0            
finish                                                                          
Element iteration:          1       840                                         
Octree refined elems: old=      6160 new=     12880                             
FILTER_SUBSET:Dudding duplicate points:        7423                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           0                                    
geniee                                                                          
finish                                                                          
finish                                                                          
pset/refine_eltset_pset_tmp_abc_xyz/delete/                                     
 
 PSET refine_e DELETED                                                          
 
finish                                                                          
cmo/setatt/mohex/if_inter/1 0 0/0                                               
     12880 values reset for attribute if_inter                                  
 
**** WRITE RESULTS ****                                                         
define MOHEX mohex                                                              
define MOVOL movol                                                              
# convert octree mesh to standard form add attributes                           
cmo/delete/MOVOL                                                                
Mesh Object release skipped, it does not exist: movol                           
grid2grid/tree_to_fe/MOVOL/MOHEX                                                
cmo/copy/movol/mohex                                                            
finish                                                                          
eltset/-parentset-/itetkid/gt/0                                                 
 
 THE ELTSET -parentset-                      HAS        840 ELEMENTS            
finish                                                                          
rmpoint/element/eltset,get,-parentset-                                          
 Dudded       7423 points plus parents, and         840 elements removed.       
finish                                                                          
rmpoint/compress                                                                
      7423 points removed and          0 elements removed.                      
RMPOINT: new point count is        15782                                        
RMPOINT: new element count is      12040                                        
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
eltset/-parentset-/delete                                                       
 
 ELTSET -parentset-                      DELETED                                
 
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :      12040                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.1250E+06 and  0.1895E+06:      6720                      
element volumes b/w  0.1895E+06 and  0.2872E+06:         0                      
element volumes b/w  0.2872E+06 and  0.4353E+06:         0                      
element volumes b/w  0.4353E+06 and  0.6598E+06:         0                      
element volumes b/w  0.6598E+06 and  0.1000E+07:      5320                      
min volume =   1.2500000E+05  max volume =   1.0000000E+06                      
-----------------------------------------------------------                     
     12040 total elements evaluated.                                            
 
finish                                                                          
dump/tmp_grid2grid.inp/MOVOL                                                    
dump/avs/tmp_grid2grid.inp/movol                                                
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :      12040                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.1250E+06 and  0.1895E+06:      6720                      
element volumes b/w  0.1895E+06 and  0.2872E+06:         0                      
element volumes b/w  0.2872E+06 and  0.4353E+06:         0                      
element volumes b/w  0.4353E+06 and  0.6598E+06:         0                      
element volumes b/w  0.6598E+06 and  0.1000E+07:      5320                      
min volume =   1.2500000E+05  max volume =   1.0000000E+06                      
-----------------------------------------------------------                     
     12040 total elements evaluated.                                            
 
infile hex_add_volumes.mlgi                                                     
# Create cell and node volume attributes                                        
# for resolution decisions based on volumes                                     
# define MOVOL as the hex mesh for added attributes                             
#        MOVOL is a standard mesh and not octree                                
#        grid2grid/tree_to_fe will convert to standard form                     
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =         15782        number of elements =        12040    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                1               1     12040  
 
# create tet voronoi attribute to put on hex nodes                              
cmo/create/motet                                                                
copypts/motet/MOVOL                                                             
copypts added nodes          1 to      15782                                    
cmo/select/motet                                                                
cmo/setatt/motet/imt/1                                                          
Warning: nelements = 0                                                          
     15782 values reset for attribute imt1                                      
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           0                                    
rmpoint compress                                                                
         0 points removed and          0 elements removed.                      
RMPOINT: new point count is        15782                                        
RMPOINT: new element count is          0                                        
connect                                                                         
 Coordinates of enclosing tetrahedron are:                                      
          -0.12500D+04   -0.13000D+04    0.12000D+04                            
          -0.12500D+04    0.87000D+04    0.47000D+04                            
          -0.12500D+04   -0.13000D+04    0.82000D+04                            
           0.97500D+04    0.12000D+04    0.47000D+04                            
 ntets=     31322     node index=     5000     nlstfail=       0 %done=  33.07  
 ntets=     60932     node index=    10000     nlstfail=       0 %done=  64.33  
 ntets=     85708     node index=    15000     nlstfail=       0 %done=  90.49  
 
 Successfully eliminated all multimaterial connections.                         
 
 The mesh is now complete!                                                      
 
LaGriT FINISH: connect                                                          
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :        546                          
elements with aspect ratio b/w .5  and 1. :      82696                          
min aspect ratio =  0.3440E+00  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.2083E+05 and  0.3627E+05:     43476                      
element volumes b/w  0.3627E+05 and  0.6315E+05:     10139                      
element volumes b/w  0.6315E+05 and  0.1100E+06:      4507                      
element volumes b/w  0.1100E+06 and  0.1914E+06:     23640                      
element volumes b/w  0.1914E+06 and  0.3333E+06:      1480                      
min volume =   2.0833333E+04  max volume =   3.3333333E+05                      
-----------------------------------------------------------                     
     83242 total elements evaluated.                                            
 
dump avs tmp_connect.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
cmo/addatt/motet/voronoi_volume/vor_vol                                         
ADDATT/voronoi_volume: creating new attribute: vor_vol                          
 
AMatbld3d_stor: Matrix compress_eps:  0.1000000E-07                             
AMatbld3d_stor: Local epsilon:  0.1000000E-14                                   
AMatbld3d_stor: *****Zero Negative Coefficients ******                          
AMatbld3d_stor: Number of 'zero' (< compress_eps) coefs         0               
AMatbld3d_stor: npoints =    15782  ncoefs =     124414                         
AMatbld3d_stor: Number of unique coefs =     70098                              
AMatbld3d_stor: Maximum num. connections to a node =         35                 
AMatbld3d_stor: Volume min =   3.1250000E+04                                    
AMatbld3d_stor: Volume max =   1.0000000E+06                                    
AMatbld3d_stor: Total Volume:   6.1600000E+09                                   
AMatbld3d_stor: abs(Aij/xij) min =   0.0000000E+00                              
AMatbld3d_stor: abs(Aij/xij) max =   1.1250000E+02                              
AMatbld3d_stor: (Aij/xij) max =   0.0000000E+00                                 
AMatbld3d_stor: (Aij/xij) min =  -1.1250000E+02                                 
AMatbld3d_stor Matrix coefficient values stored as scalar area/distance         
AMatbld3d_stor Matrix compression used for graph, not coefficient values        
motet attribute with voronoi volumes created with name vor_vol                  
 
*** SPARSE COEFFICIENT MATRIX _gstor SUCCESSFUL ***                             
 
3D Matrix Coefficient file written with name -notset-                           
 
dump avs tmp_vor_vol.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# interpolate from tet to hex mesh                                              
cmo/addatt/MOVOL/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/afgx/0.0/       
interpolate/voronoi/MOVOL vor_vol/1,0,0/motet vor_vol                           
nodes in indexed point set  =      15782                                        
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.100000100008E+07             
 
 
Build kdtree0 done - assign nearest node for each.                              
 
 
     Sink point   Points Searched   Points Found  Percent Done                  
 
            790              790            790        5 %                      
           1579             1579           1579       10 %                      
           2368             2368           2368       15 %                      
           3157             3157           3157       20 %                      
           3946             3946           3946       25 %                      
           4735             4735           4735       30 %                      
           5524             5524           5524       35 %                      
           6313             6313           6313       40 %                      
           7102             7102           7102       45 %                      
           7891             7891           7891       50 %                      
           8680             8680           8680       55 %                      
           9469             9469           9469       60 %                      
          10258            10258          10258       65 %                      
          11047            11047          11047       70 %                      
          11836            11836          11836       75 %                      
          12625            12625          12625       80 %                      
          13414            13414          13414       85 %                      
          14203            14203          14203       90 %                      
          14992            14992          14992       95 %                      
          15781            15781          15781      100 %                      
          15782            15782          15782       100%                      
 
Total Source Nodes:                   15782                                     
Total Sink   Nodes:                   15782                                     
 
 
interpolate/voronoi done.                                                       
 
cmo select movol                                                                
finish                                                                          
cmo kdtree release                                                              
finish                                                                          
cmo/delete/motet                                                                
     Released Mesh Object: motet                                                
# add more attributes                                                           
cmo/addatt/MOVOL/volume/cell_vol                                                
ADDATT/volume: creating new attribute: cell_vol                                 
quality/edge_min/y                                                              
cmo/addatt//edgemin/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge min normalized by dividing with max value.                                 
element norm min edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :          0                            
element norm edge length b/w .2  and .5 :       6720                            
element norm edge length b/w .5  and 1. :       5320                            
min min edge length =  0.5000E+02  max min edge length =  0.1000E+03            
-----------------------------------------------------------                     
     12040 total elements evaluated.                                            
 
quality/edge_max/y                                                              
cmo/addatt//edgemax/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge max normalized by dividing with max value.                                 
element norm max edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :          0                            
element norm edge length b/w .2  and .5 :       6720                            
element norm edge length b/w .5  and 1. :       5320                            
min max edge length =  0.5000E+02  max max edge length =  0.1000E+03            
-----------------------------------------------------------                     
     12040 total elements evaluated.                                            
 
dump avs tmp_attributes.inp MOVOL                                               
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# minmax of added attributes                                                    
cmo/printatt/MOVOL/-all- minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00     15782  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                       15782            15782               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                    12040            12040               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 3                3               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                8                8               0         1  
 edges_per_element               12               12               0         1  
 faces_per_element                6                6               0         1  
 isetwd                           0                0               0     15782  
 ialias                           0            23205           23205     15782  
 imt1                             1                1               0     15782  
 itp1                             0               10              10     15782  
 icr1                             0                0               0     15782  
 isn1                             0                0               0     15782  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03     15782  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03     15782  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03     15782  
 xtetwd                           0                0               0     12040  
 itetclr                          1                1               0     12040  
 itettyp                          8                8               0     12040  
 itetoff                          0            96312           96312     12040  
 jtetoff                          0            72234           72234     12040  
 itet                             1            15782           15781     12040x8
 jtet                             2         16000000        15999998     12040x6
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           7.297130333E-10  7.297130333E-10 0.000000000E+00         1  
 epsilona           2.398081733E-06  2.398081733E-06 0.000000000E+00         1  
 epsilonv           1.367794766E-03  1.367794766E-03 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                      15782            15782               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin               4.000000000E+02  4.000000000E+02 0.000000000E+00         1  
 ymin               2.000000000E+02  2.000000000E+02 0.000000000E+00         1  
 zmin               4.000000000E+03  4.000000000E+03 0.000000000E+00         1  
 xmax               2.600000000E+03  2.600000000E+03 0.000000000E+00         1  
 ymax               2.200000000E+03  2.200000000E+03 0.000000000E+00         1  
 zmax               5.400000000E+03  5.400000000E+03 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  0                0               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 if_inter                         0                0               0     12040  
 itetpar                          0             6149            6149     12040  
 itetkid                          0                0               0     12040  
 itetlev                          0                1               1     12040  
 vor_vol            3.124999999E+04  1.000000000E+06 9.687500001E+05     15782  
 cell_vol           1.250000000E+05  1.000000000E+06 8.750000000E+05     12040  
 edgemin            5.000000000E+01  1.000000000E+02 5.000000000E+01     12040  
 edgemax            5.000000000E+01  1.000000000E+02 5.000000000E+01     12040  
 
# check hex arrays                                                              
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                1               1     12040  
 
cmo/printatt/MOVOL/vor_vol/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            3.124999999E+04  1.000000000E+06 9.687500001E+05     15782  
 
cmo/printatt/MOVOL/vor_vol/1,5,1                                                
Attribute: vor_vol                                                              
         1  1.25000E+05                                                         
         2  2.50000E+05                                                         
         3  2.50000E+05                                                         
         4  2.50000E+05                                                         
         5  2.50000E+05                                                         
 
cmo/printatt/MOVOL/cell_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.250000000E+05  1.000000000E+06 8.750000000E+05     12040  
 
cmo/printatt/MOVOL/cell_vol/1,5,1                                               
Attribute: cell_vol                                                             
         1  1.00000E+06                                                         
         2  1.00000E+06                                                         
         3  1.00000E+06                                                         
         4  1.00000E+06                                                         
         5  1.00000E+06                                                         
 
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =         15782        number of elements =        12040    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
# end infile macro hex_add_volumes.mlgi                                         
finish                                                                          
# Write files for level 1 fault 6                                               
define MOHEX movol                                                              
define MATNO 6                                                                  
define MOS mo_flt6                                                              
define FILE_FLT hex1_fault_6.inp                                                
define FILE_NFLT hex1_fault_6_side_n.inp                                        
define FILE_PFLT hex1_fault_6_side_p.inp                                        
infile extract_hex_fault.mlgi                                                   
# extract hex cells intersected by fault                                        
# input fault surface MOS and hex mesh MOHEX                                    
# write FILE_FLT                                                                
# Extract intersected fault cells                                               
cmo/copy/mo2/MOHEX                                                              
cmo/select/mo2                                                                  
intersect_elements/mo2/MOS/if_inter                                             
cmo/select/mo2                                                                  
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
intersect_elements using previously defined attribute: if_inter                 
 
         Element    Elems Searched  Elements Found  Percent Done                
            218             1597            395        5 %                      
            435             2792            201       10 %                      
            652             4169            223       15 %                      
            869             5499            162       20 %                      
           1086             7060            117       25 %                      
           1303             8429             76       30 %                      
           1520             9982             64       35 %                      
           1737            11369             43       40 %                      
           1954            12617             24       45 %                      
           2171            14180             16       50 %                      
           2388            15658             31       55 %                      
           2605            17806             16       60 %                      
           2822            18778              2       65 %                      
           3039            20238              8       70 %                      
           3256            21731              3       75 %                      
           3473            23023              0       80 %                      
           3690            24794              2       85 %                      
           3907            25993              1       90 %                      
           4124            27773              1       95 %                      
           4341            29713              2      100 %                      
           4344            29713           1387    Total Done                   
 
cmo/select/mo2                                                                  
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mo2/sbox                                                             
finish                                                                          
cmo/DELATT/mo2/v12                                                              
finish                                                                          
cmo/DELATT/mo2/linkt                                                            
finish                                                                          
cmo/DELATT/mo2/v2                                                               
finish                                                                          
finish                                                                          
eltset/e_inter/if_inter/gt/0                                                    
 
 THE ELTSET e_inter                          HAS       1387 ELEMENTS            
eltset/eduds/not/e_inter                                                        
 
 THE ELTSET eduds                            HAS      10653 ELEMENTS            
rmpoint element eltset,get,eduds                                                
 Dudded      12856 points plus parents, and       10653 elements removed.       
rmpoint compress                                                                
     12856 points removed and          0 elements removed.                      
RMPOINT: new point count is         2926                                        
RMPOINT: new element count is       1387                                        
resetpts itp                                                                    
geniee                                                                          
finish                                                                          
boundary_components/node                                                        
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/addatt/mo2/numbnd/vint/scalar/nnodes/linear/permanent/afgx/0/               
finish                                                                          
cmo/addatt/mo2/id_numb/vint/scalar/nnodes/linear/permanent/afgx/0/              
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/mo2/ikey_tmp/vint/scalar/nnodes///gax/0                              
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different exterior boundary components                   
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                 434                2926                                 
 
cmo/DELATT/mo2/ikey_tmp                                                         
finish                                                                          
log/tty/on                                                                      
finish                                                                          
dump/avs/FILE_FLT mo2                                                           
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for hex fault                                            
cmo/printatt/mo2/imt/minmax                                                     
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             1                1               0      2926  
 
cmo/printatt/mo2/itetlev/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          1                1               0      1387  
 
cmo/printatt/mo2/cell_vol/minmax                                                
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.250000000E+05  1.250000000E+05 0.000000000E+00      1387  
 
cmo/printatt/mo2/vor_vol/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            3.125000000E+04  2.187500000E+05 1.875000000E+05      2926  
 
cmo/delete/mo2                                                                  
     Released Mesh Object: mo2                                                  
finish                                                                          
infile extract_thin_faults.mlgi                                                 
# input hex fault read file FILE_FLT                                            
# input fault surface mesh object MOS                                           
# write files FILE_NFLT and FILE_PFLT                                           
# assign itetclr with MATNO                                                     
read/FILE_FLT/moin                                                              
read/avs/hex1_fault_6.inp/moin                                                  
cmo/addatt/moin/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf/0.0             
finish                                                                          
cmo/addatt/moin/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
cmo/addatt/moin/if_inter/VINT/scalar/nelements/linear/permanent/gxaf/0.0        
finish                                                                          
cmo/addatt/moin/itetpar/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetkid/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetlev/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/cell_vol/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0     
finish                                                                          
cmo/addatt/moin/edgemin/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/edgemax/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: moin                                           
 
  1 Mesh Object name: mohex                                                     
    number of nodes =         23205        number of elements =        12880    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  5 Mesh Object name: movol                                                     
    number of nodes =         15782        number of elements =        12040    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  6 Mesh Object name: moin                                                      
    number of nodes =          2926        number of elements =         1387    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
finish                                                                          
cmo/status/moin/brief                                                           
 
The current-mesh-object(CMO) is: moin                                           
 
  6 Mesh Object name: moin                                                      
    number of nodes =          2926        number of elements =         1387    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/setatt/moin/itetclr 1                                                       
      1387 values reset for attribute itetclr                                   
 
cmo/setatt/moin/imt 1                                                           
      2926 values reset for attribute imt1                                      
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
# extract outside surface of the fault                                          
extract/surfmesh/1,0,0/cmosurf/moin/external                                    
cmo/addatt/cmosurf/itetclr0/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/itetclr1/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/idnode0/vint/scalar/nnodes////0                              
finish                                                                          
cmo/addatt/cmosurf/idelem0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idelem1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/facecol/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf          
finish                                                                          
cmo/addatt/cmosurf/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf              
finish                                                                          
cmo/addatt/cmosurf/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf             
finish                                                                          
cmo/addatt/cmosurf/ncon50/int/scalar/scalar/constant/permanent/x/0              
finish                                                                          
cmo/addatt/cmosurf/nconbnd/int/scalar/scalar/constant/permanent/x/0             
finish                                                                          
cmo/addatt/cmosurf/icontab/vint/scalar/ncon50/constant/permanent/x/0            
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/select/cmosurf                                                              
# define the negative and positive sides of the fault                           
cmo/select/cmosurf                                                              
surface/surf_flt/reflect/sheet/MOS                                              
cmo/addatt//v2/INT/scalar/scalar/constant/permanent//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//permanent/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/permanent//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/permanent/x/0.0                   
finish                                                                          
log/tty/off                                                                     
finish                                                                          
cmo/DELATT/surf_flt isetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt ialias                                                      
finish                                                                          
cmo/DELATT/surf_flt imt1                                                        
finish                                                                          
cmo/DELATT/surf_flt itp1                                                        
finish                                                                          
cmo/DELATT/surf_flt icr1                                                        
finish                                                                          
cmo/DELATT/surf_flt isn1                                                        
finish                                                                          
cmo/DELATT/surf_flt xtetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt itetclr                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
region/r_fault_p/ge surf_flt                                                    
region/r_fault_n/lt surf_flt                                                    
pset/p_fault_p/region/r_fault_p                                                 
 
 THE PSET  p_fault_p  HAS       1463 POINTS                                     
pset/p_fault_n/region/r_fault_n                                                 
 
 THE PSET  p_fault_n  HAS       1463 POINTS                                     
cmo/addatt/cmosurf/n_flt/vint/scalar/nnodes/linear/permanent/agx/0/             
cmo/setatt/cmosurf/n_flt/pset get p_fault_p/2                                   
      1463 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/n_flt/pset get p_fault_n/3                                   
      1463 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/imt/1                                                        
      2926 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_p/2                                     
      1463 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_n/3                                     
      1463 values reset for attribute imt1                                      
 
# check for continuous connectivity                                             
boundary_components/node/2                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               2
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                2726                1463                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
boundary_components/node/3                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               3
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                   4                1463                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
# color faces of each side                                                      
cmo/setatt/cmosurf/itetclr/1                                                    
      2924 values reset for attribute itetclr                                   
 
# inclusive will include extra associated nodes                                 
eltset/epi/inclusive pset,get,p_fault_p                                         
 
 THE ELTSET epi                              HAS       1537 ELEMENTS            
eltset/eni/inclusive pset,get,p_fault_n                                         
 
 THE ELTSET eni                              HAS       1537 ELEMENTS            
# exclusive are only those attached to cells                                    
eltset/epe/exclusive pset,get,p_fault_p                                         
 
 THE ELTSET epe                              HAS       1387 ELEMENTS            
eltset/ene/exclusive pset,get,p_fault_n                                         
 
 THE ELTSET ene                              HAS       1387 ELEMENTS            
# remove extra attributes and subset side surfs                                 
define MO cmosurf                                                               
infile remove_attributes.mlgi                                                   
# define mesh object name                                                       
cmo/printatt/MO/-all- minmax                                                    
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00      2926  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                        2926             2926               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                     2924             2924               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 2                2               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                4                4               0         1  
 edges_per_element                4                4               0         1  
 faces_per_element                4                4               0         1  
 isetwd                           1                2               1      2926  
 ialias                           0                0               0      2926  
 imt1                             2                3               1      2926  
 itp1                             0                0               0      2926  
 icr1                             0                0               0      2926  
 isn1                             0                0               0      2926  
 xic                1.450000000E+03  1.850000000E+03 4.000000000E+02      2926  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03      2926  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03      2926  
 xtetwd                           3               10               7      2924  
 itetclr                          1                1               0      2924  
 itettyp                          4                4               0      2924  
 itetoff                          0            11692           11692      2924  
 jtetoff                          0            11692           11692      2924  
 itet                             1             2926            2925      2924x4
 jtet                             1            11696           11695      2924x4
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilona           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilonv           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                       2926             2926               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 ymin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 zmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 xmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 ymax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 zmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  2                2               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 itetclr0                         0                0               0      2924  
 itetclr1                         1                1               0      2924  
 idnode0                          1             2926            2925      2926  
 idelem0                          0                0               0      2924  
 idelem1                          1             1387            1386      2924  
 facecol                          1                1               0      2924  
 idface0                          0                0               0      2924  
 idface1                          1                6               5      2924  
 vor_vol            3.125000000E+04  2.187500000E+05 1.875000000E+05      2926  
 numbnd                           0                4               4      2926  
 id_numb                          1                1               0      2926  
 ncon50                         500              500               0         1  
 nconbnd                          1                1               0         1  
 icontab                          0                2               2       500  
 n_flt                            2                3               1      2926  
 
cmo/DELATT/MO/itetclr0                                                          
cmo/DELATT/MO/itetclr1                                                          
cmo/DELATT/MO/idnode0                                                           
cmo/DELATT/MO/idelem0                                                           
cmo/DELATT/MO/idelem1                                                           
cmo/DELATT/MO/facecol                                                           
cmo/DELATT/MO/idface0                                                           
cmo/DELATT/MO/idface1                                                           
cmo/DELATT/MO/numbnd                                                            
cmo/DELATT/MO/id_numb                                                           
cmo/DELATT/MO/iign                                                              
DELATT no action, attribute does not exist: iign                                
cmo/DELATT/MO/ncon50                                                            
cmo/DELATT/MO/nconbnd                                                           
cmo/DELATT/MO/icontab                                                           
DELATT no action, attribute does not exist: icontab                             
cmo/DELATT/MO/facecol                                                           
DELATT no action, attribute does not exist: facecol                             
finish                                                                          
# create the thin sides of the fault mesh                                       
cmo/setatt/cmosurf/itetclr/eltset,get,epe/2                                     
      1387 values reset for attribute itetclr                                   
 
cmo/setatt/cmosurf/itetclr/eltset,get,ene/3                                     
      1387 values reset for attribute itetclr                                   
 
cmo/addatt/cmosurf/volume/cell_vol                                              
ADDATT/volume: creating new attribute: cell_vol                                 
dump/avs/tmp_surf_sides.inp/cmosurf                                             
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# negative side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 2                                                       
 
 THE ELTSET eduds                            HAS       1537 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded       1463 points plus parents, and        1537 elements removed.       
rmpoint/compress                                                                
      1463 points removed and          0 elements removed.                      
RMPOINT: new point count is         1463                                        
RMPOINT: new element count is       1387                                        
cmo/setatt/moside/imt/MATNO                                                     
      1463 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
      1387 values reset for attribute itetclr                                   
 
dump/avs/FILE_PFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault pos                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             6                6               0      1463  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           2.500000000E+03  2.500000000E+03 0.000000000E+00      1387  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            3.125000000E+04  2.187500000E+05 1.875000000E+05      1463  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
# positive side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 3                                                       
 
 THE ELTSET eduds                            HAS       1537 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded       1463 points plus parents, and        1537 elements removed.       
rmpoint/compress                                                                
      1463 points removed and          0 elements removed.                      
RMPOINT: new point count is         1463                                        
RMPOINT: new element count is       1387                                        
cmo/setatt/moside/imt/MATNO                                                     
      1463 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
      1387 values reset for attribute itetclr                                   
 
dump/avs/FILE_NFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault neg                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             6                6               0      1463  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           2.500000000E+03  2.500000000E+03 0.000000000E+00      1387  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            3.125000000E+04  2.187500000E+05 1.875000000E+05      1463  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
surface/surf_flt/remove                                                         
region/r_fault_p/remove                                                         
region/r_fault_n/remove                                                         
cmo/delete/surf_flt                                                             
     Released Mesh Object: surf_flt                                             
cmo/delete/cmosurf                                                              
     Released Mesh Object: cmosurf                                              
cmo/delete/moin                                                                 
     Released Mesh Object: moin                                                 
finish                                                                          
# Write files for level 1 fault 12                                              
define MOHEX movol                                                              
define MATNO 12                                                                 
define MOS mo_flt12                                                             
define FILE_FLT hex1_fault_12.inp                                               
define FILE_NFLT hex1_fault_12_side_n.inp                                       
define FILE_PFLT hex1_fault_12_side_p.inp                                       
infile extract_hex_fault.mlgi                                                   
# extract hex cells intersected by fault                                        
# input fault surface MOS and hex mesh MOHEX                                    
# write FILE_FLT                                                                
# Extract intersected fault cells                                               
cmo/copy/mo2/MOHEX                                                              
cmo/select/mo2                                                                  
intersect_elements/mo2/MOS/if_inter                                             
cmo/select/mo2                                                                  
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
intersect_elements using previously defined attribute: if_inter                 
 
         Element    Elems Searched  Elements Found  Percent Done                
            270             1336            360        5 %                      
            539             3219            438       10 %                      
            808             4970            242       15 %                      
           1077             6862            246       20 %                      
           1346             8490            141       25 %                      
           1615            10193             99       30 %                      
           1884            12329             81       35 %                      
           2153            13634             47       40 %                      
           2422            15475             53       45 %                      
           2691            17327             36       50 %                      
           2960            19134             30       55 %                      
           3229            21201             39       60 %                      
           3498            22867             27       65 %                      
           3767            25146             23       70 %                      
           4036            27027             18       75 %                      
           4305            29025             14       80 %                      
           4574            31083             15       85 %                      
           4843            33721             10       90 %                      
           5112            35896              3       95 %                      
           5379            38254           1928    Total Done                   
 
cmo/select/mo2                                                                  
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mo2/sbox                                                             
finish                                                                          
cmo/DELATT/mo2/v12                                                              
finish                                                                          
cmo/DELATT/mo2/linkt                                                            
finish                                                                          
cmo/DELATT/mo2/v2                                                               
finish                                                                          
finish                                                                          
eltset/e_inter/if_inter/gt/0                                                    
 
 THE ELTSET e_inter                          HAS       1928 ELEMENTS            
eltset/eduds/not/e_inter                                                        
 
 THE ELTSET eduds                            HAS      10112 ELEMENTS            
rmpoint element eltset,get,eduds                                                
 Dudded      11678 points plus parents, and       10112 elements removed.       
rmpoint compress                                                                
     11678 points removed and          0 elements removed.                      
RMPOINT: new point count is         4104                                        
RMPOINT: new element count is       1928                                        
resetpts itp                                                                    
geniee                                                                          
finish                                                                          
boundary_components/node                                                        
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/addatt/mo2/numbnd/vint/scalar/nnodes/linear/permanent/afgx/0/               
finish                                                                          
cmo/addatt/mo2/id_numb/vint/scalar/nnodes/linear/permanent/afgx/0/              
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/mo2/ikey_tmp/vint/scalar/nnodes///gax/0                              
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different exterior boundary components                   
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                 549                4095                                 
 
cmo/DELATT/mo2/ikey_tmp                                                         
finish                                                                          
log/tty/on                                                                      
finish                                                                          
dump/avs/FILE_FLT mo2                                                           
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for hex fault                                            
cmo/printatt/mo2/imt/minmax                                                     
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             1                1               0      4104  
 
cmo/printatt/mo2/itetlev/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          1                1               0      1928  
 
cmo/printatt/mo2/cell_vol/minmax                                                
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.250000000E+05  1.250000000E+05 0.000000000E+00      1928  
 
cmo/printatt/mo2/vor_vol/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            3.124999999E+04  3.294270833E+05 2.981770833E+05      4104  
 
cmo/delete/mo2                                                                  
     Released Mesh Object: mo2                                                  
finish                                                                          
infile extract_thin_faults.mlgi                                                 
# input hex fault read file FILE_FLT                                            
# input fault surface mesh object MOS                                           
# write files FILE_NFLT and FILE_PFLT                                           
# assign itetclr with MATNO                                                     
read/FILE_FLT/moin                                                              
read/avs/hex1_fault_12.inp/moin                                                 
cmo/addatt/moin/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf/0.0             
finish                                                                          
cmo/addatt/moin/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
cmo/addatt/moin/if_inter/VINT/scalar/nelements/linear/permanent/gxaf/0.0        
finish                                                                          
cmo/addatt/moin/itetpar/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetkid/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetlev/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/cell_vol/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0     
finish                                                                          
cmo/addatt/moin/edgemin/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/edgemax/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: moin                                           
 
  1 Mesh Object name: mohex                                                     
    number of nodes =         23205        number of elements =        12880    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  5 Mesh Object name: movol                                                     
    number of nodes =         15782        number of elements =        12040    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  6 Mesh Object name: moin                                                      
    number of nodes =          4104        number of elements =         1928    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
finish                                                                          
cmo/status/moin/brief                                                           
 
The current-mesh-object(CMO) is: moin                                           
 
  6 Mesh Object name: moin                                                      
    number of nodes =          4104        number of elements =         1928    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/setatt/moin/itetclr 1                                                       
      1928 values reset for attribute itetclr                                   
 
cmo/setatt/moin/imt 1                                                           
      4104 values reset for attribute imt1                                      
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
# extract outside surface of the fault                                          
extract/surfmesh/1,0,0/cmosurf/moin/external                                    
cmo/addatt/cmosurf/itetclr0/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/itetclr1/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/idnode0/vint/scalar/nnodes////0                              
finish                                                                          
cmo/addatt/cmosurf/idelem0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idelem1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/facecol/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf          
finish                                                                          
cmo/addatt/cmosurf/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf              
finish                                                                          
cmo/addatt/cmosurf/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf             
finish                                                                          
cmo/addatt/cmosurf/ncon50/int/scalar/scalar/constant/permanent/x/0              
finish                                                                          
cmo/addatt/cmosurf/nconbnd/int/scalar/scalar/constant/permanent/x/0             
finish                                                                          
cmo/addatt/cmosurf/icontab/vint/scalar/ncon50/constant/permanent/x/0            
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
cmo/select/cmosurf                                                              
# define the negative and positive sides of the fault                           
cmo/select/cmosurf                                                              
surface/surf_flt/reflect/sheet/MOS                                              
cmo/addatt//v2/INT/scalar/scalar/constant/permanent//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//permanent/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/permanent//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/permanent/x/0.0                   
finish                                                                          
log/tty/off                                                                     
finish                                                                          
cmo/DELATT/surf_flt isetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt ialias                                                      
finish                                                                          
cmo/DELATT/surf_flt imt1                                                        
finish                                                                          
cmo/DELATT/surf_flt itp1                                                        
finish                                                                          
cmo/DELATT/surf_flt icr1                                                        
finish                                                                          
cmo/DELATT/surf_flt isn1                                                        
finish                                                                          
cmo/DELATT/surf_flt xtetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt itetclr                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
region/r_fault_p/ge surf_flt                                                    
region/r_fault_n/lt surf_flt                                                    
pset/p_fault_p/region/r_fault_p                                                 
 
 THE PSET  p_fault_p  HAS       2084 POINTS                                     
pset/p_fault_n/region/r_fault_n                                                 
 
 THE PSET  p_fault_n  HAS       2011 POINTS                                     
cmo/addatt/cmosurf/n_flt/vint/scalar/nnodes/linear/permanent/agx/0/             
cmo/setatt/cmosurf/n_flt/pset get p_fault_p/2                                   
      2084 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/n_flt/pset get p_fault_n/3                                   
      2011 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/imt/1                                                        
      4095 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_p/2                                     
      2084 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_n/3                                     
      2011 values reset for attribute imt1                                      
 
# check for continuous connectivity                                             
boundary_components/node/2                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               2
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                  37                2084                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
boundary_components/node/3                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               3
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                 108                2011                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
# color faces of each side                                                      
cmo/setatt/cmosurf/itetclr/1                                                    
      4094 values reset for attribute itetclr                                   
 
# inclusive will include extra associated nodes                                 
eltset/epi/inclusive pset,get,p_fault_p                                         
 
 THE ELTSET epi                              HAS       2215 ELEMENTS            
eltset/eni/inclusive pset,get,p_fault_n                                         
 
 THE ELTSET eni                              HAS       2145 ELEMENTS            
# exclusive are only those attached to cells                                    
eltset/epe/exclusive pset,get,p_fault_p                                         
 
 THE ELTSET epe                              HAS       1949 ELEMENTS            
eltset/ene/exclusive pset,get,p_fault_n                                         
 
 THE ELTSET ene                              HAS       1879 ELEMENTS            
# remove extra attributes and subset side surfs                                 
define MO cmosurf                                                               
infile remove_attributes.mlgi                                                   
# define mesh object name                                                       
cmo/printatt/MO/-all- minmax                                                    
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00      4095  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                        4095             4095               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                     4094             4094               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 2                2               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                4                4               0         1  
 edges_per_element                4                4               0         1  
 faces_per_element                4                4               0         1  
 isetwd                           1                2               1      4095  
 ialias                           0                0               0      4095  
 imt1                             2                3               1      4095  
 itp1                             0                0               0      4095  
 icr1                             0                0               0      4095  
 isn1                             0                0               0      4095  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03      4095  
 yic                6.000000000E+02  2.000000000E+03 1.400000000E+03      4095  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03      4095  
 xtetwd                           3               10               7      4094  
 itetclr                          1                1               0      4094  
 itettyp                          4                4               0      4094  
 itetoff                          0            16372           16372      4094  
 jtetoff                          0            16372           16372      4094  
 itet                             1             4095            4094      4094x4
 jtet                             1         16000844        16000843      4094x4
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilona           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilonv           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                       4095             4095               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 ymin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 zmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 xmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 ymax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 zmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  2                2               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 itetclr0                         0                0               0      4094  
 itetclr1                         1                1               0      4094  
 idnode0                          1             4104            4103      4095  
 idelem0                          0                0               0      4094  
 idelem1                          1             1928            1927      4094  
 facecol                          1                1               0      4094  
 idface0                          0                0               0      4094  
 idface1                          1                6               5      4094  
 vor_vol            3.124999999E+04  3.294270833E+05 2.981770833E+05      4095  
 numbnd                           0              108             108      4095  
 id_numb                          1                1               0      4095  
 ncon50                         500              500               0         1  
 nconbnd                          1                1               0         1  
 icontab                          0                2               2       500  
 jtet_cycle_max                   4                4               0         1  
 n_flt                            2                3               1      4095  
 
cmo/DELATT/MO/itetclr0                                                          
cmo/DELATT/MO/itetclr1                                                          
cmo/DELATT/MO/idnode0                                                           
cmo/DELATT/MO/idelem0                                                           
cmo/DELATT/MO/idelem1                                                           
cmo/DELATT/MO/facecol                                                           
cmo/DELATT/MO/idface0                                                           
cmo/DELATT/MO/idface1                                                           
cmo/DELATT/MO/numbnd                                                            
cmo/DELATT/MO/id_numb                                                           
cmo/DELATT/MO/iign                                                              
DELATT no action, attribute does not exist: iign                                
cmo/DELATT/MO/ncon50                                                            
cmo/DELATT/MO/nconbnd                                                           
cmo/DELATT/MO/icontab                                                           
DELATT no action, attribute does not exist: icontab                             
cmo/DELATT/MO/facecol                                                           
DELATT no action, attribute does not exist: facecol                             
finish                                                                          
# create the thin sides of the fault mesh                                       
cmo/setatt/cmosurf/itetclr/eltset,get,epe/2                                     
      1949 values reset for attribute itetclr                                   
 
cmo/setatt/cmosurf/itetclr/eltset,get,ene/3                                     
      1879 values reset for attribute itetclr                                   
 
cmo/addatt/cmosurf/volume/cell_vol                                              
ADDATT/volume: creating new attribute: cell_vol                                 
dump/avs/tmp_surf_sides.inp/cmosurf                                             
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# negative side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 2                                                       
 
 THE ELTSET eduds                            HAS       2145 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded       2011 points plus parents, and        2145 elements removed.       
rmpoint/compress                                                                
      2011 points removed and          0 elements removed.                      
RMPOINT: new point count is         2084                                        
RMPOINT: new element count is       1949                                        
cmo/setatt/moside/imt/MATNO                                                     
      2084 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
      1949 values reset for attribute itetclr                                   
 
dump/avs/FILE_PFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault pos                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                            12               12               0      2084  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           2.500000000E+03  2.500000000E+03 0.000000000E+00      1949  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            3.124999999E+04  2.881944444E+05 2.569444445E+05      2084  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
# positive side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 3                                                       
 
 THE ELTSET eduds                            HAS       2215 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded       2089 points plus parents, and        2215 elements removed.       
rmpoint/compress                                                                
      2089 points removed and          0 elements removed.                      
RMPOINT: new point count is         2006                                        
RMPOINT: new element count is       1879                                        
cmo/setatt/moside/imt/MATNO                                                     
      2006 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
      1879 values reset for attribute itetclr                                   
 
dump/avs/FILE_NFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault neg                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                            12               12               0      2006  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           2.500000000E+03  2.500000000E+03 0.000000000E+00      1879  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            3.125000000E+04  3.294270833E+05 2.981770833E+05      2006  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
surface/surf_flt/remove                                                         
region/r_fault_p/remove                                                         
region/r_fault_n/remove                                                         
cmo/delete/surf_flt                                                             
     Released Mesh Object: surf_flt                                             
cmo/delete/cmosurf                                                              
     Released Mesh Object: cmosurf                                              
cmo/delete/moin                                                                 
     Released Mesh Object: moin                                                 
finish                                                                          
dump/hex1_attributes.inp/movol                                                  
dump/avs/hex1_attributes.inp/movol                                              
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
cmo/delete/movol                                                                
     Released Mesh Object: movol                                                
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: mohex                                          
 
  1 Mesh Object name: mohex                                                     
    number of nodes =         23205        number of elements =        12880    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
 
#----------------------------------------------                                 
# REFINE LEVELS 2 and 3 to 12.5m spacing                                        
# USE LOOP through LEVELS                                                       
# Syntax                                                                        
# loop/ do / variable / start stop stride/ loop_end / command                   
# Definitions used in macro infile refine_object.mlgi                           
define CMO_HEX mohex                                                            
define CMO_OBJ mo_faults                                                        
define LEVEL 3                                                                  
define LOOP_MAX 3                                                               
define ATT_NAME_E if_inter                                                      
**** LOOP ********                                                              
cmo/printatt/mohex/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                1               1     12880  
 
loop/do/LOOP_VAR/2 LOOP_MAX 1/loop_end infile refine_object.mlgi                
LOOP: loop nesting level =     1                                                
define/LOOP_VAR/2                                                               
finish                                                                          
infile refine_object.mlgi                                                       
****************************************                                        
* infile for refine using intersection with object                              
****************************************                                        
* Using                                                                         
* CMO_HEX - Mesh object to be intersected                                       
* CMO_OBJ - Mesh object that intersects CMO_HEX                                 
* LEVEL - refine level 0, 1, 2, 3, ...                                          
****************************************                                        
cmo/printatt/CMO_HEX/-xyz-/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03     23205  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03     23205  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03     23205  
 
cmo/printatt/CMO_OBJ/-xyz-/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic                0.000000000E+00  3.908834900E+03 3.908834900E+03      5130  
 yic                0.000000000E+00  2.605901712E+03 2.605901712E+03      5130  
 zic                0.000000000E+00  5.825851966E+03 5.825851966E+03      5130  
 
* Refine elements that are intersected by CMO_OBJ                               
cmo/setatt/CMO_HEX/ATT_NAME_E/1 0 0/0                                           
     12880 values reset for attribute if_inter                                  
 
intersect_elements/CMO_HEX/CMO_OBJ/ATT_NAME_E                                   
cmo/select/mohex                                                                
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
intersect_elements using previously defined attribute: if_inter                 
 
         Element    Elems Searched  Elements Found  Percent Done                
            487             3623            639        5 %                      
            973             7205            369       10 %                      
           1459            11854            223       15 %                      
           1945            15221             70       20 %                      
           2431            19625             56       25 %                      
           2917            23718             21       30 %                      
           3403            27850              3       35 %                      
           3889            31721              3       40 %                      
           4375            36467             31       45 %                      
           4861            40348            718       50 %                      
           5347            44432            449       55 %                      
           5833            48741            270       60 %                      
           6319            52771            125       65 %                      
           6805            56353             88       70 %                      
           7291            60626             52       75 %                      
           7777            65315             66       80 %                      
           8263            70185             36       85 %                      
           8749            74620             27       90 %                      
           9235            80110             18       95 %                      
           9721            85696              9      100 %                      
           9723            85696           3273    Total Done                   
 
cmo/select/mohex                                                                
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mohex/sbox                                                           
finish                                                                          
cmo/DELATT/mohex/v12                                                            
finish                                                                          
cmo/DELATT/mohex/linkt                                                          
finish                                                                          
cmo/DELATT/mohex/v2                                                             
finish                                                                          
finish                                                                          
cmo/select/CMO_HEX                                                              
eltset/e_obj/ATT_NAME_E/gt/0                                                    
 
 THE ELTSET e_obj                            HAS       3273 ELEMENTS            
* Add attribute. If it already exists, nothing happens.                         
cmo/addatt/CMO_HEX/itetlev/vint/scalar/nelements                                
CMO_ADDATT warning: attribute already exist: mohex  itetlev                     
eltset/elev/itetlev/le/LEVEL                                                    
 
 THE ELTSET elev                             HAS      12880 ELEMENTS            
eltset/e_refine/inter/elev e_obj                                                
 
 THE ELTSET e_refine                         HAS       3273 ELEMENTS            
refine/eltset/eltset,get,e_refine                                               
pset/refine_eltset_pset_tmp_abc_xyz/eltset/e_refine/                            
 
 THE PSET  refine_eltset_pset_tmp_abc_xyz  HAS       6834 POINTS                
finish                                                                          
refine/constant/imt1/linear/element/pset,get,refine_eltset_pset_tmp_abc_xyz/-1.,
0.,0./exclusive/                                                                
refine elements:                                                                
refine hex     :       3306                                                     
Element iteration:          1      3297                                         
Octree refined elems: old=     12880 new=     39256                             
FILTER_SUBSET:Dudding duplicate points:       29253                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           0                                    
geniee                                                                          
finish                                                                          
Element iteration:          1       511                                         
Octree refined elems: old=     39256 new=     43344                             
FILTER_SUBSET:Dudding duplicate points:        5802                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:         216                                    
geniee                                                                          
finish                                                                          
finish                                                                          
pset/refine_eltset_pset_tmp_abc_xyz/delete/                                     
 
 PSET refine_e DELETED                                                          
 
finish                                                                          
rmpoint/compress                                                                
     42694 points removed and          0 elements removed.                      
RMPOINT: new point count is        52863                                        
RMPOINT: new element count is      43344                                        
eltset/e_obj/delete                                                             
 
 ELTSET e_obj                            DELETED                                
 
eltset/e_refine/delete                                                          
 
 ELTSET e_refine                         DELETED                                
 
cmo/select/CMO_HEX                                                              
cmo/printatt/CMO_HEX/itetlev/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                2               2     43344  
 
*** infile for refine by intersect done ***                                     
finish                                                                          
finish                                                                          
define/LOOP_VAR/3                                                               
finish                                                                          
infile refine_object.mlgi                                                       
****************************************                                        
* infile for refine using intersection with object                              
****************************************                                        
* Using                                                                         
* CMO_HEX - Mesh object to be intersected                                       
* CMO_OBJ - Mesh object that intersects CMO_HEX                                 
* LEVEL - refine level 0, 1, 2, 3, ...                                          
****************************************                                        
cmo/printatt/CMO_HEX/-xyz-/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03     52863  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03     52863  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03     52863  
 
cmo/printatt/CMO_OBJ/-xyz-/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 xic                0.000000000E+00  3.908834900E+03 3.908834900E+03      5130  
 yic                0.000000000E+00  2.605901712E+03 2.605901712E+03      5130  
 zic                0.000000000E+00  5.825851966E+03 5.825851966E+03      5130  
 
* Refine elements that are intersected by CMO_OBJ                               
cmo/setatt/CMO_HEX/ATT_NAME_E/1 0 0/0                                           
     43344 values reset for attribute if_inter                                  
 
intersect_elements/CMO_HEX/CMO_OBJ/ATT_NAME_E                                   
cmo/select/mohex                                                                
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
intersect_elements using previously defined attribute: if_inter                 
 
         Element    Elems Searched  Elements Found  Percent Done                
            487             9406           1595        5 %                      
            973            19014           1241       10 %                      
           1459            31096           1009       15 %                      
           1945            39914            535       20 %                      
           2431            51192            484       25 %                      
           2917            61966            333       30 %                      
           3403            72621            146       35 %                      
           3889            82958            130       40 %                      
           4375            95332            142       45 %                      
           4861           105643           1851       50 %                      
           5347           116091           1423       55 %                      
           5833           127048           1126       60 %                      
           6319           137354            749       65 %                      
           6805           146502            563       70 %                      
           7291           157100            425       75 %                      
           7777           168845            477       80 %                      
           8263           180343            316       85 %                      
           8749           191238            234       90 %                      
           9235           204608            175       95 %                      
           9721           218072            126      100 %                      
           9723           218072          13080    Total Done                   
 
cmo/select/mohex                                                                
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mohex/sbox                                                           
finish                                                                          
cmo/DELATT/mohex/v12                                                            
finish                                                                          
cmo/DELATT/mohex/linkt                                                          
finish                                                                          
cmo/DELATT/mohex/v2                                                             
finish                                                                          
finish                                                                          
cmo/select/CMO_HEX                                                              
eltset/e_obj/ATT_NAME_E/gt/0                                                    
 
 THE ELTSET e_obj                            HAS      13080 ELEMENTS            
* Add attribute. If it already exists, nothing happens.                         
cmo/addatt/CMO_HEX/itetlev/vint/scalar/nelements                                
CMO_ADDATT warning: attribute already exist: mohex  itetlev                     
eltset/elev/itetlev/le/LEVEL                                                    
 
 THE ELTSET elev                             HAS      43344 ELEMENTS            
eltset/e_refine/inter/elev e_obj                                                
 
 THE ELTSET e_refine                         HAS      13080 ELEMENTS            
refine/eltset/eltset,get,e_refine                                               
pset/refine_eltset_pset_tmp_abc_xyz/eltset/e_refine/                            
 
 THE PSET  refine_eltset_pset_tmp_abc_xyz  HAS      26806 POINTS                
finish                                                                          
refine/constant/imt1/linear/element/pset,get,refine_eltset_pset_tmp_abc_xyz/-1.,
0.,0./exclusive/                                                                
refine elements:                                                                
refine hex     :      13150                                                     
Element iteration:          1     13132                                         
Octree refined elems: old=     43344 new=    148400                             
FILTER_SUBSET:Dudding duplicate points:      117247                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           0                                    
geniee                                                                          
finish                                                                          
Element iteration:          1      2213                                         
Octree refined elems: old=    148400 new=    166104                             
FILTER_SUBSET:Dudding duplicate points:       25339                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:         837                                    
geniee                                                                          
finish                                                                          
Element iteration:          1       254                                         
Octree refined elems: old=    166104 new=    168136                             
FILTER_SUBSET:Dudding duplicate points:        2902                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:          88                                    
geniee                                                                          
finish                                                                          
finish                                                                          
pset/refine_eltset_pset_tmp_abc_xyz/delete/                                     
 
 PSET refine_e DELETED                                                          
 
finish                                                                          
rmpoint/compress                                                                
    146413 points removed and          0 elements removed.                      
RMPOINT: new point count is       202831                                        
RMPOINT: new element count is     168136                                        
eltset/e_obj/delete                                                             
 
 ELTSET e_obj                            DELETED                                
 
eltset/e_refine/delete                                                          
 
 ELTSET e_refine                         DELETED                                
 
cmo/select/CMO_HEX                                                              
cmo/printatt/CMO_HEX/itetlev/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                3               3    168136  
 
*** infile for refine by intersect done ***                                     
finish                                                                          
finish                                                                          
define/LOOP_VAR/remove                                                          
finish                                                                          
**** LOOP END ****                                                              
**** WRITE RESULTS ****                                                         
define MOHEX mohex                                                              
define MOVOL movol                                                              
# convert octree mesh to standard form add attributes                           
cmo/delete/MOVOL                                                                
Mesh Object release skipped, it does not exist: movol                           
grid2grid/tree_to_fe/MOVOL/MOHEX                                                
cmo/copy/movol/mohex                                                            
finish                                                                          
eltset/-parentset-/itetkid/gt/0                                                 
 
 THE ELTSET -parentset-                      HAS      20247 ELEMENTS            
finish                                                                          
rmpoint/element/eltset,get,-parentset-                                          
 Dudded          0 points plus parents, and       20247 elements removed.       
finish                                                                          
rmpoint/compress                                                                
         0 points removed and          0 elements removed.                      
RMPOINT: new point count is       202831                                        
RMPOINT: new element count is     147889                                        
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
eltset/-parentset-/delete                                                       
 
 ELTSET -parentset-                      DELETED                                
 
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :     147889                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.1953E+04 and  0.6801E+04:    105056                      
element volumes b/w  0.6801E+04 and  0.2368E+05:     30948                      
element volumes b/w  0.2368E+05 and  0.8247E+05:         0                      
element volumes b/w  0.8247E+05 and  0.2872E+06:      7330                      
element volumes b/w  0.2872E+06 and  0.1000E+07:      4555                      
min volume =   1.9531250E+03  max volume =   1.0000000E+06                      
-----------------------------------------------------------                     
    147889 total elements evaluated.                                            
 
finish                                                                          
dump/tmp_grid2grid.inp/MOVOL                                                    
dump/avs/tmp_grid2grid.inp/movol                                                
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :     147889                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.1953E+04 and  0.6801E+04:    105056                      
element volumes b/w  0.6801E+04 and  0.2368E+05:     30948                      
element volumes b/w  0.2368E+05 and  0.8247E+05:         0                      
element volumes b/w  0.8247E+05 and  0.2872E+06:      7330                      
element volumes b/w  0.2872E+06 and  0.1000E+07:      4555                      
min volume =   1.9531250E+03  max volume =   1.0000000E+06                      
-----------------------------------------------------------                     
    147889 total elements evaluated.                                            
 
infile hex_add_volumes.mlgi                                                     
# Create cell and node volume attributes                                        
# for resolution decisions based on volumes                                     
# define MOVOL as the hex mesh for added attributes                             
#        MOVOL is a standard mesh and not octree                                
#        grid2grid/tree_to_fe will convert to standard form                     
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =        202831        number of elements =       147889    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                3               3    147889  
 
# create tet voronoi attribute to put on hex nodes                              
cmo/create/motet                                                                
copypts/motet/MOVOL                                                             
copypts added nodes          1 to     202831                                    
cmo/select/motet                                                                
cmo/setatt/motet/imt/1                                                          
Warning: nelements = 0                                                          
    202831 values reset for attribute imt1                                      
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           0                                    
rmpoint compress                                                                
         0 points removed and          0 elements removed.                      
RMPOINT: new point count is       202831                                        
RMPOINT: new element count is          0                                        
connect                                                                         
 Coordinates of enclosing tetrahedron are:                                      
          -0.12500D+04   -0.13000D+04    0.12000D+04                            
          -0.12500D+04    0.87000D+04    0.47000D+04                            
          -0.12500D+04   -0.13000D+04    0.82000D+04                            
           0.97500D+04    0.12000D+04    0.47000D+04                            
 ntets=     30997     node index=     5000     nlstfail=       0 %done=   2.55  
 ntets=     63693     node index=    10000     nlstfail=       0 %done=   5.23  
 ntets=     96139     node index=    15000     nlstfail=       0 %done=   7.90  
 ntets=    129490     node index=    20000     nlstfail=       0 %done=  10.64  
 ntets=    162699     node index=    25000     nlstfail=       0 %done=  13.37  
 ntets=    196805     node index=    30000     nlstfail=       0 %done=  16.17  
 ntets=    230580     node index=    35000     nlstfail=       0 %done=  18.95  
 ntets=    262284     node index=    40000     nlstfail=       0 %done=  21.55  
 ntets=    294605     node index=    45000     nlstfail=       0 %done=  24.21  
 ntets=    325554     node index=    50000     nlstfail=       0 %done=  26.75  
 ntets=    357254     node index=    55000     nlstfail=       0 %done=  29.36  
 ntets=    387402     node index=    60000     nlstfail=       0 %done=  31.83  
 ntets=    418257     node index=    65000     nlstfail=       0 %done=  34.37  
 ntets=    448517     node index=    70000     nlstfail=       0 %done=  36.85  
 ntets=    478866     node index=    75000     nlstfail=       0 %done=  39.35  
 ntets=    509352     node index=    80000     nlstfail=       0 %done=  41.85  
 ntets=    539215     node index=    85000     nlstfail=       0 %done=  44.31  
 ntets=    569574     node index=    90000     nlstfail=       0 %done=  46.80  
 ntets=    599761     node index=    95000     nlstfail=       0 %done=  49.28  
 ntets=    629567     node index=   100000     nlstfail=       0 %done=  51.73  
 ntets=    659496     node index=   105000     nlstfail=       0 %done=  54.19  
 ntets=    689018     node index=   110000     nlstfail=       0 %done=  56.62  
 ntets=    718499     node index=   115000     nlstfail=       0 %done=  59.04  
 ntets=    747731     node index=   120000     nlstfail=       0 %done=  61.44  
 ntets=    776996     node index=   125000     nlstfail=       0 %done=  63.84  
 ntets=    805771     node index=   130000     nlstfail=       0 %done=  66.21  
 ntets=    834137     node index=   135000     nlstfail=       0 %done=  68.54  
 ntets=    862644     node index=   140000     nlstfail=       0 %done=  70.88  
 ntets=    890446     node index=   145000     nlstfail=       0 %done=  73.17  
 ntets=    917838     node index=   150000     nlstfail=       0 %done=  75.42  
 ntets=    945061     node index=   155000     nlstfail=       0 %done=  77.65  
 ntets=    972084     node index=   160000     nlstfail=       0 %done=  79.87  
 ntets=    998443     node index=   165000     nlstfail=       0 %done=  82.04  
 ntets=   1024330     node index=   170000     nlstfail=       0 %done=  84.17  
 ntets=   1050054     node index=   175000     nlstfail=       0 %done=  86.28  
 ntets=   1074696     node index=   180000     nlstfail=       0 %done=  88.31  
 ntets=   1098379     node index=   185000     nlstfail=       0 %done=  90.25  
 ntets=   1121467     node index=   190000     nlstfail=       0 %done=  92.15  
 ntets=   1144238     node index=   195000     nlstfail=       0 %done=  94.02  
 ntets=   1165796     node index=   200000     nlstfail=       0 %done=  95.79  
 
 Successfully eliminated all multimaterial connections.                         
 
 The mesh is now complete!                                                      
 
LaGriT FINISH: connect                                                          
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :      12477                          
elements with aspect ratio b/w .5  and 1. :    1148413                          
min aspect ratio =  0.3440E+00  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.3255E+03 and  0.1134E+04:    851042                      
element volumes b/w  0.1134E+04 and  0.3947E+04:    187818                      
element volumes b/w  0.3947E+04 and  0.1374E+05:     60941                      
element volumes b/w  0.1374E+05 and  0.4786E+05:     32718                      
element volumes b/w  0.4786E+05 and  0.1667E+06:     28371                      
min volume =   3.2552083E+02  max volume =   1.6666667E+05                      
-----------------------------------------------------------                     
   1160890 total elements evaluated.                                            
 
dump avs tmp_connect.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
cmo/addatt/motet/voronoi_volume/vor_vol                                         
ADDATT/voronoi_volume: creating new attribute: vor_vol                          
 
AMatbld3d_stor: Matrix compress_eps:  0.1000000E-07                             
AMatbld3d_stor: Local epsilon:  0.1000000E-14                                   
AMatbld3d_stor: *****Zero Negative Coefficients ******                          
AMatbld3d_stor: Number of 'zero' (< compress_eps) coefs         0               
AMatbld3d_stor: npoints =   202831  ncoefs =    1784049                         
AMatbld3d_stor: Number of unique coefs =    993440                              
AMatbld3d_stor: Maximum num. connections to a node =         36                 
AMatbld3d_stor: Volume min =   4.8828125E+02                                    
AMatbld3d_stor: Volume max =   1.0000000E+06                                    
AMatbld3d_stor: Total Volume:   6.1600000E+09                                   
AMatbld3d_stor: abs(Aij/xij) min =   0.0000000E+00                              
AMatbld3d_stor: abs(Aij/xij) max =   1.1250000E+02                              
AMatbld3d_stor: (Aij/xij) max =   0.0000000E+00                                 
AMatbld3d_stor: (Aij/xij) min =  -1.1250000E+02                                 
AMatbld3d_stor Matrix coefficient values stored as scalar area/distance         
AMatbld3d_stor Matrix compression used for graph, not coefficient values        
motet attribute with voronoi volumes created with name vor_vol                  
 
*** SPARSE COEFFICIENT MATRIX _gstor SUCCESSFUL ***                             
 
3D Matrix Coefficient file written with name -notset-                           
 
dump avs tmp_vor_vol.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# interpolate from tet to hex mesh                                              
cmo/addatt/MOVOL/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/afgx/0.0/       
interpolate/voronoi/MOVOL vor_vol/1,0,0/motet vor_vol                           
nodes in indexed point set  =     202831                                        
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.100000100004E+07             
 
 
Build kdtree0 done - assign nearest node for each.                              
 
 
     Sink point   Points Searched   Points Found  Percent Done                  
 
          10143            10143          10143        5 %                      
          20285            20285          20285       10 %                      
          30427            30427          30427       15 %                      
          40569            40569          40569       20 %                      
          50711            50711          50711       25 %                      
          60853            60853          60853       30 %                      
          70995            70995          70995       35 %                      
          81137            81137          81137       40 %                      
          91279            91279          91279       45 %                      
         101421           101421         101421       50 %                      
         111563           111563         111563       55 %                      
         121705           121705         121705       60 %                      
         131847           131847         131847       65 %                      
         141989           141989         141989       70 %                      
         152131           152131         152131       75 %                      
         162273           162273         162273       80 %                      
         172415           172415         172415       85 %                      
         182557           182557         182557       90 %                      
         192699           192699         192699       95 %                      
         202831           202831         202831       100%                      
 
Total Source Nodes:                  202831                                     
Total Sink   Nodes:                  202831                                     
 
 
interpolate/voronoi done.                                                       
 
cmo select movol                                                                
finish                                                                          
cmo kdtree release                                                              
finish                                                                          
cmo/delete/motet                                                                
     Released Mesh Object: motet                                                
# add more attributes                                                           
cmo/addatt/MOVOL/volume/cell_vol                                                
ADDATT/volume: creating new attribute: cell_vol                                 
quality/edge_min/y                                                              
cmo/addatt//edgemin/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge min normalized by dividing with max value.                                 
element norm min edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :     105056                            
element norm edge length b/w .2  and .5 :      38278                            
element norm edge length b/w .5  and 1. :       4555                            
min min edge length =  0.1250E+02  max min edge length =  0.1000E+03            
-----------------------------------------------------------                     
    147889 total elements evaluated.                                            
 
quality/edge_max/y                                                              
cmo/addatt//edgemax/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge max normalized by dividing with max value.                                 
element norm max edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :     105056                            
element norm edge length b/w .2  and .5 :      38278                            
element norm edge length b/w .5  and 1. :       4555                            
min max edge length =  0.1250E+02  max max edge length =  0.1000E+03            
-----------------------------------------------------------                     
    147889 total elements evaluated.                                            
 
dump avs tmp_attributes.inp MOVOL                                               
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# minmax of added attributes                                                    
cmo/printatt/MOVOL/-all- minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00    202831  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                      202831           202831               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                   147889           147889               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 3                3               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                8                8               0         1  
 edges_per_element               12               12               0         1  
 faces_per_element                6                6               0         1  
 isetwd                           0                0               0    202831  
 ialias                           0           349244          349244    202831  
 imt1                             1                1               0    202831  
 itp1                             0               10              10    202831  
 icr1                             0                0               0    202831  
 isn1                             0                0               0    202831  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03    202831  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03    202831  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03    202831  
 xtetwd                           0                1               1    147889  
 itetclr                          1                1               0    147889  
 itettyp                          8                8               0    147889  
 itetoff                          0          1183104         1183104    147889  
 jtetoff                          0           887328          887328    147889  
 itet                             1           202831          202830    147889x8
 jtet                             2         16000000        15999998    147889x6
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           7.297130333E-10  7.297130333E-10 0.000000000E+00         1  
 epsilona           2.398081733E-06  2.398081733E-06 0.000000000E+00         1  
 epsilonv           1.367794766E-03  1.367794766E-03 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                     202831           202831               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin               4.000000000E+02  4.000000000E+02 0.000000000E+00         1  
 ymin               2.000000000E+02  2.000000000E+02 0.000000000E+00         1  
 zmin               4.000000000E+03  4.000000000E+03 0.000000000E+00         1  
 xmax               2.600000000E+03  2.600000000E+03 0.000000000E+00         1  
 ymax               2.200000000E+03  2.200000000E+03 0.000000000E+00         1  
 zmax               5.400000000E+03  5.400000000E+03 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  0                0               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 if_inter                         0                0               0    147889  
 itetpar                          0            43343           43343    147889  
 itetkid                          0                0               0    147889  
 itetlev                          0                3               3    147889  
 vor_vol            4.882812487E+02  1.000000000E+06 9.995117188E+05    202831  
 cell_vol           1.953125000E+03  1.000000000E+06 9.980468750E+05    147889  
 edgemin            1.250000000E+01  1.000000000E+02 8.750000000E+01    147889  
 edgemax            1.250000000E+01  1.000000000E+02 8.750000000E+01    147889  
 
# check hex arrays                                                              
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                3               3    147889  
 
cmo/printatt/MOVOL/vor_vol/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812487E+02  1.000000000E+06 9.995117188E+05    202831  
 
cmo/printatt/MOVOL/vor_vol/1,5,1                                                
Attribute: vor_vol                                                              
         1  1.25000E+05                                                         
         2  2.50000E+05                                                         
         3  2.50000E+05                                                         
         4  2.50000E+05                                                         
         5  2.50000E+05                                                         
 
cmo/printatt/MOVOL/cell_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.953125000E+03  1.000000000E+06 9.980468750E+05    147889  
 
cmo/printatt/MOVOL/cell_vol/1,5,1                                               
Attribute: cell_vol                                                             
         1  1.00000E+06                                                         
         2  1.00000E+06                                                         
         3  1.00000E+06                                                         
         4  1.00000E+06                                                         
         5  1.00000E+06                                                         
 
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =        202831        number of elements =       147889    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
# end infile macro hex_add_volumes.mlgi                                         
finish                                                                          
# Write files for level 3 fault 6                                               
define MOHEX movol                                                              
define MATNO 6                                                                  
define MOS mo_flt6                                                              
define FILE_FLT hex3_fault_6.inp                                                
define FILE_NFLT hex3_fault_6_side_n.inp                                        
define FILE_PFLT hex3_fault_6_side_p.inp                                        
infile extract_hex_fault.mlgi                                                   
# extract hex cells intersected by fault                                        
# input fault surface MOS and hex mesh MOHEX                                    
# write FILE_FLT                                                                
# Extract intersected fault cells                                               
cmo/copy/mo2/MOHEX                                                              
cmo/select/mo2                                                                  
intersect_elements/mo2/MOS/if_inter                                             
cmo/select/mo2                                                                  
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
intersect_elements using previously defined attribute: if_inter                 
 
         Element    Elems Searched  Elements Found  Percent Done                
            218            10843           2491        5 %                      
            435            18276           1496       10 %                      
            652            29383           2140       15 %                      
            869            38502           1637       20 %                      
           1086            49319           1710       25 %                      
           1303            58529           1341       30 %                      
           1520            69031           1441       35 %                      
           1737            78885           1221       40 %                      
           1954            87575            981       45 %                      
           2171            98398           1036       50 %                      
           2388           108752           1025       55 %                      
           2605           123171           1159       60 %                      
           2822           129398            388       65 %                      
           3039           140422           1015       70 %                      
           3256           150625            590       75 %                      
           3473           159091            359       80 %                      
           3690           171410            756       85 %                      
           3907           179945            338       90 %                      
           4124           191852            540       95 %                      
           4341           205216            522      100 %                      
           4344           205216          22186    Total Done                   
 
cmo/select/mo2                                                                  
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mo2/sbox                                                             
finish                                                                          
cmo/DELATT/mo2/v12                                                              
finish                                                                          
cmo/DELATT/mo2/linkt                                                            
finish                                                                          
cmo/DELATT/mo2/v2                                                               
finish                                                                          
finish                                                                          
eltset/e_inter/if_inter/gt/0                                                    
 
 THE ELTSET e_inter                          HAS      22186 ELEMENTS            
eltset/eduds/not/e_inter                                                        
 
 THE ELTSET eduds                            HAS     125703 ELEMENTS            
rmpoint element eltset,get,eduds                                                
 Dudded     157855 points plus parents, and      125703 elements removed.       
rmpoint compress                                                                
    157855 points removed and          0 elements removed.                      
RMPOINT: new point count is        44976                                        
RMPOINT: new element count is      22186                                        
resetpts itp                                                                    
geniee                                                                          
finish                                                                          
boundary_components/node                                                        
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/addatt/mo2/numbnd/vint/scalar/nnodes/linear/permanent/afgx/0/               
finish                                                                          
cmo/addatt/mo2/id_numb/vint/scalar/nnodes/linear/permanent/afgx/0/              
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/mo2/ikey_tmp/vint/scalar/nnodes///gax/0                              
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different exterior boundary components                   
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                4986               44976                                 
 
cmo/DELATT/mo2/ikey_tmp                                                         
finish                                                                          
log/tty/on                                                                      
finish                                                                          
dump/avs/FILE_FLT mo2                                                           
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for hex fault                                            
cmo/printatt/mo2/imt/minmax                                                     
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             1                1               0     44976  
 
cmo/printatt/mo2/itetlev/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          3                3               0     22186  
 
cmo/printatt/mo2/cell_vol/minmax                                                
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.953125000E+03  1.953125000E+03 0.000000000E+00     22186  
 
cmo/printatt/mo2/vor_vol/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812494E+02  3.417968781E+03 2.929687531E+03     44976  
 
cmo/delete/mo2                                                                  
     Released Mesh Object: mo2                                                  
finish                                                                          
infile extract_thin_faults.mlgi                                                 
# input hex fault read file FILE_FLT                                            
# input fault surface mesh object MOS                                           
# write files FILE_NFLT and FILE_PFLT                                           
# assign itetclr with MATNO                                                     
read/FILE_FLT/moin                                                              
read/avs/hex3_fault_6.inp/moin                                                  
cmo/addatt/moin/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf/0.0             
finish                                                                          
cmo/addatt/moin/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
cmo/addatt/moin/if_inter/VINT/scalar/nelements/linear/permanent/gxaf/0.0        
finish                                                                          
cmo/addatt/moin/itetpar/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetkid/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetlev/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/cell_vol/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0     
finish                                                                          
cmo/addatt/moin/edgemin/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/edgemax/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: moin                                           
 
  1 Mesh Object name: mohex                                                     
    number of nodes =        202831        number of elements =       168136    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  5 Mesh Object name: movol                                                     
    number of nodes =        202831        number of elements =       147889    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  6 Mesh Object name: moin                                                      
    number of nodes =         44976        number of elements =        22186    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
finish                                                                          
cmo/status/moin/brief                                                           
 
The current-mesh-object(CMO) is: moin                                           
 
  6 Mesh Object name: moin                                                      
    number of nodes =         44976        number of elements =        22186    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/setatt/moin/itetclr 1                                                       
     22186 values reset for attribute itetclr                                   
 
cmo/setatt/moin/imt 1                                                           
     44976 values reset for attribute imt1                                      
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
# extract outside surface of the fault                                          
extract/surfmesh/1,0,0/cmosurf/moin/external                                    
cmo/addatt/cmosurf/itetclr0/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/itetclr1/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/idnode0/vint/scalar/nnodes////0                              
finish                                                                          
cmo/addatt/cmosurf/idelem0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idelem1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/facecol/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf          
finish                                                                          
cmo/addatt/cmosurf/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf              
finish                                                                          
cmo/addatt/cmosurf/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf             
finish                                                                          
cmo/addatt/cmosurf/ncon50/int/scalar/scalar/constant/permanent/x/0              
finish                                                                          
cmo/addatt/cmosurf/nconbnd/int/scalar/scalar/constant/permanent/x/0             
finish                                                                          
cmo/addatt/cmosurf/icontab/vint/scalar/ncon50/constant/permanent/x/0            
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/select/cmosurf                                                              
# define the negative and positive sides of the fault                           
cmo/select/cmosurf                                                              
surface/surf_flt/reflect/sheet/MOS                                              
cmo/addatt//v2/INT/scalar/scalar/constant/permanent//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//permanent/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/permanent//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/permanent/x/0.0                   
finish                                                                          
log/tty/off                                                                     
finish                                                                          
cmo/DELATT/surf_flt isetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt ialias                                                      
finish                                                                          
cmo/DELATT/surf_flt imt1                                                        
finish                                                                          
cmo/DELATT/surf_flt itp1                                                        
finish                                                                          
cmo/DELATT/surf_flt icr1                                                        
finish                                                                          
cmo/DELATT/surf_flt isn1                                                        
finish                                                                          
cmo/DELATT/surf_flt xtetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt itetclr                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
region/r_fault_p/ge surf_flt                                                    
region/r_fault_n/lt surf_flt                                                    
pset/p_fault_p/region/r_fault_p                                                 
 
 THE PSET  p_fault_p  HAS      22487 POINTS                                     
pset/p_fault_n/region/r_fault_n                                                 
 
 THE PSET  p_fault_n  HAS      22489 POINTS                                     
cmo/addatt/cmosurf/n_flt/vint/scalar/nnodes/linear/permanent/agx/0/             
cmo/setatt/cmosurf/n_flt/pset get p_fault_p/2                                   
     22487 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/n_flt/pset get p_fault_n/3                                   
     22489 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/imt/1                                                        
     44976 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_p/2                                     
     22487 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_n/3                                     
     22489 values reset for attribute imt1                                      
 
# check for continuous connectivity                                             
boundary_components/node/2                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               2
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                 892               22487                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
boundary_components/node/3                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               3
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                  49               22489                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
# color faces of each side                                                      
cmo/setatt/cmosurf/itetclr/1                                                    
     44974 values reset for attribute itetclr                                   
 
# inclusive will include extra associated nodes                                 
eltset/epi/inclusive pset,get,p_fault_p                                         
 
 THE ELTSET epi                              HAS      22787 ELEMENTS            
eltset/eni/inclusive pset,get,p_fault_n                                         
 
 THE ELTSET eni                              HAS      22789 ELEMENTS            
# exclusive are only those attached to cells                                    
eltset/epe/exclusive pset,get,p_fault_p                                         
 
 THE ELTSET epe                              HAS      22185 ELEMENTS            
eltset/ene/exclusive pset,get,p_fault_n                                         
 
 THE ELTSET ene                              HAS      22187 ELEMENTS            
# remove extra attributes and subset side surfs                                 
define MO cmosurf                                                               
infile remove_attributes.mlgi                                                   
# define mesh object name                                                       
cmo/printatt/MO/-all- minmax                                                    
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00     44976  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                       44976            44976               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                    44974            44974               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 2                2               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                4                4               0         1  
 edges_per_element                4                4               0         1  
 faces_per_element                4                4               0         1  
 isetwd                           1                2               1     44976  
 ialias                           0                0               0     44976  
 imt1                             2                3               1     44976  
 itp1                             0                0               0     44976  
 icr1                             0                0               0     44976  
 isn1                             0                0               0     44976  
 xic                1.475000000E+03  1.850000000E+03 3.750000000E+02     44976  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03     44976  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03     44976  
 xtetwd                           3               10               7     44974  
 itetclr                          1                1               0     44974  
 itettyp                          4                4               0     44974  
 itetoff                          0           179892          179892     44974  
 jtetoff                          0           179892          179892     44974  
 itet                             1            44976           44975     44974x4
 jtet                             1           179896          179895     44974x4
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilona           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilonv           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                      44976            44976               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 ymin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 zmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 xmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 ymax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 zmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  2                2               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 itetclr0                         0                0               0     44974  
 itetclr1                         1                1               0     44974  
 idnode0                          1            44976           44975     44976  
 idelem0                          0                0               0     44974  
 idelem1                          1            22186           22185     44974  
 facecol                          1                1               0     44974  
 idface0                          0                0               0     44974  
 idface1                          1                6               5     44974  
 vor_vol            4.882812494E+02  3.417968781E+03 2.929687531E+03     44976  
 numbnd                           0               49              49     44976  
 id_numb                          1                1               0     44976  
 ncon50                         500              500               0         1  
 nconbnd                          1                1               0         1  
 icontab                          0                2               2       500  
 n_flt                            2                3               1     44976  
 
cmo/DELATT/MO/itetclr0                                                          
cmo/DELATT/MO/itetclr1                                                          
cmo/DELATT/MO/idnode0                                                           
cmo/DELATT/MO/idelem0                                                           
cmo/DELATT/MO/idelem1                                                           
cmo/DELATT/MO/facecol                                                           
cmo/DELATT/MO/idface0                                                           
cmo/DELATT/MO/idface1                                                           
cmo/DELATT/MO/numbnd                                                            
cmo/DELATT/MO/id_numb                                                           
cmo/DELATT/MO/iign                                                              
DELATT no action, attribute does not exist: iign                                
cmo/DELATT/MO/ncon50                                                            
cmo/DELATT/MO/nconbnd                                                           
cmo/DELATT/MO/icontab                                                           
DELATT no action, attribute does not exist: icontab                             
cmo/DELATT/MO/facecol                                                           
DELATT no action, attribute does not exist: facecol                             
finish                                                                          
# create the thin sides of the fault mesh                                       
cmo/setatt/cmosurf/itetclr/eltset,get,epe/2                                     
     22185 values reset for attribute itetclr                                   
 
cmo/setatt/cmosurf/itetclr/eltset,get,ene/3                                     
     22187 values reset for attribute itetclr                                   
 
cmo/addatt/cmosurf/volume/cell_vol                                              
ADDATT/volume: creating new attribute: cell_vol                                 
dump/avs/tmp_surf_sides.inp/cmosurf                                             
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# negative side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 2                                                       
 
 THE ELTSET eduds                            HAS      22789 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded      22489 points plus parents, and       22789 elements removed.       
rmpoint/compress                                                                
     22489 points removed and          0 elements removed.                      
RMPOINT: new point count is        22487                                        
RMPOINT: new element count is      22185                                        
cmo/setatt/moside/imt/MATNO                                                     
     22487 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
     22185 values reset for attribute itetclr                                   
 
dump/avs/FILE_PFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault pos                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             6                6               0     22487  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.562500000E+02  1.562500000E+02 0.000000000E+00     22185  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812500E+02  3.417968772E+03 2.929687522E+03     22487  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
# positive side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 3                                                       
 
 THE ELTSET eduds                            HAS      22787 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded      22487 points plus parents, and       22787 elements removed.       
rmpoint/compress                                                                
     22487 points removed and          0 elements removed.                      
RMPOINT: new point count is        22489                                        
RMPOINT: new element count is      22187                                        
cmo/setatt/moside/imt/MATNO                                                     
     22489 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
     22187 values reset for attribute itetclr                                   
 
dump/avs/FILE_NFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault neg                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             6                6               0     22489  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.562500000E+02  1.562500000E+02 0.000000000E+00     22187  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812494E+02  3.417968781E+03 2.929687531E+03     22489  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
surface/surf_flt/remove                                                         
region/r_fault_p/remove                                                         
region/r_fault_n/remove                                                         
cmo/delete/surf_flt                                                             
     Released Mesh Object: surf_flt                                             
cmo/delete/cmosurf                                                              
     Released Mesh Object: cmosurf                                              
cmo/delete/moin                                                                 
     Released Mesh Object: moin                                                 
finish                                                                          
# Write files for level 3 fault 12                                              
define MOHEX movol                                                              
define MATNO 12                                                                 
define MOS mo_flt12                                                             
define FILE_FLT hex3_fault_12.inp                                               
define FILE_NFLT hex3_fault_12_side_n.inp                                       
define FILE_PFLT hex3_fault_12_side_p.inp                                       
infile extract_hex_fault.mlgi                                                   
# extract hex cells intersected by fault                                        
# input fault surface MOS and hex mesh MOHEX                                    
# write FILE_FLT                                                                
# Extract intersected fault cells                                               
cmo/copy/mo2/MOHEX                                                              
cmo/select/mo2                                                                  
intersect_elements/mo2/MOS/if_inter                                             
cmo/select/mo2                                                                  
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
intersect_elements using previously defined attribute: if_inter                 
 
         Element    Elems Searched  Elements Found  Percent Done                
            270             9472           2254        5 %                      
            539            23477           3081       10 %                      
            808            35606           2405       15 %                      
           1077            48657           2436       20 %                      
           1346            60384           2004       25 %                      
           1615            71571           1618       30 %                      
           1884            85674           2141       35 %                      
           2153            94284           1053       40 %                      
           2422           107247           1688       45 %                      
           2691           119975           1409       50 %                      
           2960           131147           1212       55 %                      
           3229           145349           1515       60 %                      
           3498           156749           1110       65 %                      
           3767           171774           1250       70 %                      
           4036           183986           1027       75 %                      
           4305           197273            925       80 %                      
           4574           210979            815       85 %                      
           4843           227890            939       90 %                      
           5112           241681            662       95 %                      
           5379           257039          30255    Total Done                   
 
cmo/select/mo2                                                                  
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mo2/sbox                                                             
finish                                                                          
cmo/DELATT/mo2/v12                                                              
finish                                                                          
cmo/DELATT/mo2/linkt                                                            
finish                                                                          
cmo/DELATT/mo2/v2                                                               
finish                                                                          
finish                                                                          
eltset/e_inter/if_inter/gt/0                                                    
 
 THE ELTSET e_inter                          HAS      30255 ELEMENTS            
eltset/eduds/not/e_inter                                                        
 
 THE ELTSET eduds                            HAS     117634 ELEMENTS            
rmpoint element eltset,get,eduds                                                
 Dudded     141250 points plus parents, and      117634 elements removed.       
rmpoint compress                                                                
    141250 points removed and          0 elements removed.                      
RMPOINT: new point count is        61581                                        
RMPOINT: new element count is      30255                                        
resetpts itp                                                                    
geniee                                                                          
finish                                                                          
boundary_components/node                                                        
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/addatt/mo2/numbnd/vint/scalar/nnodes/linear/permanent/afgx/0/               
finish                                                                          
cmo/addatt/mo2/id_numb/vint/scalar/nnodes/linear/permanent/afgx/0/              
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/mo2/ikey_tmp/vint/scalar/nnodes///gax/0                              
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different exterior boundary components                   
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                6775               61533                                 
 
cmo/DELATT/mo2/ikey_tmp                                                         
finish                                                                          
log/tty/on                                                                      
finish                                                                          
dump/avs/FILE_FLT mo2                                                           
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for hex fault                                            
cmo/printatt/mo2/imt/minmax                                                     
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             1                1               0     61581  
 
cmo/printatt/mo2/itetlev/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          3                3               0     30255  
 
cmo/printatt/mo2/cell_vol/minmax                                                
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.953125000E+03  1.953125000E+03 0.000000000E+00     30255  
 
cmo/printatt/mo2/vor_vol/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812487E+02  5.167643229E+03 4.679361980E+03     61581  
 
cmo/delete/mo2                                                                  
     Released Mesh Object: mo2                                                  
finish                                                                          
infile extract_thin_faults.mlgi                                                 
# input hex fault read file FILE_FLT                                            
# input fault surface mesh object MOS                                           
# write files FILE_NFLT and FILE_PFLT                                           
# assign itetclr with MATNO                                                     
read/FILE_FLT/moin                                                              
read/avs/hex3_fault_12.inp/moin                                                 
cmo/addatt/moin/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf/0.0             
finish                                                                          
cmo/addatt/moin/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
cmo/addatt/moin/if_inter/VINT/scalar/nelements/linear/permanent/gxaf/0.0        
finish                                                                          
cmo/addatt/moin/itetpar/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetkid/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetlev/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/cell_vol/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0     
finish                                                                          
cmo/addatt/moin/edgemin/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/edgemax/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: moin                                           
 
  1 Mesh Object name: mohex                                                     
    number of nodes =        202831        number of elements =       168136    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  5 Mesh Object name: movol                                                     
    number of nodes =        202831        number of elements =       147889    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  6 Mesh Object name: moin                                                      
    number of nodes =         61581        number of elements =        30255    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
finish                                                                          
cmo/status/moin/brief                                                           
 
The current-mesh-object(CMO) is: moin                                           
 
  6 Mesh Object name: moin                                                      
    number of nodes =         61581        number of elements =        30255    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/setatt/moin/itetclr 1                                                       
     30255 values reset for attribute itetclr                                   
 
cmo/setatt/moin/imt 1                                                           
     61581 values reset for attribute imt1                                      
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
# extract outside surface of the fault                                          
extract/surfmesh/1,0,0/cmosurf/moin/external                                    
cmo/addatt/cmosurf/itetclr0/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/itetclr1/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/idnode0/vint/scalar/nnodes////0                              
finish                                                                          
cmo/addatt/cmosurf/idelem0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idelem1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/facecol/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf          
finish                                                                          
cmo/addatt/cmosurf/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf              
finish                                                                          
cmo/addatt/cmosurf/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf             
finish                                                                          
cmo/addatt/cmosurf/ncon50/int/scalar/scalar/constant/permanent/x/0              
finish                                                                          
cmo/addatt/cmosurf/nconbnd/int/scalar/scalar/constant/permanent/x/0             
finish                                                                          
cmo/addatt/cmosurf/icontab/vint/scalar/ncon50/constant/permanent/x/0            
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
cmo/select/cmosurf                                                              
# define the negative and positive sides of the fault                           
cmo/select/cmosurf                                                              
surface/surf_flt/reflect/sheet/MOS                                              
cmo/addatt//v2/INT/scalar/scalar/constant/permanent//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//permanent/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/permanent//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/permanent/x/0.0                   
finish                                                                          
log/tty/off                                                                     
finish                                                                          
cmo/DELATT/surf_flt isetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt ialias                                                      
finish                                                                          
cmo/DELATT/surf_flt imt1                                                        
finish                                                                          
cmo/DELATT/surf_flt itp1                                                        
finish                                                                          
cmo/DELATT/surf_flt icr1                                                        
finish                                                                          
cmo/DELATT/surf_flt isn1                                                        
finish                                                                          
cmo/DELATT/surf_flt xtetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt itetclr                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
region/r_fault_p/ge surf_flt                                                    
region/r_fault_n/lt surf_flt                                                    
pset/p_fault_p/region/r_fault_p                                                 
 
 THE PSET  p_fault_p  HAS      30974 POINTS                                     
pset/p_fault_n/region/r_fault_n                                                 
 
 THE PSET  p_fault_n  HAS      30559 POINTS                                     
cmo/addatt/cmosurf/n_flt/vint/scalar/nnodes/linear/permanent/agx/0/             
cmo/setatt/cmosurf/n_flt/pset get p_fault_p/2                                   
     30974 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/n_flt/pset get p_fault_n/3                                   
     30559 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/imt/1                                                        
     61533 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_p/2                                     
     30974 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_n/3                                     
     30559 values reset for attribute imt1                                      
 
# check for continuous connectivity                                             
boundary_components/node/2                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               2
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                 679               30974                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
boundary_components/node/3                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               3
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                2339               30559                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
# color faces of each side                                                      
cmo/setatt/cmosurf/itetclr/1                                                    
     61532 values reset for attribute itetclr                                   
 
# inclusive will include extra associated nodes                                 
eltset/epi/inclusive pset,get,p_fault_p                                         
 
 THE ELTSET epi                              HAS      31544 ELEMENTS            
eltset/eni/inclusive pset,get,p_fault_n                                         
 
 THE ELTSET eni                              HAS      31148 ELEMENTS            
# exclusive are only those attached to cells                                    
eltset/epe/exclusive pset,get,p_fault_p                                         
 
 THE ELTSET epe                              HAS      30384 ELEMENTS            
eltset/ene/exclusive pset,get,p_fault_n                                         
 
 THE ELTSET ene                              HAS      29988 ELEMENTS            
# remove extra attributes and subset side surfs                                 
define MO cmosurf                                                               
infile remove_attributes.mlgi                                                   
# define mesh object name                                                       
cmo/printatt/MO/-all- minmax                                                    
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00     61533  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                       61533            61533               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                    61532            61532               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 2                2               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                4                4               0         1  
 edges_per_element                4                4               0         1  
 faces_per_element                4                4               0         1  
 isetwd                           1                2               1     61533  
 ialias                           0                0               0     61533  
 imt1                             2                3               1     61533  
 itp1                             0                0               0     61533  
 icr1                             0                0               0     61533  
 isn1                             0                0               0     61533  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03     61533  
 yic                6.125000000E+02  1.962500000E+03 1.350000000E+03     61533  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03     61533  
 xtetwd                           3               10               7     61532  
 itetclr                          1                1               0     61532  
 itettyp                          4                4               0     61532  
 itetoff                          0           246124          246124     61532  
 jtetoff                          0           246124          246124     61532  
 itet                             1            61533           61532     61532x4
 jtet                             1         16030283        16030282     61532x4
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilona           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilonv           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                      61533            61533               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 ymin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 zmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 xmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 ymax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 zmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  2                2               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 itetclr0                         0                0               0     61532  
 itetclr1                         1                1               0     61532  
 idnode0                          1            61581           61580     61533  
 idelem0                          0                0               0     61532  
 idelem1                          1            30255           30254     61532  
 facecol                          1                1               0     61532  
 idface0                          0                0               0     61532  
 idface1                          1                6               5     61532  
 vor_vol            4.882812487E+02  5.167643229E+03 4.679361980E+03     61533  
 numbnd                           0             2339            2339     61533  
 id_numb                          1                1               0     61533  
 ncon50                         500              500               0         1  
 nconbnd                          1                1               0         1  
 icontab                          0                2               2       500  
 jtet_cycle_max                   4                4               0         1  
 n_flt                            2                3               1     61533  
 
cmo/DELATT/MO/itetclr0                                                          
cmo/DELATT/MO/itetclr1                                                          
cmo/DELATT/MO/idnode0                                                           
cmo/DELATT/MO/idelem0                                                           
cmo/DELATT/MO/idelem1                                                           
cmo/DELATT/MO/facecol                                                           
cmo/DELATT/MO/idface0                                                           
cmo/DELATT/MO/idface1                                                           
cmo/DELATT/MO/numbnd                                                            
cmo/DELATT/MO/id_numb                                                           
cmo/DELATT/MO/iign                                                              
DELATT no action, attribute does not exist: iign                                
cmo/DELATT/MO/ncon50                                                            
cmo/DELATT/MO/nconbnd                                                           
cmo/DELATT/MO/icontab                                                           
DELATT no action, attribute does not exist: icontab                             
cmo/DELATT/MO/facecol                                                           
DELATT no action, attribute does not exist: facecol                             
finish                                                                          
# create the thin sides of the fault mesh                                       
cmo/setatt/cmosurf/itetclr/eltset,get,epe/2                                     
     30384 values reset for attribute itetclr                                   
 
cmo/setatt/cmosurf/itetclr/eltset,get,ene/3                                     
     29988 values reset for attribute itetclr                                   
 
cmo/addatt/cmosurf/volume/cell_vol                                              
ADDATT/volume: creating new attribute: cell_vol                                 
dump/avs/tmp_surf_sides.inp/cmosurf                                             
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# negative side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 2                                                       
 
 THE ELTSET eduds                            HAS      31148 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded      30573 points plus parents, and       31148 elements removed.       
rmpoint/compress                                                                
     30573 points removed and          0 elements removed.                      
RMPOINT: new point count is        30960                                        
RMPOINT: new element count is      30384                                        
cmo/setatt/moside/imt/MATNO                                                     
     30960 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
     30384 values reset for attribute itetclr                                   
 
dump/avs/FILE_PFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault pos                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                            12               12               0     30960  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.562500000E+02  1.562500000E+02 0.000000000E+00     30384  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812487E+02  5.167643229E+03 4.679361980E+03     30960  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
# positive side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 3                                                       
 
 THE ELTSET eduds                            HAS      31544 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded      30978 points plus parents, and       31544 elements removed.       
rmpoint/compress                                                                
     30978 points removed and          0 elements removed.                      
RMPOINT: new point count is        30555                                        
RMPOINT: new element count is      29988                                        
cmo/setatt/moside/imt/MATNO                                                     
     30555 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
     29988 values reset for attribute itetclr                                   
 
dump/avs/FILE_NFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault neg                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                            12               12               0     30555  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.562500000E+02  1.562500000E+02 0.000000000E+00     29988  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812498E+02  5.147298178E+03 4.659016928E+03     30555  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
surface/surf_flt/remove                                                         
region/r_fault_p/remove                                                         
region/r_fault_n/remove                                                         
cmo/delete/surf_flt                                                             
     Released Mesh Object: surf_flt                                             
cmo/delete/cmosurf                                                              
     Released Mesh Object: cmosurf                                              
cmo/delete/moin                                                                 
     Released Mesh Object: moin                                                 
finish                                                                          
dump/hex3_attributes.inp/movol                                                  
dump/avs/hex3_attributes.inp/movol                                              
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
cmo/delete/movol                                                                
     Released Mesh Object: movol                                                
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: mohex                                          
 
  1 Mesh Object name: mohex                                                     
    number of nodes =        202831        number of elements =       168136    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
 
#----------------------------------------------                                 
# REFINE LEVEL expand 12.5 m spacing for fault 12                               
# refine intersected hex cells for fault 12                                     
cmo/select/mohex                                                                
cmo/setatt/mohex/if_inter/0                                                     
    168136 values reset for attribute if_inter                                  
 
intersect_elements/mohex/mo_flt12/if_inter                                      
cmo/select/mohex                                                                
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
intersect_elements using previously defined attribute: if_inter                 
 
         Element    Elems Searched  Elements Found  Percent Done                
            270            12787           2254        5 %                      
            539            31618           3081       10 %                      
            808            47979           2405       15 %                      
           1077            65617           2436       20 %                      
           1346            81251           2004       25 %                      
           1615            96495           1618       30 %                      
           1884           115832           2141       35 %                      
           2153           127414           1053       40 %                      
           2422           144762           1688       45 %                      
           2691           161715           1409       50 %                      
           2960           177158           1212       55 %                      
           3229           196255           1515       60 %                      
           3498           211739           1110       65 %                      
           3767           232180           1250       70 %                      
           4036           249017           1027       75 %                      
           4305           267301            925       80 %                      
           4574           285892            815       85 %                      
           4843           309061            939       90 %                      
           5112           327739            662       95 %                      
           5379           348597          30255    Total Done                   
 
cmo/select/mohex                                                                
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mohex/sbox                                                           
finish                                                                          
cmo/DELATT/mohex/v12                                                            
finish                                                                          
cmo/DELATT/mohex/linkt                                                          
finish                                                                          
cmo/DELATT/mohex/v2                                                             
finish                                                                          
finish                                                                          
eltset/e_refine/if_inter/gt/0                                                   
 
 THE ELTSET e_refine                         HAS      30255 ELEMENTS            
# do not add another level of refinment                                         
# expand level 2 connected to 3 to be level 3                                   
pset/pref/eltset/e_refine                                                       
 
 THE PSET  pref  HAS      61581 POINTS                                          
eltset/eref_inc/inclusive/pset,get,pref                                         
 
 THE ELTSET eref_inc                         HAS      80445 ELEMENTS            
eltset/eref_exc/exclusive/pset,get,pref                                         
 
 THE ELTSET eref_exc                         HAS      30311 ELEMENTS            
eltset/elev2/itetlev/eq 2                                                       
 
 THE ELTSET elev2                            HAS      44080 ELEMENTS            
eltset/eref/inter/elev2 eref_inc                                                
 
 THE ELTSET eref                             HAS      15398 ELEMENTS            
cmo/setatt/mohex/itetclr/eltset,get,e_refine/2                                  
     30255 values reset for attribute itetclr                                   
 
cmo/setatt/mohex/itetclr/eltset,get,elev2/3                                     
     44080 values reset for attribute itetclr                                   
 
cmo/setatt/mohex/itetclr/eltset,get,eref/4                                      
     15398 values reset for attribute itetclr                                   
 
dump/tmp_ck_eref.inp/mohex                                                      
dump/avs/tmp_ck_eref.inp/mohex                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
cmo/setatt/mohex/itetclr/1                                                      
    168136 values reset for attribute itetclr                                   
 
refine/eltset/eltset get eref                                                   
pset/refine_eltset_pset_tmp_abc_xyz/eltset/eref/                                
 
 THE PSET  refine_eltset_pset_tmp_abc_xyz  HAS      23892 POINTS                
finish                                                                          
refine/constant/imt1/linear/element/pset,get,refine_eltset_pset_tmp_abc_xyz/-1.,
0.,0./exclusive/                                                                
refine elements:                                                                
refine hex     :      16371                                                     
Element iteration:          1      7656                                         
Octree refined elems: old=    168136 new=    229384                             
FILTER_SUBSET:Dudding duplicate points:       91058                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           2                                    
geniee                                                                          
finish                                                                          
Element iteration:          1       958                                         
Octree refined elems: old=    229384 new=    237048                             
FILTER_SUBSET:Dudding duplicate points:       10773                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:         672                                    
geniee                                                                          
finish                                                                          
Element iteration:          1       108                                         
Octree refined elems: old=    237048 new=    237912                             
FILTER_SUBSET:Dudding duplicate points:        1196                             
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:          82                                    
geniee                                                                          
finish                                                                          
finish                                                                          
pset/refine_eltset_pset_tmp_abc_xyz/delete/                                     
 
 PSET refine_e DELETED                                                          
 
finish                                                                          
cmo/setatt/mohex/if_inter/1 0 0/0                                               
    237912 values reset for attribute if_inter                                  
 
cmo/printatt/mohex/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                3               3    237912  
 
**** WRITE RESULTS ****                                                         
define MOHEX mohex                                                              
define MOVOL movol                                                              
# convert octree mesh to standard form add attributes                           
cmo/delete/MOVOL                                                                
Mesh Object release skipped, it does not exist: movol                           
grid2grid/tree_to_fe/MOVOL/MOHEX                                                
cmo/copy/movol/mohex                                                            
finish                                                                          
eltset/-parentset-/itetkid/gt/0                                                 
 
 THE ELTSET -parentset-                      HAS      28969 ELEMENTS            
finish                                                                          
rmpoint/element/eltset,get,-parentset-                                          
 Dudded     103783 points plus parents, and       28969 elements removed.       
finish                                                                          
rmpoint/compress                                                                
    103783 points removed and          0 elements removed.                      
RMPOINT: new point count is       264766                                        
RMPOINT: new element count is     208943                                        
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
eltset/-parentset-/delete                                                       
 
 ELTSET -parentset-                      DELETED                                
 
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :     208943                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.1953E+04 and  0.6801E+04:    166304                      
element volumes b/w  0.6801E+04 and  0.2368E+05:     30956                      
element volumes b/w  0.2368E+05 and  0.8247E+05:         0                      
element volumes b/w  0.8247E+05 and  0.2872E+06:      7236                      
element volumes b/w  0.2872E+06 and  0.1000E+07:      4447                      
min volume =   1.9531250E+03  max volume =   1.0000000E+06                      
-----------------------------------------------------------                     
    208943 total elements evaluated.                                            
 
finish                                                                          
dump/tmp_grid2grid.inp/MOVOL                                                    
dump/avs/tmp_grid2grid.inp/movol                                                
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :     208943                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.1953E+04 and  0.6801E+04:    166304                      
element volumes b/w  0.6801E+04 and  0.2368E+05:     30956                      
element volumes b/w  0.2368E+05 and  0.8247E+05:         0                      
element volumes b/w  0.8247E+05 and  0.2872E+06:      7236                      
element volumes b/w  0.2872E+06 and  0.1000E+07:      4447                      
min volume =   1.9531250E+03  max volume =   1.0000000E+06                      
-----------------------------------------------------------                     
    208943 total elements evaluated.                                            
 
infile hex_add_volumes.mlgi                                                     
# Create cell and node volume attributes                                        
# for resolution decisions based on volumes                                     
# define MOVOL as the hex mesh for added attributes                             
#        MOVOL is a standard mesh and not octree                                
#        grid2grid/tree_to_fe will convert to standard form                     
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =        264766        number of elements =       208943    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                3               3    208943  
 
# create tet voronoi attribute to put on hex nodes                              
cmo/create/motet                                                                
copypts/motet/MOVOL                                                             
copypts added nodes          1 to     264766                                    
cmo/select/motet                                                                
cmo/setatt/motet/imt/1                                                          
Warning: nelements = 0                                                          
    264766 values reset for attribute imt1                                      
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           0                                    
rmpoint compress                                                                
         0 points removed and          0 elements removed.                      
RMPOINT: new point count is       264766                                        
RMPOINT: new element count is          0                                        
connect                                                                         
 Coordinates of enclosing tetrahedron are:                                      
          -0.12500D+04   -0.13000D+04    0.12000D+04                            
          -0.12500D+04    0.87000D+04    0.47000D+04                            
          -0.12500D+04   -0.13000D+04    0.82000D+04                            
           0.97500D+04    0.12000D+04    0.47000D+04                            
 ntets=     31310     node index=     5000     nlstfail=       0 %done=   1.97  
 ntets=     64659     node index=    10000     nlstfail=       0 %done=   4.07  
 ntets=     97635     node index=    15000     nlstfail=       0 %done=   6.15  
 ntets=    130897     node index=    20000     nlstfail=       0 %done=   8.24  
 ntets=    164420     node index=    25000     nlstfail=       0 %done=  10.35  
 ntets=    197621     node index=    30000     nlstfail=       0 %done=  12.44  
 ntets=    231116     node index=    35000     nlstfail=       0 %done=  14.55  
 ntets=    264262     node index=    40000     nlstfail=       0 %done=  16.63  
 ntets=    297362     node index=    45000     nlstfail=       0 %done=  18.72  
 ntets=    329996     node index=    50000     nlstfail=       0 %done=  20.77  
 ntets=    362835     node index=    55000     nlstfail=       0 %done=  22.84  
 ntets=    394389     node index=    60000     nlstfail=       0 %done=  24.83  
 ntets=    425823     node index=    65000     nlstfail=       0 %done=  26.80  
 ntets=    456488     node index=    70000     nlstfail=       0 %done=  28.73  
 ntets=    487200     node index=    75000     nlstfail=       0 %done=  30.67  
 ntets=    517569     node index=    80000     nlstfail=       0 %done=  32.58  
 ntets=    547846     node index=    85000     nlstfail=       0 %done=  34.49  
 ntets=    578202     node index=    90000     nlstfail=       0 %done=  36.40  
 ntets=    608303     node index=    95000     nlstfail=       0 %done=  38.29  
 ntets=    638329     node index=   100000     nlstfail=       0 %done=  40.18  
 ntets=    668603     node index=   105000     nlstfail=       0 %done=  42.09  
 ntets=    699112     node index=   110000     nlstfail=       0 %done=  44.01  
 ntets=    729499     node index=   115000     nlstfail=       0 %done=  45.92  
 ntets=    760107     node index=   120000     nlstfail=       0 %done=  47.85  
 ntets=    790430     node index=   125000     nlstfail=       0 %done=  49.76  
 ntets=    820875     node index=   130000     nlstfail=       0 %done=  51.67  
 ntets=    851047     node index=   135000     nlstfail=       0 %done=  53.57  
 ntets=    881037     node index=   140000     nlstfail=       0 %done=  55.46  
 ntets=    911052     node index=   145000     nlstfail=       0 %done=  57.35  
 ntets=    940710     node index=   150000     nlstfail=       0 %done=  59.22  
 ntets=    970310     node index=   155000     nlstfail=       0 %done=  61.08  
 ntets=    999570     node index=   160000     nlstfail=       0 %done=  62.92  
 ntets=   1028786     node index=   165000     nlstfail=       0 %done=  64.76  
 ntets=   1057707     node index=   170000     nlstfail=       0 %done=  66.58  
 ntets=   1086632     node index=   175000     nlstfail=       0 %done=  68.40  
 ntets=   1115465     node index=   180000     nlstfail=       0 %done=  70.22  
 ntets=   1144157     node index=   185000     nlstfail=       0 %done=  72.02  
 ntets=   1172693     node index=   190000     nlstfail=       0 %done=  73.82  
 ntets=   1200578     node index=   195000     nlstfail=       0 %done=  75.57  
 ntets=   1228484     node index=   200000     nlstfail=       0 %done=  77.33  
 ntets=   1255144     node index=   205000     nlstfail=       0 %done=  79.01  
 ntets=   1282894     node index=   210000     nlstfail=       0 %done=  80.76  
 ntets=   1308471     node index=   215000     nlstfail=       0 %done=  82.37  
 ntets=   1334621     node index=   220000     nlstfail=       0 %done=  84.01  
 ntets=   1359890     node index=   225000     nlstfail=       0 %done=  85.60  
 ntets=   1384961     node index=   230000     nlstfail=       0 %done=  87.18  
 ntets=   1409662     node index=   235000     nlstfail=       0 %done=  88.74  
 ntets=   1433855     node index=   240000     nlstfail=       0 %done=  90.26  
 ntets=   1458225     node index=   245000     nlstfail=       0 %done=  91.79  
 ntets=   1481567     node index=   250000     nlstfail=       0 %done=  93.26  
 ntets=   1504565     node index=   255000     nlstfail=       0 %done=  94.71  
 ntets=   1525699     node index=   260000     nlstfail=       0 %done=  96.04  
 
 Successfully eliminated all multimaterial connections.                         
 
 The mesh is now complete!                                                      
 
LaGriT FINISH: connect                                                          
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :      11744                          
elements with aspect ratio b/w .5  and 1. :    1514168                          
min aspect ratio =  0.3440E+00  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.3255E+03 and  0.1302E+04:   1218907                      
element volumes b/w  0.1302E+04 and  0.5208E+04:    187935                      
element volumes b/w  0.5208E+04 and  0.2083E+05:     61947                      
element volumes b/w  0.2083E+05 and  0.8333E+05:     32299                      
element volumes b/w  0.8333E+05 and  0.3333E+06:     24824                      
min volume =   3.2552083E+02  max volume =   3.3333333E+05                      
-----------------------------------------------------------                     
   1525912 total elements evaluated.                                            
 
dump avs tmp_connect.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
cmo/addatt/motet/voronoi_volume/vor_vol                                         
ADDATT/voronoi_volume: creating new attribute: vor_vol                          
 
AMatbld3d_stor: Matrix compress_eps:  0.1000000E-07                             
AMatbld3d_stor: Local epsilon:  0.1000000E-14                                   
AMatbld3d_stor: *****Zero Negative Coefficients ******                          
AMatbld3d_stor: Number of 'zero' (< compress_eps) coefs         0               
AMatbld3d_stor: npoints =   264766  ncoefs =    2216348                         
AMatbld3d_stor: Number of unique coefs =   1240557                              
AMatbld3d_stor: Maximum num. connections to a node =         36                 
AMatbld3d_stor: Volume min =   4.8828124E+02                                    
AMatbld3d_stor: Volume max =   1.0000000E+06                                    
AMatbld3d_stor: Total Volume:   6.1600000E+09                                   
AMatbld3d_stor: abs(Aij/xij) min =   0.0000000E+00                              
AMatbld3d_stor: abs(Aij/xij) max =   1.1250000E+02                              
AMatbld3d_stor: (Aij/xij) max =   0.0000000E+00                                 
AMatbld3d_stor: (Aij/xij) min =  -1.1250000E+02                                 
AMatbld3d_stor Matrix coefficient values stored as scalar area/distance         
AMatbld3d_stor Matrix compression used for graph, not coefficient values        
motet attribute with voronoi volumes created with name vor_vol                  
 
*** SPARSE COEFFICIENT MATRIX _gstor SUCCESSFUL ***                             
 
3D Matrix Coefficient file written with name -notset-                           
 
dump avs tmp_vor_vol.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# interpolate from tet to hex mesh                                              
cmo/addatt/MOVOL/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/afgx/0.0/       
interpolate/voronoi/MOVOL vor_vol/1,0,0/motet vor_vol                           
nodes in indexed point set  =     264766                                        
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.100000100006E+07             
 
 
Build kdtree0 done - assign nearest node for each.                              
 
 
     Sink point   Points Searched   Points Found  Percent Done                  
 
          13239            13239          13239        5 %                      
          26477            26477          26477       10 %                      
          39715            39715          39715       15 %                      
          52953            52953          52953       20 %                      
          66191            66191          66191       25 %                      
          79429            79429          79429       30 %                      
          92667            92667          92667       35 %                      
         105905           105905         105905       40 %                      
         119143           119143         119143       45 %                      
         132381           132381         132381       50 %                      
         145619           145619         145619       55 %                      
         158857           158857         158857       60 %                      
         172095           172095         172095       65 %                      
         185333           185333         185333       70 %                      
         198571           198571         198571       75 %                      
         211809           211809         211809       80 %                      
         225047           225047         225047       85 %                      
         238285           238285         238285       90 %                      
         251523           251523         251523       95 %                      
         264761           264761         264761      100 %                      
         264766           264766         264766       100%                      
 
Total Source Nodes:                  264766                                     
Total Sink   Nodes:                  264766                                     
 
 
interpolate/voronoi done.                                                       
 
cmo select movol                                                                
finish                                                                          
cmo kdtree release                                                              
finish                                                                          
cmo/delete/motet                                                                
     Released Mesh Object: motet                                                
# add more attributes                                                           
cmo/addatt/MOVOL/volume/cell_vol                                                
ADDATT/volume: creating new attribute: cell_vol                                 
quality/edge_min/y                                                              
cmo/addatt//edgemin/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge min normalized by dividing with max value.                                 
element norm min edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :     166304                            
element norm edge length b/w .2  and .5 :      38192                            
element norm edge length b/w .5  and 1. :       4447                            
min min edge length =  0.1250E+02  max min edge length =  0.1000E+03            
-----------------------------------------------------------                     
    208943 total elements evaluated.                                            
 
quality/edge_max/y                                                              
cmo/addatt//edgemax/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge max normalized by dividing with max value.                                 
element norm max edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :     166304                            
element norm edge length b/w .2  and .5 :      38192                            
element norm edge length b/w .5  and 1. :       4447                            
min max edge length =  0.1250E+02  max max edge length =  0.1000E+03            
-----------------------------------------------------------                     
    208943 total elements evaluated.                                            
 
dump avs tmp_attributes.inp MOVOL                                               
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# minmax of added attributes                                                    
cmo/printatt/MOVOL/-all- minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00    264766  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                      264766           264766               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                   208943           208943               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 3                3               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                8                8               0         1  
 edges_per_element               12               12               0         1  
 faces_per_element                6                6               0         1  
 isetwd                           0                1               1    264766  
 ialias                           0           368549          368549    264766  
 imt1                             1                1               0    264766  
 itp1                             0               10              10    264766  
 icr1                             0                0               0    264766  
 isn1                             0                0               0    264766  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03    264766  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03    264766  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03    264766  
 xtetwd                           0               17              17    208943  
 itetclr                          1                1               0    208943  
 itettyp                          8                8               0    208943  
 itetoff                          0          1671536         1671536    208943  
 jtetoff                          0          1253652         1253652    208943  
 itet                             1           264766          264765    208943x8
 jtet                             2         16000000        15999998    208943x6
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           7.297130333E-10  7.297130333E-10 0.000000000E+00         1  
 epsilona           2.398081733E-06  2.398081733E-06 0.000000000E+00         1  
 epsilonv           1.367794766E-03  1.367794766E-03 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                     264766           264766               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin               4.000000000E+02  4.000000000E+02 0.000000000E+00         1  
 ymin               2.000000000E+02  2.000000000E+02 0.000000000E+00         1  
 zmin               4.000000000E+03  4.000000000E+03 0.000000000E+00         1  
 xmax               2.600000000E+03  2.600000000E+03 0.000000000E+00         1  
 ymax               2.200000000E+03  2.200000000E+03 0.000000000E+00         1  
 zmax               5.400000000E+03  5.400000000E+03 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  1                1               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 if_inter                         0                0               0    208943  
 itetpar                          0           167220          167220    208943  
 itetkid                          0                0               0    208943  
 itetlev                          0                3               3    208943  
 vor_vol            4.882812446E+02  1.000000000E+06 9.995117188E+05    264766  
 cell_vol           1.953125000E+03  1.000000000E+06 9.980468750E+05    208943  
 edgemin            1.250000000E+01  1.000000000E+02 8.750000000E+01    208943  
 edgemax            1.250000000E+01  1.000000000E+02 8.750000000E+01    208943  
 
# check hex arrays                                                              
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                3               3    208943  
 
cmo/printatt/MOVOL/vor_vol/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812446E+02  1.000000000E+06 9.995117188E+05    264766  
 
cmo/printatt/MOVOL/vor_vol/1,5,1                                                
Attribute: vor_vol                                                              
         1  1.25000E+05                                                         
         2  2.50000E+05                                                         
         3  2.50000E+05                                                         
         4  2.50000E+05                                                         
         5  2.50000E+05                                                         
 
cmo/printatt/MOVOL/cell_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.953125000E+03  1.000000000E+06 9.980468750E+05    208943  
 
cmo/printatt/MOVOL/cell_vol/1,5,1                                               
Attribute: cell_vol                                                             
         1  1.00000E+06                                                         
         2  1.00000E+06                                                         
         3  1.00000E+06                                                         
         4  1.00000E+06                                                         
         5  1.00000E+06                                                         
 
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =        264766        number of elements =       208943    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
# end infile macro hex_add_volumes.mlgi                                         
finish                                                                          
# Write files for level 1 fault 12                                              
define MOHEX movol                                                              
define MATNO 12                                                                 
define MOS mo_flt12                                                             
define FILE_FLT hex3b_fault_12.inp                                              
define FILE_NFLT hex3b_fault_12_side_n.inp                                      
define FILE_PFLT hex3b_fault_12_side_p.inp                                      
infile extract_hex_fault.mlgi                                                   
# extract hex cells intersected by fault                                        
# input fault surface MOS and hex mesh MOHEX                                    
# write FILE_FLT                                                                
# Extract intersected fault cells                                               
cmo/copy/mo2/MOHEX                                                              
cmo/select/mo2                                                                  
intersect_elements/mo2/MOS/if_inter                                             
cmo/select/mo2                                                                  
finish                                                                          
kdtree/build                                                                    
cmo/addatt//v2/INT/scalar/scalar/constant/temporary//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//temporary/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/temporary//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/temporary/x/0.0                   
finish                                                                          
finish                                                                          
intersect_elements using previously defined attribute: if_inter                 
 
         Element    Elems Searched  Elements Found  Percent Done                
            270            12624           2254        5 %                      
            539            30684           3081       10 %                      
            808            46439           2405       15 %                      
           1077            63398           2436       20 %                      
           1346            78444           2004       25 %                      
           1615            92756           1618       30 %                      
           1884           111087           2141       35 %                      
           2153           122258           1053       40 %                      
           2422           138780           1688       45 %                      
           2691           155196           1409       50 %                      
           2960           169569           1212       55 %                      
           3229           187763           1515       60 %                      
           3498           202325           1110       65 %                      
           3767           221386           1250       70 %                      
           4036           236553           1027       75 %                      
           4305           253631            925       80 %                      
           4574           271167            815       85 %                      
           4843           292550            939       90 %                      
           5112           310275            662       95 %                      
           5379           329850          30255    Total Done                   
 
cmo/select/mo2                                                                  
finish                                                                          
kdtree/release                                                                  
cmo/DELATT/mo2/sbox                                                             
finish                                                                          
cmo/DELATT/mo2/v12                                                              
finish                                                                          
cmo/DELATT/mo2/linkt                                                            
finish                                                                          
cmo/DELATT/mo2/v2                                                               
finish                                                                          
finish                                                                          
eltset/e_inter/if_inter/gt/0                                                    
 
 THE ELTSET e_inter                          HAS      30255 ELEMENTS            
eltset/eduds/not/e_inter                                                        
 
 THE ELTSET eduds                            HAS     178688 ELEMENTS            
rmpoint element eltset,get,eduds                                                
 Dudded     203185 points plus parents, and      178688 elements removed.       
rmpoint compress                                                                
    203185 points removed and          0 elements removed.                      
RMPOINT: new point count is        61581                                        
RMPOINT: new element count is      30255                                        
resetpts itp                                                                    
geniee                                                                          
finish                                                                          
boundary_components/node                                                        
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
cmo/addatt/mo2/numbnd/vint/scalar/nnodes/linear/permanent/afgx/0/               
finish                                                                          
cmo/addatt/mo2/id_numb/vint/scalar/nnodes/linear/permanent/afgx/0/              
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/mo2/ikey_tmp/vint/scalar/nnodes///gax/0                              
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different exterior boundary components                   
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                6604               61533                                 
 
cmo/DELATT/mo2/ikey_tmp                                                         
finish                                                                          
log/tty/on                                                                      
finish                                                                          
dump/avs/FILE_FLT mo2                                                           
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for hex fault                                            
cmo/printatt/mo2/imt/minmax                                                     
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                             1                1               0     61581  
 
cmo/printatt/mo2/itetlev/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          3                3               0     30255  
 
cmo/printatt/mo2/cell_vol/minmax                                                
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.953125000E+03  1.953125000E+03 0.000000000E+00     30255  
 
cmo/printatt/mo2/vor_vol/minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812492E+02  1.953125048E+03 1.464843798E+03     61581  
 
cmo/delete/mo2                                                                  
     Released Mesh Object: mo2                                                  
finish                                                                          
infile extract_thin_faults.mlgi                                                 
# input hex fault read file FILE_FLT                                            
# input fault surface mesh object MOS                                           
# write files FILE_NFLT and FILE_PFLT                                           
# assign itetclr with MATNO                                                     
read/FILE_FLT/moin                                                              
read/avs/hex3b_fault_12.inp/moin                                                
cmo/addatt/moin/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf/0.0             
finish                                                                          
cmo/addatt/moin/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf/0.0            
finish                                                                          
cmo/addatt/moin/if_inter/VINT/scalar/nelements/linear/permanent/gxaf/0.0        
finish                                                                          
cmo/addatt/moin/itetpar/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetkid/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/itetlev/VINT/scalar/nelements/linear/permanent/gxaf/0.0         
finish                                                                          
cmo/addatt/moin/cell_vol/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0     
finish                                                                          
cmo/addatt/moin/edgemin/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
cmo/addatt/moin/edgemax/VDOUBLE/scalar/nelements/linear/permanent/gxaf/0.0      
finish                                                                          
geniee                                                                          
finish                                                                          
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: moin                                           
 
  1 Mesh Object name: mohex                                                     
    number of nodes =        368549        number of elements =       237912    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  5 Mesh Object name: movol                                                     
    number of nodes =        264766        number of elements =       208943    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                 inactive    
 
  6 Mesh Object name: moin                                                      
    number of nodes =         61581        number of elements =        30255    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
finish                                                                          
finish                                                                          
cmo/status/moin/brief                                                           
 
The current-mesh-object(CMO) is: moin                                           
 
  6 Mesh Object name: moin                                                      
    number of nodes =         61581        number of elements =        30255    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/setatt/moin/itetclr 1                                                       
     30255 values reset for attribute itetclr                                   
 
cmo/setatt/moin/imt 1                                                           
     61581 values reset for attribute imt1                                      
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
# extract outside surface of the fault                                          
extract/surfmesh/1,0,0/cmosurf/moin/external                                    
cmo/addatt/cmosurf/itetclr0/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/itetclr1/vint/scalar/nelements////0                          
finish                                                                          
cmo/addatt/cmosurf/idnode0/vint/scalar/nnodes////0                              
finish                                                                          
cmo/addatt/cmosurf/idelem0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idelem1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/facecol/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface0/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/idface1/vint/scalar/nelements////0                           
finish                                                                          
cmo/addatt/cmosurf/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/gxaf          
finish                                                                          
cmo/addatt/cmosurf/numbnd/VINT/scalar/nnodes/linear/permanent/gxaf              
finish                                                                          
cmo/addatt/cmosurf/id_numb/VINT/scalar/nnodes/linear/permanent/gxaf             
finish                                                                          
cmo/addatt/cmosurf/ncon50/int/scalar/scalar/constant/permanent/x/0              
finish                                                                          
cmo/addatt/cmosurf/nconbnd/int/scalar/scalar/constant/permanent/x/0             
finish                                                                          
cmo/addatt/cmosurf/icontab/vint/scalar/ncon50/constant/permanent/x/0            
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
cmo/select/cmosurf                                                              
# define the negative and positive sides of the fault                           
cmo/select/cmosurf                                                              
surface/surf_flt/reflect/sheet/MOS                                              
cmo/addatt//v2/INT/scalar/scalar/constant/permanent//2.0                        
finish                                                                          
cmo/addatt//linkt/VINT/v2/nelements//permanent/x/0.0                            
finish                                                                          
cmo/addatt//v12/INT/scalar/scalar/constant/permanent//12.0                      
finish                                                                          
cmo/addatt//sbox/VDOUBLE/v12/nelements/linear/permanent/x/0.0                   
finish                                                                          
log/tty/off                                                                     
finish                                                                          
cmo/DELATT/surf_flt isetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt ialias                                                      
finish                                                                          
cmo/DELATT/surf_flt imt1                                                        
finish                                                                          
cmo/DELATT/surf_flt itp1                                                        
finish                                                                          
cmo/DELATT/surf_flt icr1                                                        
finish                                                                          
cmo/DELATT/surf_flt isn1                                                        
finish                                                                          
cmo/DELATT/surf_flt xtetwd                                                      
finish                                                                          
cmo/DELATT/surf_flt itetclr                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
region/r_fault_p/ge surf_flt                                                    
region/r_fault_n/lt surf_flt                                                    
pset/p_fault_p/region/r_fault_p                                                 
 
 THE PSET  p_fault_p  HAS      30974 POINTS                                     
pset/p_fault_n/region/r_fault_n                                                 
 
 THE PSET  p_fault_n  HAS      30559 POINTS                                     
cmo/addatt/cmosurf/n_flt/vint/scalar/nnodes/linear/permanent/agx/0/             
cmo/setatt/cmosurf/n_flt/pset get p_fault_p/2                                   
     30974 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/n_flt/pset get p_fault_n/3                                   
     30559 values reset for attribute n_flt                                     
 
cmo/setatt/cmosurf/imt/1                                                        
     61533 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_p/2                                     
     30974 values reset for attribute imt1                                      
 
cmo/setatt/cmosurf/imt/pset,get,p_fault_n/3                                     
     30559 values reset for attribute imt1                                      
 
# check for continuous connectivity                                             
boundary_components/node/2                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               2
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                 679               30974                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
boundary_components/node/3                                                      
log/tty/off                                                                     
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
 geniee: mesh has                     1  jtet loops, max cycle length=          
                                                                               4
finish                                                                          
finish                                                                          
sort/-def-/index/-def-/ikey_tmp/numbnd                                          
cmo/addatt/cmosurf/ikey_tmp/vint/scalar/nnodes///gax/0                          
finish                                                                          
 SORT: order key written to attribute: ikey_tmp                                 
 
finish                                                                          
 
 CONNECTED COMPONENTS:                                                          
                    1  different connected components with imt =                
                                                                               3
 Set#        Representitive Node #        # Nodes in Set                        
            (numbnd_e(node#) attribute)                                         
      1                2339               30559                                 
 
cmo/DELATT/cmosurf/ikey_tmp                                                     
finish                                                                          
log/tty/on                                                                      
finish                                                                          
# color faces of each side                                                      
cmo/setatt/cmosurf/itetclr/1                                                    
     61532 values reset for attribute itetclr                                   
 
# inclusive will include extra associated nodes                                 
eltset/epi/inclusive pset,get,p_fault_p                                         
 
 THE ELTSET epi                              HAS      31544 ELEMENTS            
eltset/eni/inclusive pset,get,p_fault_n                                         
 
 THE ELTSET eni                              HAS      31148 ELEMENTS            
# exclusive are only those attached to cells                                    
eltset/epe/exclusive pset,get,p_fault_p                                         
 
 THE ELTSET epe                              HAS      30384 ELEMENTS            
eltset/ene/exclusive pset,get,p_fault_n                                         
 
 THE ELTSET ene                              HAS      29988 ELEMENTS            
# remove extra attributes and subset side surfs                                 
define MO cmosurf                                                               
infile remove_attributes.mlgi                                                   
# define mesh object name                                                       
cmo/printatt/MO/-all- minmax                                                    
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00     61533  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                       61533            61533               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                    61532            61532               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 2                2               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                4                4               0         1  
 edges_per_element                4                4               0         1  
 faces_per_element                4                4               0         1  
 isetwd                           1                2               1     61533  
 ialias                           0                0               0     61533  
 imt1                             2                3               1     61533  
 itp1                             0                0               0     61533  
 icr1                             0                0               0     61533  
 isn1                             0                0               0     61533  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03     61533  
 yic                6.125000000E+02  1.962500000E+03 1.350000000E+03     61533  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03     61533  
 xtetwd                           3               10               7     61532  
 itetclr                          1                1               0     61532  
 itettyp                          4                4               0     61532  
 itetoff                          0           246124          246124     61532  
 jtetoff                          0           246124          246124     61532  
 itet                             1            61533           61532     61532x4
 jtet                             1         16030283        16030282     61532x4
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilona           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 epsilonv           9.999999939E-09  9.999999939E-09 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                      61533            61533               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 ymin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 zmin              -1.000000000E+00 -1.000000000E+00 0.000000000E+00         1  
 xmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 ymax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 zmax               1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  2                2               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 itetclr0                         0                0               0     61532  
 itetclr1                         1                1               0     61532  
 idnode0                          1            61581           61580     61533  
 idelem0                          0                0               0     61532  
 idelem1                          1            30255           30254     61532  
 facecol                          1                1               0     61532  
 idface0                          0                0               0     61532  
 idface1                          1                6               5     61532  
 vor_vol            4.882812492E+02  1.953125048E+03 1.464843798E+03     61533  
 numbnd                           0             2339            2339     61533  
 id_numb                          1                1               0     61533  
 ncon50                         500              500               0         1  
 nconbnd                          1                1               0         1  
 icontab                          0                2               2       500  
 jtet_cycle_max                   4                4               0         1  
 n_flt                            2                3               1     61533  
 
cmo/DELATT/MO/itetclr0                                                          
cmo/DELATT/MO/itetclr1                                                          
cmo/DELATT/MO/idnode0                                                           
cmo/DELATT/MO/idelem0                                                           
cmo/DELATT/MO/idelem1                                                           
cmo/DELATT/MO/facecol                                                           
cmo/DELATT/MO/idface0                                                           
cmo/DELATT/MO/idface1                                                           
cmo/DELATT/MO/numbnd                                                            
cmo/DELATT/MO/id_numb                                                           
cmo/DELATT/MO/iign                                                              
DELATT no action, attribute does not exist: iign                                
cmo/DELATT/MO/ncon50                                                            
cmo/DELATT/MO/nconbnd                                                           
cmo/DELATT/MO/icontab                                                           
DELATT no action, attribute does not exist: icontab                             
cmo/DELATT/MO/facecol                                                           
DELATT no action, attribute does not exist: facecol                             
finish                                                                          
# create the thin sides of the fault mesh                                       
cmo/setatt/cmosurf/itetclr/eltset,get,epe/2                                     
     30384 values reset for attribute itetclr                                   
 
cmo/setatt/cmosurf/itetclr/eltset,get,ene/3                                     
     29988 values reset for attribute itetclr                                   
 
cmo/addatt/cmosurf/volume/cell_vol                                              
ADDATT/volume: creating new attribute: cell_vol                                 
dump/avs/tmp_surf_sides.inp/cmosurf                                             
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# negative side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 2                                                       
 
 THE ELTSET eduds                            HAS      31148 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded      30573 points plus parents, and       31148 elements removed.       
rmpoint/compress                                                                
     30573 points removed and          0 elements removed.                      
RMPOINT: new point count is        30960                                        
RMPOINT: new element count is      30384                                        
cmo/setatt/moside/imt/MATNO                                                     
     30960 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
     30384 values reset for attribute itetclr                                   
 
dump/avs/FILE_PFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault pos                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                            12               12               0     30960  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.562500000E+02  1.562500000E+02 0.000000000E+00     30384  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812492E+02  1.953125048E+03 1.464843798E+03     30960  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
# positive side of fault                                                        
cmo/copy/moside/cmosurf                                                         
cmo/select/moside                                                               
eltset/eduds/itetclr ne 3                                                       
 
 THE ELTSET eduds                            HAS      31544 ELEMENTS            
rmpoint/element/eltset,get,eduds                                                
 Dudded      30978 points plus parents, and       31544 elements removed.       
rmpoint/compress                                                                
     30978 points removed and          0 elements removed.                      
RMPOINT: new point count is        30555                                        
RMPOINT: new element count is      29988                                        
cmo/setatt/moside/imt/MATNO                                                     
     30555 values reset for attribute imt1                                      
 
cmo/setatt/moside/itetclr/MATNO                                                 
     29988 values reset for attribute itetclr                                   
 
dump/avs/FILE_NFLT/moside                                                       
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# report minmax values for thin fault neg                                       
cmo/printatt/moside/imt/minmax                                                  
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 imt1                            12               12               0     30555  
 
cmo/printatt/moside/itetlev/minmax                                              
 cannot attribute itetlev in moside                                             
cmo/printatt/moside/cell_vol/minmax                                             
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.562500000E+02  1.562500000E+02 0.000000000E+00     29988  
 
cmo/printatt/moside/vor_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812497E+02  1.953125045E+03 1.464843795E+03     30555  
 
cmo/delete/moside                                                               
     Released Mesh Object: moside                                               
surface/surf_flt/remove                                                         
region/r_fault_p/remove                                                         
region/r_fault_n/remove                                                         
cmo/delete/surf_flt                                                             
     Released Mesh Object: surf_flt                                             
cmo/delete/cmosurf                                                              
     Released Mesh Object: cmosurf                                              
cmo/delete/moin                                                                 
     Released Mesh Object: moin                                                 
finish                                                                          
dump/hex3b_attributes.inp/movol                                                 
dump/avs/hex3b_attributes.inp/movol                                             
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
cmo/delete/movol                                                                
     Released Mesh Object: movol                                                
cmo/status/brief                                                                
 
The current-mesh-object(CMO) is: mohex                                          
 
  1 Mesh Object name: mohex                                                     
    number of nodes =        368549        number of elements =       237912    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
  2 Mesh Object name: mo_flt6                                                   
    number of nodes =          2281        number of elements =         4344    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  3 Mesh Object name: mo_flt12                                                  
    number of nodes =          2849        number of elements =         5379    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
  4 Mesh Object name: mo_faults                                                 
    number of nodes =          5130        number of elements =         9723    
    dimensions geometry =         3        element type =                tri    
    dimensions topology =         2        3 nodes      3 faces      3 edges    
    boundary flag =        16000000        status =                 inactive    
 
 
#####################################################################           
# WRITE FINAL REFINED MESH and ATTRIBUTES                                       
define MOHEX mohex                                                              
define MOVOL movol                                                              
dump/hex_refine_octree.inp/mohex                                                
dump/avs/hex_refine_octree.inp/mohex                                            
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
# convert octree mesh to standard form to add attributes                        
cmo/delete/MOVOL                                                                
Mesh Object release skipped, it does not exist: movol                           
grid2grid/tree_to_fe/MOVOL/MOHEX                                                
cmo/copy/movol/mohex                                                            
finish                                                                          
eltset/-parentset-/itetkid/gt/0                                                 
 
 THE ELTSET -parentset-                      HAS      28969 ELEMENTS            
finish                                                                          
rmpoint/element/eltset,get,-parentset-                                          
 Dudded     103783 points plus parents, and       28969 elements removed.       
finish                                                                          
rmpoint/compress                                                                
    103783 points removed and          0 elements removed.                      
RMPOINT: new point count is       264766                                        
RMPOINT: new element count is     208943                                        
finish                                                                          
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
finish                                                                          
eltset/-parentset-/delete                                                       
 
 ELTSET -parentset-                      DELETED                                
 
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :     208943                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.1953E+04 and  0.6801E+04:    166304                      
element volumes b/w  0.6801E+04 and  0.2368E+05:     30956                      
element volumes b/w  0.2368E+05 and  0.8247E+05:         0                      
element volumes b/w  0.8247E+05 and  0.2872E+06:      7236                      
element volumes b/w  0.2872E+06 and  0.1000E+07:      4447                      
min volume =   1.9531250E+03  max volume =   1.0000000E+06                      
-----------------------------------------------------------                     
    208943 total elements evaluated.                                            
 
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :          0                          
elements with aspect ratio b/w .5  and 1. :     208943                          
min aspect ratio =  0.1000E+01  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.1953E+04 and  0.6801E+04:    166304                      
element volumes b/w  0.6801E+04 and  0.2368E+05:     30956                      
element volumes b/w  0.2368E+05 and  0.8247E+05:         0                      
element volumes b/w  0.8247E+05 and  0.2872E+06:      7236                      
element volumes b/w  0.2872E+06 and  0.1000E+07:      4447                      
min volume =   1.9531250E+03  max volume =   1.0000000E+06                      
-----------------------------------------------------------                     
    208943 total elements evaluated.                                            
 
infile hex_add_volumes.mlgi                                                     
# Create cell and node volume attributes                                        
# for resolution decisions based on volumes                                     
# define MOVOL as the hex mesh for added attributes                             
#        MOVOL is a standard mesh and not octree                                
#        grid2grid/tree_to_fe will convert to standard form                     
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =        264766        number of elements =       208943    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                3               3    208943  
 
# create tet voronoi attribute to put on hex nodes                              
cmo/create/motet                                                                
copypts/motet/MOVOL                                                             
copypts added nodes          1 to     264766                                    
cmo/select/motet                                                                
cmo/setatt/motet/imt/1                                                          
Warning: nelements = 0                                                          
    264766 values reset for attribute imt1                                      
 
filter/1,0,0                                                                    
FILTER:Use internal epsilonl value =   0.729713033339E-09                       
FILTER:Dudding duplicate points:           0                                    
rmpoint compress                                                                
         0 points removed and          0 elements removed.                      
RMPOINT: new point count is       264766                                        
RMPOINT: new element count is          0                                        
connect                                                                         
 Coordinates of enclosing tetrahedron are:                                      
          -0.12500D+04   -0.13000D+04    0.12000D+04                            
          -0.12500D+04    0.87000D+04    0.47000D+04                            
          -0.12500D+04   -0.13000D+04    0.82000D+04                            
           0.97500D+04    0.12000D+04    0.47000D+04                            
 ntets=     31430     node index=     5000     nlstfail=       0 %done=   1.98  
 ntets=     64763     node index=    10000     nlstfail=       0 %done=   4.08  
 ntets=     97708     node index=    15000     nlstfail=       0 %done=   6.15  
 ntets=    130964     node index=    20000     nlstfail=       0 %done=   8.24  
 ntets=    164256     node index=    25000     nlstfail=       0 %done=  10.34  
 ntets=    197425     node index=    30000     nlstfail=       0 %done=  12.43  
 ntets=    231354     node index=    35000     nlstfail=       0 %done=  14.56  
 ntets=    264686     node index=    40000     nlstfail=       0 %done=  16.66  
 ntets=    298053     node index=    45000     nlstfail=       0 %done=  18.76  
 ntets=    331024     node index=    50000     nlstfail=       0 %done=  20.84  
 ntets=    362778     node index=    55000     nlstfail=       0 %done=  22.84  
 ntets=    394409     node index=    60000     nlstfail=       0 %done=  24.83  
 ntets=    425349     node index=    65000     nlstfail=       0 %done=  26.77  
 ntets=    456336     node index=    70000     nlstfail=       0 %done=  28.73  
 ntets=    486658     node index=    75000     nlstfail=       0 %done=  30.63  
 ntets=    517244     node index=    80000     nlstfail=       0 %done=  32.56  
 ntets=    547789     node index=    85000     nlstfail=       0 %done=  34.48  
 ntets=    578519     node index=    90000     nlstfail=       0 %done=  36.42  
 ntets=    608611     node index=    95000     nlstfail=       0 %done=  38.31  
 ntets=    638708     node index=   100000     nlstfail=       0 %done=  40.21  
 ntets=    669069     node index=   105000     nlstfail=       0 %done=  42.12  
 ntets=    699669     node index=   110000     nlstfail=       0 %done=  44.04  
 ntets=    729742     node index=   115000     nlstfail=       0 %done=  45.94  
 ntets=    760111     node index=   120000     nlstfail=       0 %done=  47.85  
 ntets=    790207     node index=   125000     nlstfail=       0 %done=  49.74  
 ntets=    820347     node index=   130000     nlstfail=       0 %done=  51.64  
 ntets=    850729     node index=   135000     nlstfail=       0 %done=  53.55  
 ntets=    880831     node index=   140000     nlstfail=       0 %done=  55.45  
 ntets=    910803     node index=   145000     nlstfail=       0 %done=  57.33  
 ntets=    940552     node index=   150000     nlstfail=       0 %done=  59.21  
 ntets=    970169     node index=   155000     nlstfail=       0 %done=  61.07  
 ntets=    999308     node index=   160000     nlstfail=       0 %done=  62.90  
 ntets=   1028070     node index=   165000     nlstfail=       0 %done=  64.71  
 ntets=   1057034     node index=   170000     nlstfail=       0 %done=  66.54  
 ntets=   1085344     node index=   175000     nlstfail=       0 %done=  68.32  
 ntets=   1113769     node index=   180000     nlstfail=       0 %done=  70.11  
 ntets=   1141990     node index=   185000     nlstfail=       0 %done=  71.89  
 ntets=   1170158     node index=   190000     nlstfail=       0 %done=  73.66  
 ntets=   1198338     node index=   195000     nlstfail=       0 %done=  75.43  
 ntets=   1225951     node index=   200000     nlstfail=       0 %done=  77.17  
 ntets=   1253617     node index=   205000     nlstfail=       0 %done=  78.91  
 ntets=   1280681     node index=   210000     nlstfail=       0 %done=  80.62  
 ntets=   1307327     node index=   215000     nlstfail=       0 %done=  82.29  
 ntets=   1333483     node index=   220000     nlstfail=       0 %done=  83.94  
 ntets=   1358927     node index=   225000     nlstfail=       0 %done=  85.54  
 ntets=   1384548     node index=   230000     nlstfail=       0 %done=  87.15  
 ntets=   1408566     node index=   235000     nlstfail=       0 %done=  88.67  
 ntets=   1433103     node index=   240000     nlstfail=       0 %done=  90.21  
 ntets=   1456933     node index=   245000     nlstfail=       0 %done=  91.71  
 ntets=   1480350     node index=   250000     nlstfail=       0 %done=  93.18  
 ntets=   1503706     node index=   255000     nlstfail=       0 %done=  94.65  
 ntets=   1525223     node index=   260000     nlstfail=       0 %done=  96.01  
 
 Successfully eliminated all multimaterial connections.                         
 
 The mesh is now complete!                                                      
 
LaGriT FINISH: connect                                                          
 
resetpts/itp                                                                    
geniee                                                                          
finish                                                                          
quality                                                                         
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
elements with aspect ratio < .01:                    0                          
elements with aspect ratio b/w .01 and .02:          0                          
elements with aspect ratio b/w .02 and .05:          0                          
elements with aspect ratio b/w .05 and .1 :          0                          
elements with aspect ratio b/w .1  and .2 :          0                          
elements with aspect ratio b/w .2  and .5 :      12038                          
elements with aspect ratio b/w .5  and 1. :    1513324                          
min aspect ratio =  0.3440E+00  max aspect ratio =  0.1000E+01                  
 
epsilonvol:   1.3677948E-03                                                     
---------------------------------------                                         
element volumes b/w  0.3255E+03 and  0.1302E+04:   1218334                      
element volumes b/w  0.1302E+04 and  0.5208E+04:    187889                      
element volumes b/w  0.5208E+04 and  0.2083E+05:     62013                      
element volumes b/w  0.2083E+05 and  0.8333E+05:     32221                      
element volumes b/w  0.8333E+05 and  0.3333E+06:     24905                      
min volume =   3.2552083E+02  max volume =   3.3333333E+05                      
-----------------------------------------------------------                     
   1525362 total elements evaluated.                                            
 
dump avs tmp_connect.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
cmo/addatt/motet/voronoi_volume/vor_vol                                         
ADDATT/voronoi_volume: creating new attribute: vor_vol                          
 
AMatbld3d_stor: Matrix compress_eps:  0.1000000E-07                             
AMatbld3d_stor: Local epsilon:  0.1000000E-14                                   
AMatbld3d_stor: *****Zero Negative Coefficients ******                          
AMatbld3d_stor: Number of 'zero' (< compress_eps) coefs         0               
AMatbld3d_stor: npoints =   264766  ncoefs =    2216348                         
AMatbld3d_stor: Number of unique coefs =   1240557                              
AMatbld3d_stor: Maximum num. connections to a node =         36                 
AMatbld3d_stor: Volume min =   4.8828125E+02                                    
AMatbld3d_stor: Volume max =   1.0000000E+06                                    
AMatbld3d_stor: Total Volume:   6.1600000E+09                                   
AMatbld3d_stor: abs(Aij/xij) min =   0.0000000E+00                              
AMatbld3d_stor: abs(Aij/xij) max =   1.1250000E+02                              
AMatbld3d_stor: (Aij/xij) max =   0.0000000E+00                                 
AMatbld3d_stor: (Aij/xij) min =  -1.1250000E+02                                 
AMatbld3d_stor Matrix coefficient values stored as scalar area/distance         
AMatbld3d_stor Matrix compression used for graph, not coefficient values        
motet attribute with voronoi volumes created with name vor_vol                  
 
*** SPARSE COEFFICIENT MATRIX _gstor SUCCESSFUL ***                             
 
3D Matrix Coefficient file written with name -notset-                           
 
dump avs tmp_vor_vol.inp motet                                                  
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# interpolate from tet to hex mesh                                              
cmo/addatt/MOVOL/vor_vol/VDOUBLE/scalar/nnodes/linear/permanent/afgx/0.0/       
interpolate/voronoi/MOVOL vor_vol/1,0,0/motet vor_vol                           
nodes in indexed point set  =     264766                                        
 
INTRP METHOD:    voronoi   FUNCTION:     linear                                 
      TIEBREAKER:     maxtie   FLAG:      plus1  0.100000100007E+07             
 
 
Build kdtree0 done - assign nearest node for each.                              
 
 
     Sink point   Points Searched   Points Found  Percent Done                  
 
          13239            13239          13239        5 %                      
          26477            26477          26477       10 %                      
          39715            39715          39715       15 %                      
          52953            52953          52953       20 %                      
          66191            66191          66191       25 %                      
          79429            79429          79429       30 %                      
          92667            92667          92667       35 %                      
         105905           105905         105905       40 %                      
         119143           119143         119143       45 %                      
         132381           132381         132381       50 %                      
         145619           145619         145619       55 %                      
         158857           158857         158857       60 %                      
         172095           172095         172095       65 %                      
         185333           185333         185333       70 %                      
         198571           198571         198571       75 %                      
         211809           211809         211809       80 %                      
         225047           225047         225047       85 %                      
         238285           238285         238285       90 %                      
         251523           251523         251523       95 %                      
         264761           264761         264761      100 %                      
         264766           264766         264766       100%                      
 
Total Source Nodes:                  264766                                     
Total Sink   Nodes:                  264766                                     
 
 
interpolate/voronoi done.                                                       
 
cmo select movol                                                                
finish                                                                          
cmo kdtree release                                                              
finish                                                                          
cmo/delete/motet                                                                
     Released Mesh Object: motet                                                
# add more attributes                                                           
cmo/addatt/MOVOL/volume/cell_vol                                                
ADDATT/volume: creating new attribute: cell_vol                                 
quality/edge_min/y                                                              
cmo/addatt//edgemin/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge min normalized by dividing with max value.                                 
element norm min edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :     166304                            
element norm edge length b/w .2  and .5 :      38192                            
element norm edge length b/w .5  and 1. :       4447                            
min min edge length =  0.1250E+02  max min edge length =  0.1000E+03            
-----------------------------------------------------------                     
    208943 total elements evaluated.                                            
 
quality/edge_max/y                                                              
cmo/addatt//edgemax/VDOUBLE/scalar/nelements                                    
finish                                                                          
 
epsilonl, epsilonaspect:   7.2971303E-10  3.8855841E-28                         
--------------------------------------------                                    
Edge max normalized by dividing with max value.                                 
element norm max edge length < .01:                0                            
element norm edge length b/w .01 and .02:          0                            
element norm edge length b/w .02 and .05:          0                            
element norm edge length b/w .05 and .1 :          0                            
element norm edge length b/w .1  and .2 :     166304                            
element norm edge length b/w .2  and .5 :      38192                            
element norm edge length b/w .5  and 1. :       4447                            
min max edge length =  0.1250E+02  max max edge length =  0.1000E+03            
-----------------------------------------------------------                     
    208943 total elements evaluated.                                            
 
dump avs tmp_attributes.inp MOVOL                                               
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
# minmax of added attributes                                                    
cmo/printatt/MOVOL/-all- minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00    264766  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                      264766           264766               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                   208943           208943               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 3                3               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                8                8               0         1  
 edges_per_element               12               12               0         1  
 faces_per_element                6                6               0         1  
 isetwd                           0                1               1    264766  
 ialias                           0           368549          368549    264766  
 imt1                             1                1               0    264766  
 itp1                             0               10              10    264766  
 icr1                             0                0               0    264766  
 isn1                             0                0               0    264766  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03    264766  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03    264766  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03    264766  
 xtetwd                           0               17              17    208943  
 itetclr                          1                1               0    208943  
 itettyp                          8                8               0    208943  
 itetoff                          0          1671536         1671536    208943  
 jtetoff                          0          1253652         1253652    208943  
 itet                             1           264766          264765    208943x8
 jtet                             2         16000000        15999998    208943x6
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           7.297130333E-10  7.297130333E-10 0.000000000E+00         1  
 epsilona           2.398081733E-06  2.398081733E-06 0.000000000E+00         1  
 epsilonv           1.367794766E-03  1.367794766E-03 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                     264766           264766               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin               4.000000000E+02  4.000000000E+02 0.000000000E+00         1  
 ymin               2.000000000E+02  2.000000000E+02 0.000000000E+00         1  
 zmin               4.000000000E+03  4.000000000E+03 0.000000000E+00         1  
 xmax               2.600000000E+03  2.600000000E+03 0.000000000E+00         1  
 ymax               2.200000000E+03  2.200000000E+03 0.000000000E+00         1  
 zmax               5.400000000E+03  5.400000000E+03 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  1                1               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 if_inter                         0                0               0    208943  
 itetpar                          0           167220          167220    208943  
 itetkid                          0                0               0    208943  
 itetlev                          0                3               3    208943  
 vor_vol            4.882812462E+02  1.000000000E+06 9.995117188E+05    264766  
 cell_vol           1.953125000E+03  1.000000000E+06 9.980468750E+05    208943  
 edgemin            1.250000000E+01  1.000000000E+02 8.750000000E+01    208943  
 edgemax            1.250000000E+01  1.000000000E+02 8.750000000E+01    208943  
 
# check hex arrays                                                              
cmo/printatt/MOVOL/itetlev/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 itetlev                          0                3               3    208943  
 
cmo/printatt/MOVOL/vor_vol/minmax                                               
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 vor_vol            4.882812462E+02  1.000000000E+06 9.995117188E+05    264766  
 
cmo/printatt/MOVOL/vor_vol/1,5,1                                                
Attribute: vor_vol                                                              
         1  1.25000E+05                                                         
         2  2.50000E+05                                                         
         3  2.50000E+05                                                         
         4  2.50000E+05                                                         
         5  2.50000E+05                                                         
 
cmo/printatt/MOVOL/cell_vol/minmax                                              
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 cell_vol           1.953125000E+03  1.000000000E+06 9.980468750E+05    208943  
 
cmo/printatt/MOVOL/cell_vol/1,5,1                                               
Attribute: cell_vol                                                             
         1  1.00000E+06                                                         
         2  1.00000E+06                                                         
         3  1.00000E+06                                                         
         4  1.00000E+06                                                         
         5  1.00000E+06                                                         
 
cmo/status/MOVOL/brief                                                          
 
The current-mesh-object(CMO) is: movol                                          
 
  5 Mesh Object name: movol                                                     
    number of nodes =        264766        number of elements =       208943    
    dimensions geometry =         3        element type =                hex    
    dimensions topology =         3        8 nodes      6 faces     12 edges    
    boundary flag =        16000000        status =                   active    
 
 
# end infile macro hex_add_volumes.mlgi                                         
finish                                                                          
cmo/printatt/MOVOL/-all- minmax                                                 
ATTRIBUTE NAME              MIN               MAX         DIFFERENCE    LENGTH  
 -def-              0.000000000E+00  0.000000000E+00 0.000000000E+00    264766  
 scalar                           1                1               0         1  
 vector                           3                3               0         1  
 nnodes                      264766           264766               0         1  
 nedges                           0                0               0         1  
 nfaces                           0                0               0         1  
 nelements                   208943           208943               0         1  
 mbndry                    16000000         16000000               0         1  
 ndimensions_topo                 3                3               0         1  
 ndimensions_geom                 3                3               0         1  
 nodes_per_element                8                8               0         1  
 edges_per_element               12               12               0         1  
 faces_per_element                6                6               0         1  
 isetwd                           0                1               1    264766  
 ialias                           0           368549          368549    264766  
 imt1                             1                1               0    264766  
 itp1                             0               10              10    264766  
 icr1                             0                0               0    264766  
 isn1                             0                0               0    264766  
 xic                4.000000000E+02  2.600000000E+03 2.200000000E+03    264766  
 yic                2.000000000E+02  2.200000000E+03 2.000000000E+03    264766  
 zic                4.000000000E+03  5.400000000E+03 1.400000000E+03    264766  
 xtetwd                           0               17              17    208943  
 itetclr                          1                1               0    208943  
 itettyp                          8                8               0    208943  
 itetoff                          0          1671536         1671536    208943  
 jtetoff                          0          1253652         1253652    208943  
 itet                             1           264766          264765    208943x8
 jtet                             2         16000000        15999998    208943x6
 epsilon            1.000000004E-15  1.000000004E-15 0.000000000E+00         1  
 epsilonl           7.297130333E-10  7.297130333E-10 0.000000000E+00         1  
 epsilona           2.398081733E-06  2.398081733E-06 0.000000000E+00         1  
 epsilonv           1.367794766E-03  1.367794766E-03 0.000000000E+00         1  
 ipointi                          1                1               0         1  
 ipointj                     264766           264766               0         1  
 idebug                           0                0               0         1  
 itypconv_sm                      1                1               0         1  
 maxiter_sm                      25               25               0         1  
 tolconv_sm         1.000000000E+00  1.000000000E+00 0.000000000E+00         1  
 nnfreq                           1                1               0         1  
 ivoronoi                         1                1               0         1  
 iopt2to2                         2                2               0         1  
 xmin               4.000000000E+02  4.000000000E+02 0.000000000E+00         1  
 ymin               2.000000000E+02  2.000000000E+02 0.000000000E+00         1  
 zmin               4.000000000E+03  4.000000000E+03 0.000000000E+00         1  
 xmax               2.600000000E+03  2.600000000E+03 0.000000000E+00         1  
 ymax               2.200000000E+03  2.200000000E+03 0.000000000E+00         1  
 zmax               5.400000000E+03  5.400000000E+03 0.000000000E+00         1  
 kdtree_level                     0                0               0         1  
 max_number_sets                 64               64               0         1  
 number_of_psets                  1                1               0         1  
 number_of_eltsets                0                0               0         1  
 number_of_fsets                  0                0               0         1  
 if_inter                         0                0               0    208943  
 itetpar                          0           167220          167220    208943  
 itetkid                          0                0               0    208943  
 itetlev                          0                3               3    208943  
 vor_vol            4.882812462E+02  1.000000000E+06 9.995117188E+05    264766  
 cell_vol           1.953125000E+03  1.000000000E+06 9.980468750E+05    208943  
 edgemin            1.250000000E+01  1.000000000E+02 8.750000000E+01    208943  
 edgemax            1.250000000E+01  1.000000000E+02 8.750000000E+01    208943  
 
dump/avs/hex_refine_attributes.inp/MOVOL                                        
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
finish                                                                          
LaGriT successfully completed                                                   
