<html lang="en-gb" dir="ltr">

<head>
    <title>Tutorial LaGriT Introduction</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="LaGriT : LaGriT is a library providing mesh generation and optimization for a variety of polyhedra and dimensions.">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Fira+Sans" rel="stylesheet">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Reg-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Light-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="stylesheet" href="/assets/css/uikit_theme.css">
    <link rel="icon" type="image/x-icon" href="https://www.lanl.gov/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/assets/css/footer.css">

    <!-- load stylesheets -->
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.2/marked.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.0.2/vue-router.min.js" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit-icons.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/highlightjs/highlight.min.js" defer=""></script>
    <script src="https://getuikit.com/app/main.min.js?1180" defer=""></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-42150424-1" async=""></script>

    <!-- tipuesearch files -->
    <link rel="stylesheet" href="/assets/tipuesearch/css/normalize.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="/assets/tipuesearch/css/tipuesearch.css">
    <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
    <script src="/assets/tipuesearch/tipuesearch.min.js"></script>

    <!-- Finally, load global style to overwrite template, tipuesearch, etc. -->
    <!--<link rel="stylesheet" href="/assets/globalstyle.css">-->
</head>

<body>
    <div>
        <!-- Header -->
        <div uk-sticky="media: 960" class="uk-navbar-container tm-navbar-container uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 100%; color: #212328;">
            <div class="uk-container uk-container-expand">
                <nav class="uk-navbar">
                    <div class="uk-navbar-left">
                        <a href="/" class="uk-navbar-item uk-logo" style="font-family: 'Do Hyeon', sans-serif; color: white;">
                            <img uk-img src="/assets/img/logo.png" width="50" class="uk-margin-small-right" alt="LANL logo">
                            LaGriT
                        </a>
                    </div>
                    <div class="uk-navbar-right">
                        <ul class="uk-navbar-nav uk-visible@m">
                            <li><a href="/pages/commands">Commands</a></li>
                            <li><a href="/pages/tutorial/index">Tutorials</a></li>
                            <li><a href="/pages/release">Release Notes</a></li>
                            <li><a href="/pages/publications">Publications</a></li>
                            <li><a href="http://github.com/lanl/LaGriT"><span uk-icon="github"></span></a></li>

                            <!-- Begin search bar -->
                            <div class="nav-overlay uk-navbar-right">
                                <a class="uk-navbar-toggle" uk-search-icon uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>
                                <div class="uk-navbar-item uk-width-expand">
                                    <form class="uk-search uk-search-navbar uk-width-1-1" action="https://lanl.github.io/LaGriT/search/">
                                        <input class="uk-search-input" name="q" type="search" id="tipue_search_input" placeholder="Search..." autofocus>
                                    </form>
                                </div>
                                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <script>
                                $(document).ready(function() {
                                  $('#tipue_search_input').tipuesearch({
                                        'show': 10,
                                        'newWindow'  : true,
                                        'showURL' : true,
                                        'showTitleCount' : true,
                                        'descriptiveWords' : 20,
                                        'highlightTerms' : true,
                                        'mode': 'static',
                                  });
                                });
                            </script>
                            <!-- End search bar -->

                        </ul>
                        
                        <a uk-navbar-toggle-icon="" href="#offcanvas" uk-toggle="" class="uk-navbar-toggle uk-hidden@m uk-icon uk-navbar-toggle-icon">
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="navbar-toggle-icon">
                                <rect y="9" width="20" height="2"></rect>
                                <rect y="3" width="20" height="2"></rect>
                                <rect y="15" width="20" height="2"></rect>
                            </svg>
                        </a>
                    </div>
                </nav>
            </div>
        </div>
        <div class="uk-sticky-placeholder" style="height: 80px; margin: 0px;"></div>
        <!-- End Header -->

        <!-- Main Body text -->
        <div class="tm-main uk-section uk-section-default">
            <div class="uk-container uk-container-small uk-position-relative">

                <h1 id="tutorial---lagrit-introduction">Tutorial - LaGriT Introduction</h1>

<div class="button" id="button-3">
   <div id="circle"></div>
   <a href="/pages/tutorial/lagrit_introduction/">Tutorial on GitHub</a>
</div>

<h2 id="running-lagrit">Running LaGriT</h2>

<p>LaGriT consists of mesh <strong>commands</strong> and options that are used to create, modify, optimize, and write files. LaGriT can be run on the command line interactively, so commands are entered one at a time at the prompt, or with one or more files containing the LaGriT commands. By convention we use “.lgi” for lagrit input file names and “.mlgi” for macro files called from main command file.</p>

<p>Run LaGriT from the command line interactively or put commands in a file and redirect.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lagrit
</code></pre></div></div>
<p>or</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>lagrit &lt; input.lgi
</code></pre></div></div>
<p><strong>Important Note:</strong> the <strong><code class="language-plaintext highlighter-rouge">finish</code></strong> command must be used to exit interactive session and must be at end of command file.</p>

<h2 id="lagrit-syntax-conventions">LaGriT Syntax Conventions</h2>

<p>LaGriT reads commands and command options from each line at prompt or each line in a file. Each line starts with a <strong>command</strong> followed by command options. Syntax is very important and the <a href="https://lanl.github.io/LaGriT/pages/commands.html">commands</a> reference pages should be followed, or errors may occur. The following conventions apply:</p>

<ul>
  <li>Lines are a maximum of 80 characters long, identifiers and file names are a maximum of 32 characters long.</li>
  <li>A line can be continued by an “&amp;” as the last character of a line to be wrapped.</li>
  <li>Command and token separators are comma, slash, or blank. (‘,’ ‘/’ ‘ ‘).</li>
  <li>White space is ignored except between slashes with empty space indicating default for that option should be used.</li>
  <li>LaGriT will ignore lines that start with comment indicators ‘*’ or ‘#’.
See more at <a href="https://lanl.github.io/LaGriT/pages/docs/conventions.html">Syntax Conventions</a></li>
</ul>

<h2 id="general-meshing-definitions">General Meshing Definitions</h2>

<ul>
  <li>Mesh = Grid = elements defining geometric shapes allowing numerical computations for simulations</li>
  <li>Node = Vertex = point = mesh object nodes that can be used to connect into elements.</li>
  <li>Element = cell = nodes are connected into element types such as line, triangle, or tetrahedral (see page)</li>
  <li>Structured mesh = a mesh whose connectivity (topology) can be defined implicitly, and cell neighbors are predictable. Generally, a quadrilateral mesh in 2D and hexahedral mesh in 3D.</li>
  <li>Unstructured mesh = a mesh that requires explicit connectivity information to describe cell topology. Generally used to represent complex shapes.</li>
  <li>Delaunay Triangulation = a Delaunay mesh (triangles in 2D, tetrahedra in 3D) has cells such that the circumcircle(2D)/circumsphere(3D) contains no vertices other than the cell vertices. A Delaunay triangulation maximizes the minimum interior angle.</li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>Voronoi Tessellation = the dual of a Delaunay triangulation, meaning that the vertices of one correspond to the cells of the other, and the edges of one correspond to the edges of the other.  Defined as V(pi) = {x</td>
          <td>d(x, pi) ≤ d(x, pj) for all pj ∈ S, j ≠ i}</td>
        </tr>
      </tbody>
    </table>
    <ul>
      <li>The Voronoi cell V(pi) contains all points x that are “closest” to the site pi.</li>
      <li>“Closeness” is determined by the distance function d(x, p).</li>
      <li>The inequality d(x, pi) ≤ d(x, pj) ensures that x is closer to pi than to any other site pj.</li>
    </ul>
  </li>
  <li>control volume (CV) method = in context of computational hydrology, the discretization method used by physics codes such as FEHM and PFLOTRAN for solving multiphase flow of fluid and energy (heat) in porous media. The CV method guarantees conservation of mass and heat.</li>
</ul>

<h2 id="lagrit-meshing-definitions">LaGriT Meshing Definitions</h2>

<ul>
  <li>Current Mesh Object = mo = is the mesh data structure used in LaGriT.</li>
  <li>imt = integer material type = default name for vertex array with positive integer values indicating material ID or color.</li>
  <li>itetclr = integer tet color = default name for cell array with positive integer values indicating material ID or color (legacy name convention)</li>
  <li>itp = integer type = vertex integer tag indicating type such as interior, exterior, interior boundary, or exterior boundary.</li>
  <li>geometry = is created with surface and region commands and is used to set mesh material IDs.</li>
  <li>LaGriT (.lgi and .mlgi) = LaGriT command files suffix where .mlgi is a macro called from main command files. (Optional suffix convention)</li>
  <li>AVS (.inp) = Advanced Visual Systems ascii file format for mesh information (vertex coordinates, cell connectivity, vertex attributes, cell attributes) recognized by most VIS applications. LaGriT can read and write AVS files.</li>
  <li>Exodus II (.exo) = Binary mesh file format built on NetCDF data storage structures used for Amanzi/ATS and recognized by most VIS applications. LaGriT can write Exodus II files but does not read Exodus II files.</li>
</ul>

<h2 id="lagrit-basics-tutorial">LaGriT Basics Tutorial</h2>

<p>This tutorial shows how to use LaGriT commands to create a simple structured multi-material mesh and files for simulations. This workflow starts with a hexahedral mesh which is connected into a Delaunay tetrahedral mesh. Materials are assigned to the cells and vertices using surfaces. The final step writes files used for simulations such as FEHM.</p>

<p>You do not need to run LaGriT as the example output files are included in this tutorial. But new users will benefit from running the examples and making modifications to better understand results of different commands and their options.  Paraview is used to create the images in this tutorial and can read any of the AVS *.inp files.</p>

<h2 id="step-1-create-a-hex-mesh"><a href="/pages/tutorial/lagrit_introduction/step_01.html">Step 1. Create a Hex Mesh</a></h2>

<h2 id="step-2-convert-hex-mesh-to-tet-mesh"><a href="/pages/tutorial/lagrit_introduction/step_02.html">Step 2. Convert Hex Mesh to Tet Mesh</a></h2>

<h2 id="step-3-assign-materials-to-the-mesh"><a href="/pages/tutorial/lagrit_introduction/step_03.html">Step 3. Assign materials to the Mesh</a></h2>

<h2 id="step-4-write-mesh-and-fehm-setup-files"><a href="/pages/tutorial/lagrit_introduction/step_04.html">Step 4. Write Mesh and FEHM Setup Files</a></h2>

<h2 id="final-word">Final Word</h2>

<p>Meshing with LaGriT is not automatic and methods can be complex. But LaGriT tools provide a robust variety of meshing tools with capabilities specific to geologic applications and Voronoi control volume solvers. For some modeling applications, the LaGriT workflow can be generalized and easier to use. Applications using LaGriT for meshing include dfnWorks and Tinerator, both on GitHub and available for download. We hope this Tutorial provides insight into LaGriT and how it may solve your meshing needs.</p>



            </div>
        </div>

        <!-- Begin footer -->
        <footer class="footer-distributed">
            <div class="footer-right">
              <div><img src="/assets/img/lanl_logo_white.png" height="80"></div>
            </div>

            <div class="footer-left lg-background-color">
                <p class="footer-links" style="font-family: 'Fira Sans', sans-serif; color: white;">
                    <a href="/">Home</a>
                    ·
                    <a href="/pylagrit/original/index.html">PyLaGriT</a>
                    ·
                    <a href="https://int.lanl.gov/org/ddste/aldcels/ees/index.shtml">EES-16</a>
                    ·
                    <a href="/pages/licensing.html">License</a>
                    ·
                    <a href="https://lagrit.lanl.gov/">Contact</a>
                </p>

                <p>&copy; 2019 Los Alamos National Laboratory</p>
                <p>EES-16 | Computational Earth Science</p>
                <p>LA-CC-15-069</p>
            </div>
        </footer>

        <!-- Begin Navigation Bar -->
        <div id="offcanvas" uk-offcanvas="mode: push; overlay: true" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <div class="uk-panel">
                    <ul class="uk-nav uk-nav-default tm-nav">
                        <form class="uk-search uk-search-default" action="https://lanl.github.io/LaGriT/search/">
                            <a href="" uk-search-icon></a>
                            <input class="uk-search-input" type="search" placeholder="" name="q" id="tipue_search_input_mobile">
                        </form>
                        <li class="uk-nav-header">General</li>
                        <li><a href="/">Home</a></li>
                        <li><a href="/pages/commands">Commands</a></li>
                        <li><a href="/pages/release">Release Notes</a></li>
                        <li><a href="/pages/publications">Publications</a></li>
                        <li><a href="http://github.com/lanl/LaGriT">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Navigation Bar -->

    </div>

</body>

</html>
