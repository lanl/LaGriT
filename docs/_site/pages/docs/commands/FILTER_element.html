<html lang="en-gb" dir="ltr">

<head>
    <title>FILTER/ELEMENT</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="LaGriT : LaGriT is a library providing mesh generation and optimization for a variety of polyhedra and dimensions.">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Fira+Sans" rel="stylesheet">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Reg-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Light-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="stylesheet" href="/assets/css/uikit_theme.css">
    <link rel="icon" type="image/x-icon" href="https://www.lanl.gov/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/assets/css/footer.css">

    <!-- load stylesheets -->
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.2/marked.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.0.2/vue-router.min.js" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit-icons.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/highlightjs/highlight.min.js" defer=""></script>
    <script src="https://getuikit.com/app/main.min.js?1180" defer=""></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-42150424-1" async=""></script>

    <!-- tipuesearch files -->
    <link rel="stylesheet" href="/assets/tipuesearch/css/normalize.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="/assets/tipuesearch/css/tipuesearch.css">
    <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
    <script src="/assets/tipuesearch/tipuesearch.min.js"></script>

    <!-- Finally, load global style to overwrite template, tipuesearch, etc. -->
    <!--<link rel="stylesheet" href="/assets/globalstyle.css">-->
</head>

<body>
    <div>
        <!-- Header -->
        <div uk-sticky="media: 960" class="uk-navbar-container tm-navbar-container uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 100%; color: #212328;">
            <div class="uk-container uk-container-expand">
                <nav class="uk-navbar">
                    <div class="uk-navbar-left">
                        <a href="/" class="uk-navbar-item uk-logo" style="font-family: 'Do Hyeon', sans-serif; color: white;">
                            <img uk-img src="/assets/img/logo.png" width="50" class="uk-margin-small-right" alt="LANL logo">
                            LaGriT
                        </a>
                    </div>
                    <div class="uk-navbar-right">
                        <ul class="uk-navbar-nav uk-visible@m">
                            <li><a href="/pages/commands">Commands</a></li>
                            <li><a href="/pages/tutorial/index">Tutorials</a></li>
                            <li><a href="/pages/release">Release Notes</a></li>
                            <li><a href="/pages/publications">Publications</a></li>
                            <li><a href="http://github.com/lanl/LaGriT"><span uk-icon="github"></span></a></li>

                            <!-- Begin search bar -->
                            <div class="nav-overlay uk-navbar-right">
                                <a class="uk-navbar-toggle" uk-search-icon uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>
                                <div class="uk-navbar-item uk-width-expand">
                                    <form class="uk-search uk-search-navbar uk-width-1-1" action="https://lanl.github.io/LaGriT/search/">
                                        <input class="uk-search-input" name="q" type="search" id="tipue_search_input" placeholder="Search..." autofocus>
                                    </form>
                                </div>
                                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <script>
                                $(document).ready(function() {
                                  $('#tipue_search_input').tipuesearch({
                                        'show': 10,
                                        'newWindow'  : true,
                                        'showURL' : true,
                                        'showTitleCount' : true,
                                        'descriptiveWords' : 20,
                                        'highlightTerms' : true,
                                        'mode': 'static',
                                  });
                                });
                            </script>
                            <!-- End search bar -->

                        </ul>
                        
                        <a uk-navbar-toggle-icon="" href="#offcanvas" uk-toggle="" class="uk-navbar-toggle uk-hidden@m uk-icon uk-navbar-toggle-icon">
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="navbar-toggle-icon">
                                <rect y="9" width="20" height="2"></rect>
                                <rect y="3" width="20" height="2"></rect>
                                <rect y="15" width="20" height="2"></rect>
                            </svg>
                        </a>
                    </div>
                </nav>
            </div>
        </div>
        <div class="uk-sticky-placeholder" style="height: 80px; margin: 0px;"></div>
        <!-- End Header -->

        <!-- Main Body text -->
        <div class="tm-main uk-section uk-section-default">
            <div class="uk-container uk-container-small uk-position-relative">

                <h1 id="filterelement">FILTER/ELEMENT</h1>

<hr />

<h2 id="syntax">SYNTAX</h2>

<pre>
<b>filter</b>/[ <b>element</b>]/[search_range]/[<b>nodelete</b>|[<b>delete</b>]
</pre>

<p>Search a mesh object for duplicate elements. A duplicate element is
  defined as having the exact same set of nodes in the element
  connectivity list (itet). The order of the nodes in the connectivity
  does not matter. The element with the larger itetclr value (master)
  will be kept. The duplicate element will have its material color
  (itetclr) changed to max(itetclr) + 1. Two new element attributes
  (iclr1, iclr2) are added to the mesh object to keep track of the
  correspondence of master(retained)/duplicate(removed) elements and
  their original material id (itetclr). </p>

<p>For all elements the values of iclr1 are set their original itetclr
values.</p>

<p>For any element that is neither master nor duplicate, the value of icr2
is set to its itetclr value.</p>

<p>For an element that is a master, icrl2 is set to the original itetclr
value of its duplicate.</p>

<p>For an element that is a duplicate, icrl2 is set to the original itetclr
value of its master.</p>

<p>For example, consider the 4 element mesh, where element 2 and 3 are:</p>

<p>Element 1,2 itetclr = 1</p>

<p>Element 3,4 itetclr = 2</p>

<p>then after:</p>

<p>[filter]{style=”font-weight: bold;”/[element]/10/[nodelete]                              </p>

<p>Maximum material id max(itetclr)          =         
  2                         </p>

<p>Duplicate Elements will be set to itetclr =         
  3                         </p>

<p>search_range                              =        
  10                         </p>

<p>nelements searched                        =         
  4                         </p>

<p>Number of duplicate element found         =         
  1                         </p>

<p>cmo/printatt/cmohex1/itetclr/1 0
  0                                             </p>

<p>Attribute:
  itetclr                                                             </p>

<p>         1         
  1                                                          </p>

<p>         2         
  3                                                          </p>

<p>         3         
  2                                                          </p>

<p>         4         
  2                                                          </p>

<p>cmo/printatt/cmohex1/iclr1/1 0
  0                                               </p>

<p>Attribute:
  iclr1                                                               </p>

<p>         1         
  1                                                          </p>

<p>         2         
  1                                                          </p>

<p>         3         
  2                                                          </p>

<p>         4         
  2                                                          </p>

<p>cmo/printatt/cmohex1/iclr2/1 0
  0                                               </p>

<p>Attribute:
  iclr2                                                               </p>

<p>         1         
  1                                                          </p>

<p>         2         
  2                                                          </p>

<p>         3         
  1                                                          </p>

<p>         4         
  2                                                          </p>

<p>All elements are tested. The search for each element’s duplicate
  does not occur over the entire element list. The default for
  search_range is 10 and results in looking at the 10 elements in the
  element list sequentially above and 10 elements sequentially below
  the test element.  In the example given below the elements are
  sorted so that elements that are physically close to each other will
  be close to each other in the element list.</p>

<p>The [search_range] can be set by
  the user. Setting [search_range] 
  to a number larger than the number of elements will cause all
  elements to be searched.</p>

<p>The algorithm will only detect one duplicate element per element. If
  there are more than two elements with the same connectivity, they
  can be found by calling <strong>filter/element</strong> multiple times.</p>

<p>The default behavior is to not delete the duplicate elements. 
  However the duplicate elements will be deleted from the mesh if the
  parameter [delete] is specified.</p>

<p>In general if you are merging together two meshes and then want to
  delete duplicate elements the commands might be:</p>

<ul>
  <li>
    <p>Merge two mesh objects</p>

    <p>**addmesh **/ merge / cmohex / cmohex1 / cmohex2</p>
  </li>
  <li>
    <p>Create an attribute with the median x,y,z coordinate of each
element</p>

    <p>[createpts] / [median]</p>
  </li>
  <li>
    <p>Sort and reorder the elements based
on the median points. This will insure that elements that occupy
the</p>
  </li>
  <li>
    <p>same location will have element numbers near one another.</p>

    <p>[sort] / -def- /
[index] /
[ascending] / ikey / xmed ymed zmed</p>

    <p>[reorder] / -def- /ikey</p>
  </li>
  <li>
    <p>Filter and remove duplicate nodes.</p>

    <p>[filter]  / 1 0 0</p>

    <p>[rmpoint] / [compress]</p>
  </li>
  <li>
    <p>Filter and remove duplicate
elements.</p>

    <p>[filter]  /
[element] / 
[delete]</p>
  </li>
</ul>

<p> <strong>EXAMPLES:</strong></p>

<p><strong>filter</strong> / [element]</p>

<p>Filter all elements and set itetclr of duplicates to max(itetclr) + 1.
 Assign values to iclr1 and iclr2 arrays.</p>

<p><strong>filter</strong> / [element] / [nodelete]</p>

<p>Filter elements and set itetclr of duplicates to max(itetclr) + 1.
 Assign values to iclr1 and iclr2 arrays.</p>

<p><strong>filter</strong> / [element]/ [delete]</p>

<p>Filter elements and delete duplicate elements. Assign values to iclr1
 and iclr2 arrays.</p>

<p><strong>filter</strong> / [element] / 1e20 / [delete]</p>

<p>Filter all elements (assuming there are less than 1e20)  with an
 exhaustive search and delete duplicate elements. Assign values to
 iclr1 and iclr2 arrays.</p>



            </div>
        </div>

        <!-- Begin footer -->
        <footer class="footer-distributed">
            <div class="footer-right">
              <div><img src="/assets/img/lanl_logo_white.png" height="80"></div>
            </div>

            <div class="footer-left lg-background-color">
                <p class="footer-links" style="font-family: 'Fira Sans', sans-serif; color: white;">
                    <a href="/">Home</a>
                    ·
                    <a href="/pylagrit/original/index.html">PyLaGriT</a>
                    ·
                    <a href="https://int.lanl.gov/org/ddste/aldcels/ees/index.shtml">EES-16</a>
                    ·
                    <a href="/pages/licensing.html">License</a>
                    ·
                    <a href="https://lagrit.lanl.gov/">Contact</a>
                </p>

                <p>&copy; 2019 Los Alamos National Laboratory</p>
                <p>EES-16 | Computational Earth Science</p>
                <p>LA-CC-15-069</p>
            </div>
        </footer>

        <!-- Begin Navigation Bar -->
        <div id="offcanvas" uk-offcanvas="mode: push; overlay: true" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <div class="uk-panel">
                    <ul class="uk-nav uk-nav-default tm-nav">
                        <form class="uk-search uk-search-default" action="https://lanl.github.io/LaGriT/search/">
                            <a href="" uk-search-icon></a>
                            <input class="uk-search-input" type="search" placeholder="" name="q" id="tipue_search_input_mobile">
                        </form>
                        <li class="uk-nav-header">General</li>
                        <li><a href="/">Home</a></li>
                        <li><a href="/pages/commands">Commands</a></li>
                        <li><a href="/pages/release">Release Notes</a></li>
                        <li><a href="/pages/publications">Publications</a></li>
                        <li><a href="http://github.com/lanl/LaGriT">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Navigation Bar -->

    </div>

</body>

</html>
