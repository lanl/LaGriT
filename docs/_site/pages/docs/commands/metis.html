<html lang="en-gb" dir="ltr">

<head>
    <title>METIS</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="LaGriT : LaGriT is a library providing mesh generation and optimization for a variety of polyhedra and dimensions.">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Fira+Sans" rel="stylesheet">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Reg-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Light-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="stylesheet" href="/assets/css/uikit_theme.css">
    <link rel="icon" type="image/x-icon" href="https://www.lanl.gov/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/assets/css/footer.css">

    <!-- load stylesheets -->
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.2/marked.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.0.2/vue-router.min.js" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit-icons.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/highlightjs/highlight.min.js" defer=""></script>
    <script src="https://getuikit.com/app/main.min.js?1180" defer=""></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-42150424-1" async=""></script>

    <!-- tipuesearch files -->
    <link rel="stylesheet" href="/assets/tipuesearch/css/normalize.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="/assets/tipuesearch/css/tipuesearch.css">
    <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
    <script src="/assets/tipuesearch/tipuesearch.min.js"></script>

    <!-- Finally, load global style to overwrite template, tipuesearch, etc. -->
    <!--<link rel="stylesheet" href="/assets/globalstyle.css">-->
</head>

<body>
    <div>
        <!-- Header -->
        <div uk-sticky="media: 960" class="uk-navbar-container tm-navbar-container uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 100%; color: #212328;">
            <div class="uk-container uk-container-expand">
                <nav class="uk-navbar">
                    <div class="uk-navbar-left">
                        <a href="/" class="uk-navbar-item uk-logo" style="font-family: 'Do Hyeon', sans-serif; color: white;">
                            <img uk-img src="/assets/img/logo.png" width="50" class="uk-margin-small-right" alt="LANL logo">
                            LaGriT
                        </a>
                    </div>
                    <div class="uk-navbar-right">
                        <ul class="uk-navbar-nav uk-visible@m">
                            <li><a href="/pages/commands">Commands</a></li>
                            <li><a href="/pages/release">Release Notes</a></li>
                            <li><a href="/pages/publications">Publications</a></li>
                            <li><a href="http://github.com/lanl/LaGriT"><span uk-icon="github"></span></a></li>

                            <!-- Begin search bar -->
                            <div class="nav-overlay uk-navbar-right">
                                <a class="uk-navbar-toggle" uk-search-icon uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>
                                <div class="uk-navbar-item uk-width-expand">
                                    <form class="uk-search uk-search-navbar uk-width-1-1" action="https://lanl.github.io/LaGriT/search/">
                                        <input class="uk-search-input" name="q" type="search" id="tipue_search_input" placeholder="Search..." autofocus>
                                    </form>
                                </div>
                                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <script>
                                $(document).ready(function() {
                                  $('#tipue_search_input').tipuesearch({
                                        'show': 10,
                                        'newWindow'  : true,
                                        'showURL' : true,
                                        'showTitleCount' : true,
                                        'descriptiveWords' : 20,
                                        'highlightTerms' : true,
                                        'mode': 'static',
                                  });
                                });
                            </script>
                            <!-- End search bar -->

                        </ul>
                        
                        <a uk-navbar-toggle-icon="" href="#offcanvas" uk-toggle="" class="uk-navbar-toggle uk-hidden@m uk-icon uk-navbar-toggle-icon">
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="navbar-toggle-icon">
                                <rect y="9" width="20" height="2"></rect>
                                <rect y="3" width="20" height="2"></rect>
                                <rect y="15" width="20" height="2"></rect>
                            </svg>
                        </a>
                    </div>
                </nav>
            </div>
        </div>
        <div class="uk-sticky-placeholder" style="height: 80px; margin: 0px;"></div>
        <!-- End Header -->

        <!-- Main Body text -->
        <div class="tm-main uk-section uk-section-default">
            <div class="uk-container uk-container-small uk-position-relative">

                <p> METIS
 ——-</p>

<p><strong>This command may not work with 64 bit machines, this version of METIS is 32 bit</strong></p>

<p>Interface to the METIS graph partition and reorder package with LaGriT. 
 See METIS package description at</p>

<p><a href="http://glaros.dtc.umn.edu/gkhome/views/metis">http://glaros.dtc.umn.edu/gkhome/views/metis</a></p>

<p>Partition algorithm divides mesh into npartition parts attempting to
 assign an equal number of graph vertices (nodes or elements) to each
 partition and also the number of adjacent elements assigned to
 different processors is minimized. New attributes are created to hold
 partition information. Node partition number is in inodeprt, element
 partition number is in ielemprt.</p>

<p>Reorder algorithm computes a permutation vector, iperm, and an inverse
 permutation vector, invperm. The mesh can be reordered using the
 permutation vector in reorder. The reorder algorithms will compute
 fill-reducing orderings of sparse matrices.</p>

<h2 id="metis-interface-to-lagrit">METIS Interface to LaGriT</h2>

<h3 id="partition">PARTITION</h3>

<pre>
<b>metis</b> / partition / metis_partmeshnodal  metis_partmeshdual/ node dual / npartitions / inodeprt / ielemprt
</pre>

<h3 id="reorder">REORDER</h3>

<pre>
<b>metis</b> / reorder / metis\_edgend  metis\_nodend / node  dual /[iperm] / [invperm]
</pre>

<h3 id="reorder-with-weights">REORDER WITH WEIGHTS</h3>

<pre>
<b>metis</b> / reorder / mmetis\_nodewnd / node  dual / [iperm] /[invperm] / ivert_weight
</pre>

<h2 id="examples">EXAMPLES</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>	 metis / partition / metis\_partmeshnodal / node / 32 / inodeprt / ielemprt
	 metis / partition / metis\_partmeshdual / dual / 32 / inodeprt /  ielemprt
	 metis / partition / metis\_partmeshnodal / node / 32 / -def- / -def-
	 metis / partition / metis\_partmeshnodal / node / 32


 
	 metis / reorder / metis\_edgend / dual
	 metis / reorder / metis\_nodend / node
	 metis / reorder / metis\_nodend / dual
	 metis / reorder / metis\_nodend / dual / -def- / -def-
	 metis / reorder / metis\_nodend / dual / ieprm1 / ieinvprm1
	 metis / reorder / metis\_edgend / nodereorder/-def-/ieprm1
</code></pre></div></div>

<p>EXAMPLE LaGriT Control File:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> *
 * Build some meshes, tri,quad,hex,tet
 *
 define / NP / 21
 cmo / create / mo_hex / / / hex
 createpts / brick / xyz / NP NP NP / 0. 0. 0. / 1. 1. 1. / 1 1 1
 cmo / setatt / mo_hex / itetclr / 1 0 0 / 1
 resetpts / itp

 define / NP / 101
 cmo/create/mo_qua/ / / quad
 quadxy/ NP NP / 0. 0. 0. / 1. 0. 0. / 1. 1. 0. / 0. 1. 0.
 createpts/brick/xyz/NP NP 1/1 0 0 / connect
 cmo / setatt / mo_qua / itetclr / 1 0 0 / 1
 resetpts / itp

 hextotet / 4 / mo_tri / mo_qua
 resetpts / itp

 hextotet / 24 / mo_tet / mo_hex
 resetpts / itp

 cmo / status / brief
 *
 * Run Metis partition into 16, 33 and 128
 *
 cmo / select / mo_qua
 metis/partition/metis_partmeshnodal/node/ 16 idn016 ide016                         
 metis/partition/metis_partmeshnodal/node/ 33 idn033 ide033                         
 metis/partition/metis_partmeshnodal/node/128 idn128 ide128    
 metis/partition/metis_partmeshdual/dual/ 16  iddn016 idde016
 metis/partition/metis_partmeshdual/dual/ 33  iddn033 idde033
 metis/partition/metis_partmeshdual/dual/128  iddn128 idde128
 metis / reorder / metis_nodend / node / iperm1 / invperm1

 cmo / select / mo_tri
 metis/partition/metis_partmeshnodal/node/ 16 idn016 ide016                         
 metis/partition/metis_partmeshnodal/node/ 33 idn033 ide033                         
 metis/partition/metis_partmeshnodal/node/ 128 idn128 ide128    
 metis/partition/metis_partmeshdual/dual/ 16  iddn016 idde016
 metis/partition/metis_partmeshdual/dual/ 33  iddn033 idde033
 metis/partition/metis_partmeshdual/dual/128  iddn128 idde128
 metis / reorder / metis_nodend / node / iperm1 / invperm1

 cmo / select / mo_hex
 metis/partition/metis_partmeshnodal/node/ 16 idn016 ide016                         
 metis/partition/metis_partmeshnodal/node/ 33 idn033 ide033                         
 metis/partition/metis_partmeshnodal/node/ 128 idn128 ide128    
 metis/partition/metis_partmeshdual/dual/ 16  iddn016 idde016
 metis/partition/metis_partmeshdual/dual/ 33  iddn033 idde033
 metis/partition/metis_partmeshdual/dual/128  iddn128 idde128
 metis / reorder / metis_nodend / node / iperm1 / invperm1

 cmo / select / mo_tet
 metis/partition/metis_partmeshnodal/node/ 16 idn016 ide016                         
 metis/partition/metis_partmeshnodal/node/ 33 idn033 ide033                         
 metis/partition/metis_partmeshnodal/node/ 128 idn128 ide128    
 metis/partition/metis_partmeshdual/dual/ 16  iddn016 idde016
 metis/partition/metis_partmeshdual/dual/ 33  iddn033 idde033
 metis/partition/metis_partmeshdual/dual/128  iddn128 idde128
 metis / reorder / metis_nodend / node / iperm1 / invperm1

 dump /  gmv / metis_qua.gmv / mo_qua
 dump /  gmv / metis_tri.gmv / mo_tri
 dump /  gmv / metis_hex.gmv / mo_hex
 dump /  gmv / metis_tet.gmv / mo_tet
 *
 * Create an attribute which is the node number
 *
 cmo / set_id / mo_qua / node / idnode0
 cmo / set_id / mo_tri / node / idnode0
 cmo / set_id / mo_hex / node / idnode0
 cmo / set_id / mo_tet / node / idnode0
 *
 * Reorder each mesh using the Metis permutation vector
 *
 reorder / mo_qua / iperm1
 reorder / mo_tri / iperm1
 reorder / mo_hex / iperm1
 reorder / mo_tet / iperm1
 *
 * Create an attribute which is the node number after reorder
 *
 cmo / set_id / mo_qua / node / idnode1
 cmo / set_id / mo_tri / node / idnode1
 cmo / set_id / mo_hex / node / idnode1
 cmo / set_id / mo_tet / node / idnode1

 dump /  gmv / metis_qua_reorder.gmv / mo_qua
 dump /  gmv / metis_tri_reorder.gmv / mo_tri
 dump /  gmv / metis_hex_reorder.gmv / mo_hex
 dump /  gmv / metis_tet_reorder.gmv / mo_tet

 finish   
</code></pre></div></div>

<p>METIS can be freely distributed provided that:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A reference to the following paper is included: *“A Fast and
Highly Quality Multilevel Scheme for Partitioning Irregular
Graphs”. George Karypis and Vipin Kumar. SIAM Journal on
Scientific Computing, Vol. 20, No. 1, pp. 359—392, 1999.*
and copyright notice is include

METIS 4.0 Copyright 2001-06, Regents of the University of Minnesota
</code></pre></div></div>



            </div>
        </div>

        <!-- Begin footer -->
        <footer class="footer-distributed">
            <div class="footer-right">
              <div><img src="/assets/img/lanl_logo_white.png" height="80"></div>
            </div>

            <div class="footer-left lg-background-color">
                <p class="footer-links" style="font-family: 'Fira Sans', sans-serif; color: white;">
                    <a href="/">Home</a>
                    ·
                    <a href="/pylagrit/original/index.html">PyLaGriT</a>
                    ·
                    <a href="https://int.lanl.gov/org/ddste/aldcels/ees/index.shtml">EES-16</a>
                    ·
                    <a href="/pages/licensing.html">License</a>
                    ·
                    <a href="https://lagrit.lanl.gov/">Contact</a>
                </p>

                <p>&copy; 2019 Los Alamos National Laboratory</p>
                <p>EES-16 | Computational Earth Science</p>
                <p>LA-CC-15-069</p>
            </div>
        </footer>

        <!-- Begin Navigation Bar -->
        <div id="offcanvas" uk-offcanvas="mode: push; overlay: true" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <div class="uk-panel">
                    <ul class="uk-nav uk-nav-default tm-nav">
                        <form class="uk-search uk-search-default" action="https://lanl.github.io/LaGriT/search/">
                            <a href="" uk-search-icon></a>
                            <input class="uk-search-input" type="search" placeholder="" name="q" id="tipue_search_input_mobile">
                        </form>
                        <li class="uk-nav-header">General</li>
                        <li><a href="/">Home</a></li>
                        <li><a href="/pages/commands">Commands</a></li>
                        <li><a href="/pages/release">Release Notes</a></li>
                        <li><a href="/pages/publications">Publications</a></li>
                        <li><a href="http://github.com/lanl/LaGriT">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Navigation Bar -->

    </div>

</body>

</html>
