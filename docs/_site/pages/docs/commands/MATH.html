<html lang="en-gb" dir="ltr">

<head>
    <title>MATH</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="LaGriT : LaGriT is a library providing mesh generation and optimization for a variety of polyhedra and dimensions.">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Fira+Sans" rel="stylesheet">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Reg-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Light-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="stylesheet" href="/assets/css/uikit_theme.css">
    <link rel="icon" type="image/x-icon" href="https://www.lanl.gov/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/assets/css/footer.css">

    <!-- load stylesheets -->
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.2/marked.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.0.2/vue-router.min.js" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit-icons.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/highlightjs/highlight.min.js" defer=""></script>
    <script src="https://getuikit.com/app/main.min.js?1180" defer=""></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-42150424-1" async=""></script>

    <!-- tipuesearch files -->
    <link rel="stylesheet" href="/assets/tipuesearch/css/normalize.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="/assets/tipuesearch/css/tipuesearch.css">
    <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
    <script src="/assets/tipuesearch/tipuesearch.min.js"></script>

    <!-- Finally, load global style to overwrite template, tipuesearch, etc. -->
    <!--<link rel="stylesheet" href="/assets/globalstyle.css">-->
</head>

<body>
    <div>
        <!-- Header -->
        <div uk-sticky="media: 960" class="uk-navbar-container tm-navbar-container uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 100%; color: #212328;">
            <div class="uk-container uk-container-expand">
                <nav class="uk-navbar">
                    <div class="uk-navbar-left">
                        <a href="/" class="uk-navbar-item uk-logo" style="font-family: 'Do Hyeon', sans-serif; color: white;">
                            <img uk-img src="/assets/img/logo.png" width="50" class="uk-margin-small-right" alt="LANL logo">
                            LaGriT
                        </a>
                    </div>
                    <div class="uk-navbar-right">
                        <ul class="uk-navbar-nav uk-visible@m">
                            <li><a href="/pages/manual">Manual</a></li>
                            <li><a href="/pylagrit/original/index.html">PyLaGriT</a></li>
                            <li><a href="/pages/commands">Commands</a></li>
                            <li><a href="/pages/publications">Publications</a></li>
                            <li><a href="http://github.com/lanl/LaGriT"><span uk-icon="github"></span></a></li>

                            <!-- Begin search bar -->
                            <div class="nav-overlay uk-navbar-right">
                                <a class="uk-navbar-toggle" uk-search-icon uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>
                                <div class="uk-navbar-item uk-width-expand">
                                    <form class="uk-search uk-search-navbar uk-width-1-1" action="https://lanl.github.io/LaGriT/search/">
                                        <input class="uk-search-input" name="q" type="search" id="tipue_search_input" placeholder="Search..." autofocus>
                                    </form>
                                </div>
                                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <script>
                                $(document).ready(function() {
                                  $('#tipue_search_input').tipuesearch({
                                        'show': 10,
                                        'newWindow'  : true,
                                        'showURL' : true,
                                        'showTitleCount' : true,
                                        'descriptiveWords' : 20,
                                        'highlightTerms' : true,
                                        'mode': 'static',
                                  });
                                });
                            </script>
                            <!-- End search bar -->

                        </ul>
                        
                        <a uk-navbar-toggle-icon="" href="#offcanvas" uk-toggle="" class="uk-navbar-toggle uk-hidden@m uk-icon uk-navbar-toggle-icon">
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="navbar-toggle-icon">
                                <rect y="9" width="20" height="2"></rect>
                                <rect y="3" width="20" height="2"></rect>
                                <rect y="15" width="20" height="2"></rect>
                            </svg>
                        </a>
                    </div>
                </nav>
            </div>
        </div>
        <div class="uk-sticky-placeholder" style="height: 80px; margin: 0px;"></div>
        <!-- End Header -->

        <!-- Main Body text -->
        <div class="tm-main uk-section uk-section-default">
            <div class="uk-container uk-container-small uk-position-relative">

                <h1 id="math">MATH</h1>

<hr />

<p>The <strong><code class="language-plaintext highlighter-rouge">math</code></strong> routine operates on attributes of a mesh object(s). It
performs arithmetic operations or evaluates mathematical functions on
the source mesh object or objects, and places the results in the sink
mesh object. The source and sink mesh objects can be the same, and
there can be either one or two source objects, depending on the
operation selected.</p>

<p>All attributes must have the same type, rank, and length.</p>

<p>Mathematical functions other than <strong><code class="language-plaintext highlighter-rouge">floor</code></strong>
and <strong><code class="language-plaintext highlighter-rouge">ceiling</code></strong> are not implemented for attributes whose values are
integers.</p>

<h2 id="syntax">SYNTAX</h2>

<pre>
<b>math</b>/operation/cmo_sink/attr_sink/1,0,0/cmo_src/attr_src / [value]

<b>math / integrate </b>/cmo_sink/attr_sink/1,0,0/ attr_src_field
</pre>

<p><code class="language-plaintext highlighter-rouge">operation</code> The first parameter a keyword that indicates the type of work to perform, see below.</p>

<p><code class="language-plaintext highlighter-rouge">cmo_sink</code> <code class="language-plaintext highlighter-rouge">attr_sink</code>  are the sink cmo and sink attribute for the math
results to be written to. These parameters are required for all math
operations.</p>

<p><code class="language-plaintext highlighter-rouge">1 0 0</code> is the selected range istart,ilast,istride where 1,0,0 represents all. The selections can also be defined by <code class="language-plaintext highlighter-rouge">pset</code> or <code class="language-plaintext highlighter-rouge">eltset</code>.</p>

<p><code class="language-plaintext highlighter-rouge">value</code> is required by some math operations and can be of type constant or can be a cmo attribute.
For the standard arithmetic operations, value can be either a constant
or an attribute. These arithmetic operations work for all types of
attributes. For the mathematical functions other than <strong><code class="language-plaintext highlighter-rouge">floor</code></strong> and <strong><code class="language-plaintext highlighter-rouge">ceiling</code></strong>,
value is omitted, and the function is performed on the <code class="language-plaintext highlighter-rouge">src_attr</code> and
stored in the <code class="language-plaintext highlighter-rouge">sink_attr</code>.</p>

<p><code class="language-plaintext highlighter-rouge">cmo_src2/attr_src2/</code> where <code class="language-plaintext highlighter-rouge">cmo_src2</code> may be the same name as the source cmo, or the name of a second source cmo.</p>

<p><code class="language-plaintext highlighter-rouge">attr_src2</code> assumes attribute is part of <code class="language-plaintext highlighter-rouge">cmo_src</code></p>

<p><code class="language-plaintext highlighter-rouge">constant</code> is a numerical value that is provided for some of the operations.</p>

<h3 id="operations">OPERATIONS</h3>

<p><strong><code class="language-plaintext highlighter-rouge">plus add minus sub subtract times multiply mult divide min max modulo</code></strong> are arithmetic operators; the result is stored in
<code class="language-plaintext highlighter-rouge">sink_attr</code> where <code class="language-plaintext highlighter-rouge">sink_attr</code> = (<code class="language-plaintext highlighter-rouge">src_attr</code>) <em>operator</em> <code class="language-plaintext highlighter-rouge">value</code>. Where <code class="language-plaintext highlighter-rouge">value</code> can be a constant or mesh object attribute.</p>

<p><strong><code class="language-plaintext highlighter-rouge">min max</code></strong> are not to be confused with the minimum or maximum value of an attribute; rather the the result is a
comparison of pairs of source values.</p>

<p><strong><code class="language-plaintext highlighter-rouge">sin cos tan ln</code></strong> (natural log), and <strong><code class="language-plaintext highlighter-rouge">log10</code></strong> are mathematical
functions. The value parameter is omitted, and the function is
performed on the <code class="language-plaintext highlighter-rouge">src_attr</code> and stored in the <code class="language-plaintext highlighter-rouge">sink_attr</code>. These
functions are not implemented for integer attributes.</p>

<p><strong><code class="language-plaintext highlighter-rouge">floor</code></strong> and <strong><code class="language-plaintext highlighter-rouge">ceiling</code></strong> are mathematical functions where value is
used as the lower or upper limit, the value(s) of <code class="language-plaintext highlighter-rouge">src_attr</code> are
checked against value, and the results are stored in the <code class="language-plaintext highlighter-rouge">sink_attr</code>.
These functions work for all types of attributes.</p>

<p><strong><code class="language-plaintext highlighter-rouge">power</code></strong> function uses both value parameters. The first value or
<code class="language-plaintext highlighter-rouge">src_attr</code> is raised to the power of the second value or attribute. You
cannot use two constants. At least one of the sources must be an
attribute. The result is stored in the <code class="language-plaintext highlighter-rouge">sink_attr</code>.</p>

<p><strong><code class="language-plaintext highlighter-rouge">exp</code></strong> and <strong><code class="language-plaintext highlighter-rouge">exp10</code></strong> functions raise the constant <em>e</em> or the constant
10 to the power specified by <code class="language-plaintext highlighter-rouge">src_attr</code> and stores the result in the
<code class="language-plaintext highlighter-rouge">sink_attr</code>.</p>

<p><strong><code class="language-plaintext highlighter-rouge">sum</code></strong> adds all node or element values in attr_src, within the
selected range and writes the result to attr_sink. The sink attribute
must be of type ‘REAL’ or ‘INT’ (length=’scalar’) and will be created
if it does not exist.</p>

<p><strong><code class="language-plaintext highlighter-rouge">integrate</code></strong>  <em>for elements only</em>. It is a function that computes the product of ‘field_value’ times the ‘element volume’ at each element and either saves these products (or sums) to the sink attribute.</p>

<p>The ‘field_value’ for an element is either the value
of attr_src (if attr_src is an element attribute and has length
‘nelements’) or is the average of the values at the vertices of the
element (if attr_src is a node attribute).</p>

<p>If <code class="language-plaintext highlighter-rouge">sink_attr</code> does not exist or if it exists and has length
‘nelements’, the products are stored in <code class="language-plaintext highlighter-rouge">sink_attr</code>.</p>

<p>If <code class="language-plaintext highlighter-rouge">sink_attr</code> exists and has length ‘scalar’, then the
products are summed up and the result is stored in <code class="language-plaintext highlighter-rouge">sink_attr</code>.</p>

<p>If the user requires just the integrated sum this alternative avoids
having to use the pair of commands <strong>integrate</strong>, <strong>sum</strong> and also avoids creating the
‘nelement’ long sink attribute.</p>

<h2 id="examples">EXAMPLES</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>math/multiply/ sink_mo/sink_attribute/50,60,3/src_mo/src_attribute/1.0

math/add/ mo/attribute/50,60,3/mo/attribute/100.0

math/modulo/ mo/attribute/1,0,0/mo/attribute/10

math/sub/ sink_mo/sink_attribute/50,60,3/src_mo1/src_attribute1/src_mo2/src_attribute2/

math/min/ sink_mo/sink_attribute/1,0,0/src_mo1/src_attribute1/src_mo2/src_attribute2/

math/ln/ sink_mo/sink_attribute/1,0,0/src_mo/src_attribute/

math/floor/ sink_mo/sink_attribute/1,0,0/src_mo/src_attribute/2.0/

math/power/ sink_mo/sink_attribute/1,0,0/src_mo/src_attribute/2.0/

math/power/ sink_mo/sink_attribute/1,0,0/2.0/src_mo/src_attribute/

math/power/ sink_mo/sink_attribute/1,0,0/base_mo/base_attribute/power_mo/power_attr

math/exp/ sink_mo/sink_attribute/1,0,0/src_mo/src_attribute/

math/exp10/ sink_mo/sink_attribute/1,0,0/src_mo/src_attribute/

math/integrate/ cmotri /Vf /1,0,0/ cmotri/ Fn

math/sum/cmotri / Vfsum /1,0,0/ cmotri / Vf

math/sum/cmotri / area_sum /1,0,0/ cmotri / darea

</code></pre></div></div>


            </div>
        </div>

        <!-- Begin footer -->
        <footer class="footer-distributed">
            <div class="footer-right">
              <div><img src="/assets/img/lanl_logo_white.png" height="80"></div>
            </div>

            <div class="footer-left lg-background-color">
                <p class="footer-links" style="font-family: 'Fira Sans', sans-serif; color: white;">
                    <a href="/">Home</a>
                    ·
                    <a href="/pages/docs/demos">Examples</a>
                    ·
                    <a href="/pylagrit/original/index.html">PyLaGriT</a>
                    ·
                    <a href="https://www.lanl.gov/org/ddste/aldcels/earth-environmental-sciences/computational-earth-science/index.php">EES-16</a>
                    ·
                    <a href="/pages/licensing.html">License</a>
                    ·
                    <a href="mailto:tamiller@lanl.gov">Contact</a>
                </p>

                <p>&copy; 2019 Los Alamos National Laboratory</p>
                <p>EES-16 | Computational Earth Science</p>
                <p>LA-CC-15-069</p>
            </div>
        </footer>

        <!-- Begin Navigation Bar -->
        <div id="offcanvas" uk-offcanvas="mode: push; overlay: true" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <div class="uk-panel">
                    <ul class="uk-nav uk-nav-default tm-nav">
                        <form class="uk-search uk-search-default" action="https://lanl.github.io/LaGriT/search/">
                            <a href="" uk-search-icon></a>
                            <input class="uk-search-input" type="search" placeholder="" name="q" id="tipue_search_input_mobile">
                        </form>
                        <li class="uk-nav-header">General</li>
                        <li><a href="/">Home</a></li>
                        <li><a href="/pages/manual">Manual</a></li>
                        <li><a href="/pylagrit/original/index.html">PyLaGriT</a></li>
                        <li><a href="/pages/commands">Commands</a></li>
                        <li><a href="/pages/publications">Publications</a></li>
                        <li><a href="http://github.com/lanl/LaGriT">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Navigation Bar -->

    </div>

</body>

</html>
