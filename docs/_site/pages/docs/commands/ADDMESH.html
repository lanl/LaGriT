<html lang="en-gb" dir="ltr">

<head>
    <title>ADDMESH</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="LaGriT : LaGriT is a library providing mesh generation and optimization for a variety of polyhedra and dimensions.">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Fira+Sans" rel="stylesheet">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Reg-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Light-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="stylesheet" href="/assets/css/uikit_theme.css">
    <link rel="icon" type="image/x-icon" href="https://www.lanl.gov/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/assets/css/footer.css">

    <!-- load stylesheets -->
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.2/marked.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.0.2/vue-router.min.js" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit-icons.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/highlightjs/highlight.min.js" defer=""></script>
    <script src="https://getuikit.com/app/main.min.js?1180" defer=""></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-42150424-1" async=""></script>

    <!-- tipuesearch files -->
    <link rel="stylesheet" href="/assets/tipuesearch/css/normalize.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="/assets/tipuesearch/css/tipuesearch.css">
    <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
    <script src="/assets/tipuesearch/tipuesearch.min.js"></script>

    <!-- Finally, load global style to overwrite template, tipuesearch, etc. -->
    <!--<link rel="stylesheet" href="/assets/globalstyle.css">-->
</head>

<body>
    <div>
        <!-- Header -->
        <div uk-sticky="media: 960" class="uk-navbar-container tm-navbar-container uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 100%; color: #212328;">
            <div class="uk-container uk-container-expand">
                <nav class="uk-navbar">
                    <div class="uk-navbar-left">
                        <a href="/" class="uk-navbar-item uk-logo" style="font-family: 'Do Hyeon', sans-serif; color: white;">
                            <img uk-img src="/assets/img/logo.png" width="50" class="uk-margin-small-right" alt="LANL logo">
                            LaGriT
                        </a>
                    </div>
                    <div class="uk-navbar-right">
                        <ul class="uk-navbar-nav uk-visible@m">
                            <li><a href="/pages/commands">Commands</a></li>
                            <li><a href="/pages/release">Release Notes</a></li>
                            <li><a href="/pages/publications">Publications</a></li>
                            <li><a href="http://github.com/lanl/LaGriT"><span uk-icon="github"></span></a></li>

                            <!-- Begin search bar -->
                            <div class="nav-overlay uk-navbar-right">
                                <a class="uk-navbar-toggle" uk-search-icon uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>
                                <div class="uk-navbar-item uk-width-expand">
                                    <form class="uk-search uk-search-navbar uk-width-1-1" action="https://lanl.github.io/LaGriT/search/">
                                        <input class="uk-search-input" name="q" type="search" id="tipue_search_input" placeholder="Search..." autofocus>
                                    </form>
                                </div>
                                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <script>
                                $(document).ready(function() {
                                  $('#tipue_search_input').tipuesearch({
                                        'show': 10,
                                        'newWindow'  : true,
                                        'showURL' : true,
                                        'showTitleCount' : true,
                                        'descriptiveWords' : 20,
                                        'highlightTerms' : true,
                                        'mode': 'static',
                                  });
                                });
                            </script>
                            <!-- End search bar -->

                        </ul>
                        
                        <a uk-navbar-toggle-icon="" href="#offcanvas" uk-toggle="" class="uk-navbar-toggle uk-hidden@m uk-icon uk-navbar-toggle-icon">
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="navbar-toggle-icon">
                                <rect y="9" width="20" height="2"></rect>
                                <rect y="3" width="20" height="2"></rect>
                                <rect y="15" width="20" height="2"></rect>
                            </svg>
                        </a>
                    </div>
                </nav>
            </div>
        </div>
        <div class="uk-sticky-placeholder" style="height: 80px; margin: 0px;"></div>
        <!-- End Header -->

        <!-- Main Body text -->
        <div class="tm-main uk-section uk-section-default">
            <div class="uk-container uk-container-small uk-position-relative">

                <h1 id="addmesh">ADDMESH</h1>

<hr />

<p>This routine joins two meshes together at their common interface to
produce a third mesh.</p>

<p>Some operations may only work with tet meshes.</p>

<p>NOTE: Care must be taken when using these commands because nothing is
done to clean up the point type (itp) array after the <strong>addmesh</strong>
operation. The user must often use the commands
<a href="/pages/docs/commands/RESETPT.html"><strong>resetpts/itp</strong></a> and <a href="/pages/docs/commands/FILTER.html"><strong>filter</strong></a></p>

<h2 id="syntax">SYNTAX</h2>

<pre>
<b>addmesh / add</b> / mesh3 / mesh1 / mesh2 / [refine_factor] / [tet edge]
<b>addmesh / amr</b> / mesh3 / mesh1 / mesh2 /
<b>addmesh / append</b> / mesh3 / mesh1 / mesh2 /
<b>addmesh / delete</b> / mesh3 / mesh1 / mesh2 /
<b>addmesh / glue</b> / mesh3 / mesh1 / mesh2 /
<b>addmesh / intersect</b> / pset_name / mesh1 / mesh2 /
<b>addmesh / match</b> / mesh3 / mesh1 / mesh2 / i1 12 i3 i4 i5 i6/
<b>addmesh / match</b> / mesh3 / mesh1 / mesh2 /rx1 ry1 rz1/rx2 ry2 rz2/rx3 ry3 rz3/rx4 ry4 rz4/rx5 ry5 rz5/rx6/ry6/rz6/
<b>addmesh / merge</b> / mesh3 / mesh1 / mesh2 /
<b>addmesh / pyramid</b> / mesh3 / mesh1 / mesh2 /
<b>addmesh / excavate</b> / mesh3 / mesh1 / mesh2 / [bfs] / [connect] /
</pre>

<p><br /></p>

<p><strong><code class="language-plaintext highlighter-rouge">add</code></strong> - Find the intersection of mesh1 and mesh2. Refine mesh1 where
 it overlaps mesh2 using the following criteria. <code class="language-plaintext highlighter-rouge">refine_factor</code>
 specifies the number of times that the background mesh will be
 refined. If this number is negative, or if it does not appear, then
 the it will use the default. The default method determines the number
 of refinement iterations based on the volumes of the tets. It
 continues to refine until the elements on the interface boundary of
 the background mesh object are within a given factor (5.0) of the
 volume of the elements on the border of the incoming mesh object. This
 factor is a parameter constant called <code class="language-plaintext highlighter-rouge">size_difference</code> in the code
 <code class="language-plaintext highlighter-rouge">continue_refinement.f</code>. For example, if <code class="language-plaintext highlighter-rouge">size_difference</code> is set to
 5.0, then the background mesh will be refined until the maximum volume
 element on the boundary with the incoming mesh object is no bigger
 than 5 times the volume of the maximum volume element on the border of
 the incoming mesh. refine_type is the type of refinement that is
 executed. If the string <code class="language-plaintext highlighter-rouge">tet</code> appears, then tetrahedral refinement
 is performed. Otherwise, <code class="language-plaintext highlighter-rouge">edge</code> based refinement is performed. After
 the above refine steps have been done, the intersection of mesh1 and
 mesh2 is found, elements that overlap are deleted from mesh1 and mesh2
 is appended to mesh1 to create mesh3.</p>

<p><strong><code class="language-plaintext highlighter-rouge">merge</code></strong> - Append <code class="language-plaintext highlighter-rouge">mesh2</code> to to <code class="language-plaintext highlighter-rouge">mesh1</code> and create <code class="language-plaintext highlighter-rouge">mesh3</code>. Essentially
 this just concatenates two mesh objects.</p>

<p><strong><code class="language-plaintext highlighter-rouge">glue</code></strong> - Synonym for <code class="language-plaintext highlighter-rouge">merge</code>.</p>

<p><strong><code class="language-plaintext highlighter-rouge">append</code></strong> - Append mesh2 to mesh1 and create mesh3. Similar to
 <code class="language-plaintext highlighter-rouge">merge</code> except <code class="language-plaintext highlighter-rouge">imt</code>, <code class="language-plaintext highlighter-rouge">icr</code>, <code class="language-plaintext highlighter-rouge">itetclr</code> of mesh2 have the value
 <code class="language-plaintext highlighter-rouge">max(imt(mesh1))</code> added to mesh2.</p>

<p><strong><code class="language-plaintext highlighter-rouge">delete</code></strong> - Create mesh3 which is mesh1 with elements that intersect
 mesh2 deleted.</p>

<p><strong><code class="language-plaintext highlighter-rouge">intersect</code></strong> - Create a pset called <code class="language-plaintext highlighter-rouge">pset_name</code> that contains all
 nodes in mesh1 which intersect elements of mesh2.</p>

<p><strong><code class="language-plaintext highlighter-rouge">amr</code></strong> - Use Adaptive mesh refinement to connect background mesh1
 with submesh mesh2 and create mesh3.</p>

<p><strong><code class="language-plaintext highlighter-rouge">match</code></strong> - Same as <code class="language-plaintext highlighter-rouge">merge</code> except the second mesh can be moved,
 rotated and translated. The first mesh does not move scale or rotate.
 If the interface needs to be scaled, translated and rotated that is
 accomplished by specifing 3 node numbers in each mesh or 3 node
 coordinates from each mesh that are to become coincident. If nodes are
 given match <code class="language-plaintext highlighter-rouge">i1-i4</code>, <code class="language-plaintext highlighter-rouge">i2-i5</code>, <code class="language-plaintext highlighter-rouge">i3-i6</code>. If coordinates are given match
 <code class="language-plaintext highlighter-rouge">(x1,y1,z1)-(x4,y4,z4)</code>, etc.</p>

<p><strong><code class="language-plaintext highlighter-rouge">pyramid</code></strong> - join a hex mesh to a tet mesh. The common surface must
 have matching nodes (i.e. there must be exactly two triangle faces on
 the tet grid that fit into one quad face of the hex grid). Pyramid
 elements will be constructed in the region where the two meshes join.</p>

<p><strong><code class="language-plaintext highlighter-rouge">excavate</code></strong> - The circumscribed sphere of each triangle of mesh2 is computed and any node in mesh1 that falls inside one of the circumscribed spheres is marked as a dudded node, along with any cells of mesh1 associated with these nodes.  mesh1 must be a 3D mesh (of any geometry) and mesh2
 must be a 2D triangular mesh. This then excavates an area in mesh1
 around mesh2, such that the surface could then be inserted into the 3D
 mesh (such as to insert a fault into a background terrain mesh). The
 background mesh, minus the excavated/removed nodes, is put into mesh3.
 The following options are available:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">[bfs]</code> will use a breadth-first search algorithm to find nodes to remove, as opposed to
 the default KD-tree algorithm. This will find candidate nodes for deletion within the maximum circumradius of the surface. Then a breadth-first search across the surface will be searched for an element large enough to contain the candidate node.</li>
  <li><code class="language-plaintext highlighter-rouge">[connect]</code> after excavation the following commands will be executed: <strong>addmesh/append</strong>
 and then <strong>connect</strong>. This will produce a fully connected mesh with the surface
 (mesh2) inserted into the background (mesh1).</li>
</ul>

<p><a href="/pages/docs/demos/">Click here for demos</a></p>



            </div>
        </div>

        <!-- Begin footer -->
        <footer class="footer-distributed">
            <div class="footer-right">
              <div><img src="/assets/img/lanl_logo_white.png" height="80"></div>
            </div>

            <div class="footer-left lg-background-color">
                <p class="footer-links" style="font-family: 'Fira Sans', sans-serif; color: white;">
                    <a href="/">Home</a>
                    ·
                    <a href="/pylagrit/original/index.html">PyLaGriT</a>
                    ·
                    <a href="https://int.lanl.gov/org/ddste/aldcels/ees/index.shtml">EES-16</a>
                    ·
                    <a href="/pages/licensing.html">License</a>
                    ·
                    <a href="https://lagrit.lanl.gov/">Contact</a>
                </p>

                <p>&copy; 2019 Los Alamos National Laboratory</p>
                <p>EES-16 | Computational Earth Science</p>
                <p>LA-CC-15-069</p>
            </div>
        </footer>

        <!-- Begin Navigation Bar -->
        <div id="offcanvas" uk-offcanvas="mode: push; overlay: true" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <div class="uk-panel">
                    <ul class="uk-nav uk-nav-default tm-nav">
                        <form class="uk-search uk-search-default" action="https://lanl.github.io/LaGriT/search/">
                            <a href="" uk-search-icon></a>
                            <input class="uk-search-input" type="search" placeholder="" name="q" id="tipue_search_input_mobile">
                        </form>
                        <li class="uk-nav-header">General</li>
                        <li><a href="/">Home</a></li>
                        <li><a href="/pages/commands">Commands</a></li>
                        <li><a href="/pages/release">Release Notes</a></li>
                        <li><a href="/pages/publications">Publications</a></li>
                        <li><a href="http://github.com/lanl/LaGriT">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Navigation Bar -->

    </div>

</body>

</html>
