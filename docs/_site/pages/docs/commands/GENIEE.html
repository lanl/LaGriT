<html lang="en-gb" dir="ltr">

<head>
    <title>LaGriT</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="LaGriT : LaGriT is a library providing mesh generation and optimization for a variety of polyhedra and dimensions.">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Fira+Sans" rel="stylesheet">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Reg-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Light-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="stylesheet" href="/assets/css/uikit_theme.css">
    <link rel="icon" type="image/x-icon" href="https://www.lanl.gov/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/assets/css/footer.css">

    <!-- load stylesheets -->
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.2/marked.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.0.2/vue-router.min.js" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit-icons.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/highlightjs/highlight.min.js" defer=""></script>
    <script src="https://getuikit.com/app/main.min.js?1180" defer=""></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-42150424-1" async=""></script>

    <!-- tipuesearch files -->
    <link rel="stylesheet" href="/assets/tipuesearch/css/normalize.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="/assets/tipuesearch/css/tipuesearch.css">
    <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
    <script src="/assets/tipuesearch/tipuesearch.min.js"></script>

    <!-- Finally, load global style to overwrite template, tipuesearch, etc. -->
    <!--<link rel="stylesheet" href="/assets/globalstyle.css">-->
</head>

<body>
    <div>
        <!-- Header -->
        <div uk-sticky="media: 960" class="uk-navbar-container tm-navbar-container uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 100%; color: #212328;">
            <div class="uk-container uk-container-expand">
                <nav class="uk-navbar">
                    <div class="uk-navbar-left">
                        <a href="/" class="uk-navbar-item uk-logo" style="font-family: 'Do Hyeon', sans-serif; color: white;">
                            <img uk-img src="/assets/img/logo.png" width="50" class="uk-margin-small-right" alt="LANL logo">
                            LaGriT
                        </a>
                    </div>
                    <div class="uk-navbar-right">
                        <ul class="uk-navbar-nav uk-visible@m">
                            <li><a href="/pages/commands">Commands</a></li>
                            <li><a href="/pages/release">Release Notes</a></li>
                            <li><a href="/pages/publications">Publications</a></li>
                            <li><a href="http://github.com/lanl/LaGriT"><span uk-icon="github"></span></a></li>

                            <!-- Begin search bar -->
                            <div class="nav-overlay uk-navbar-right">
                                <a class="uk-navbar-toggle" uk-search-icon uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>
                                <div class="uk-navbar-item uk-width-expand">
                                    <form class="uk-search uk-search-navbar uk-width-1-1" action="https://lanl.github.io/LaGriT/search/">
                                        <input class="uk-search-input" name="q" type="search" id="tipue_search_input" placeholder="Search..." autofocus>
                                    </form>
                                </div>
                                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <script>
                                $(document).ready(function() {
                                  $('#tipue_search_input').tipuesearch({
                                        'show': 10,
                                        'newWindow'  : true,
                                        'showURL' : true,
                                        'showTitleCount' : true,
                                        'descriptiveWords' : 20,
                                        'highlightTerms' : true,
                                        'mode': 'static',
                                  });
                                });
                            </script>
                            <!-- End search bar -->

                        </ul>
                        
                        <a uk-navbar-toggle-icon="" href="#offcanvas" uk-toggle="" class="uk-navbar-toggle uk-hidden@m uk-icon uk-navbar-toggle-icon">
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="navbar-toggle-icon">
                                <rect y="9" width="20" height="2"></rect>
                                <rect y="3" width="20" height="2"></rect>
                                <rect y="15" width="20" height="2"></rect>
                            </svg>
                        </a>
                    </div>
                </nav>
            </div>
        </div>
        <div class="uk-sticky-placeholder" style="height: 80px; margin: 0px;"></div>
        <!-- End Header -->

        <!-- Main Body text -->
        <div class="tm-main uk-section uk-section-default">
            <div class="uk-container uk-container-small uk-position-relative">

                
<hr />
<p>title: GENIEE
tags: geniee, connectivity 
—</p>

<h1 id="geniee">GENIEE</h1>

<hr />

<p>Generate the element the connectivity list (jtet array).</p>

<p>The <strong>jtet</strong> attribute contains for each facet of an element the
neighboring element and its local face.  For 3D grids the jtet
relationship is reflexsive; each element-face pair has exactly one
neighboring element-face pair.  For 2D grids the jtet relationship
can include cycles; a triangle or quad edge may have many edge
neighbors.  In this case the jtet is constructed as a closed cycle
where the jtet of one element-edge pair will be a neighboring
element-edge pair whose jtet wil be another neighboring element-edge
pair and so on until all neighbors are included in the cycle exactly
once.</p>

<p>The <strong>jtet</strong> is constructed by looking at matching node numbers and will
use the parent nodes if they exist.  Faces with matching node
coordinates but different node numbers will not be matched.</p>

<p>For hybrid grids that contain degenerate elements there are two
options.  If the mesh object attribute <strong>jtet_reduce_nnd</strong> exists and
is set to 1, then faces with repeated node numbers will be matched
to faces with the same numbers but not repeated.  For example if a
degenerate hex has a face 1 1 2 3 and there is an element (prism,
tet, pyramid) with face 1 2 3 and if <strong>jtet_reduce_nnd</strong> is 1, then
these faces will be matched.  Otherwise they will be marked as
external boundary faces.</p>

<h2 id="syntax">SYNTAX</h2>

<pre>
<b>geniee</b>
 
<b>geniee</b> / mo_name / <b>2dnormal</b> / reference_element_number / [ <b>addatt</b> ]
</pre>

<p><strong><code class="language-plaintext highlighter-rouge">geniee</code></strong> with no arguments will generate element the connectivity list (jtet) that gives neighbor
information. Element connectivity is maintained within LaGriT, but can also be generated by the user with this command.</p>

<p><code class="language-plaintext highlighter-rouge">mo_name</code> is the mesh object to operate on. Can be / / or /-def-/</p>

<p><strong><code class="language-plaintext highlighter-rouge">2dnormal</code></strong> Check or change the topological orientation (itet array) of a triangle, quad, or hybrid tri/quad mesh consistent so that shared edges are traversed in opposite directions. This is only possible in a mesh with <strong>jtet_loop_max</strong> = 2. For networks with <strong>jtet_loop_max</strong> &gt; 2 there may not be a configuration that meets the goal.</p>

<p><code class="language-plaintext highlighter-rouge">reference_element_number</code> - Default value is 1. This is the element number that will be the reference element that
all other elements are compared to. If this parameter is a negative number, the orientation of element number
abs(<code class="language-plaintext highlighter-rouge">reference_element_number</code>) is reversed and then used as the reference. <code class="language-plaintext highlighter-rouge">reference_element_number</code> = 0 will check and report if orientation is consistent, but will not do any flipping.</p>

<p>For example this command will check and report orientation without making any changes:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    geniee / -def- / 2dnormal / 0
</code></pre></div></div>

<p>This command can be used to flip the normals of a mesh that is already consistent. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    geniee / -def- / 2dnormal / -1
</code></pre></div></div>

<p><strong>addatt</strong> is optional keyword that will create two new arrays ipath and ifflip to the mesh object.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ipath - The order in which elements are visited.

  ifflip - 0 if the element orientation was NOT changed, 1 if the element orientation was changed. 
  Note the ifflip array will not make sense for jtet loops greater than 2 for which there is no single solution.
</code></pre></div></div>

<p>Note: For the case where a mesh is not completely edge connected,
  this module will detect that all elements have not been tested and
  will warn the user and suggest a command line syntax to test
  elements not visited.</p>

<p>Note: Code not set up for a mesh with parent/child chains. When
  check is made, it compares child points. When permutation of
  elements is done, only itet and jtet arrays are updated.</p>

<h2 id="examples">EXAMPLES</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  geniee / cmo / 2dnormal
</code></pre></div></div>

<p>Check orientation of tri/quad elements and if their orientation is
  different than element 1, then flip their orientation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  geniee / cmo/2dnormal/-1
</code></pre></div></div>

<p>Flip the orientation of element one and then make the rest of the
  mesh consistent with element 1. If the mesh object is already
  consistent, then this command will reverse the orientation of all
  the elements in a surface (tri, quad) mesh.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  geniee / -def- / 2dnormal / 17
</code></pre></div></div>

<p>Check orientation of tri/quad elements and if their orientation is
  different than element 17, then flip their orientation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  geniee / cmo / 2dnormal / 0
</code></pre></div></div>

<p>Check orientation of tri/quad elements and if their orientation is
  different than element 1, report the difference but do not change
  the mesh object orientation.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  geniee / cmo / 2dnormal / 0 / addatt
</code></pre></div></div>

<p>Check orientation of tri/quad elements and if their orientation is
  different than element 1, report the difference but do not change
  the mesh object orientation. Create two new attributes:</p>

<p>ipath is the search path the algorithm followed through the mesh.</p>

<p>ifflip reports the orientation of each element as compared to element 1.</p>

<h2 id="testing-topology-or-watertightness-for-multi-materials">Testing Topology or watertightness for Multi-Materials</h2>

<p>For a single material watertight mesh, there will be no boundaries, that is <strong>geniee</strong> will report no more than 2 jtet loops. If you run <strong>boundary_components</strong> the result will show “0  different exterior boundary components”. For a watertight mesh, each edge needs to appear in (at least) two facets, but can appear in more than two. For instance if a surface is extracted on a 2 material mesh, the material boundary faces will also be extracted. These boundary faces will share an edge with outside faces so that 3 faces share a single edge. <strong>geniee</strong> will report as shown in this example with 4 boundary edges and no more than 3 faces sharing an edge:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geniee: mesh has   4  jtet loops, max cycle length =  3
</code></pre></div></div>

<p>The basic test is to compute a face graph of the mesh. We visit all cells and look across the face and ask if I look across face i of cell J what is the cell m and face n on the other side. If the answer is, nothing is on the other side the face is labeled as ‘boundary’. The tests are not geometric, they are topological. The test is on the cell connectivity list. That is if cell a has edge i,j then we are looking in the connectivity list for a cell with edge j,i (or i,j). In general in a ‘good’ mesh we expect the shared edge to be traversed in the opposite direction. However, in the multi-material models where 3 (or more) triangles share an edge, we cannot expect the edges to be traversed in opposite directions.</p>



            </div>
        </div>

        <!-- Begin footer -->
        <footer class="footer-distributed">
            <div class="footer-right">
              <div><img src="/assets/img/lanl_logo_white.png" height="80"></div>
            </div>

            <div class="footer-left lg-background-color">
                <p class="footer-links" style="font-family: 'Fira Sans', sans-serif; color: white;">
                    <a href="/">Home</a>
                    ·
                    <a href="/pylagrit/original/index.html">PyLaGriT</a>
                    ·
                    <a href="https://int.lanl.gov/org/ddste/aldcels/ees/index.shtml">EES-16</a>
                    ·
                    <a href="/pages/licensing.html">License</a>
                    ·
                    <a href="https://lagrit.lanl.gov/">Contact</a>
                </p>

                <p>&copy; 2019 Los Alamos National Laboratory</p>
                <p>EES-16 | Computational Earth Science</p>
                <p>LA-CC-15-069</p>
            </div>
        </footer>

        <!-- Begin Navigation Bar -->
        <div id="offcanvas" uk-offcanvas="mode: push; overlay: true" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <div class="uk-panel">
                    <ul class="uk-nav uk-nav-default tm-nav">
                        <form class="uk-search uk-search-default" action="https://lanl.github.io/LaGriT/search/">
                            <a href="" uk-search-icon></a>
                            <input class="uk-search-input" type="search" placeholder="" name="q" id="tipue_search_input_mobile">
                        </form>
                        <li class="uk-nav-header">General</li>
                        <li><a href="/">Home</a></li>
                        <li><a href="/pages/commands">Commands</a></li>
                        <li><a href="/pages/release">Release Notes</a></li>
                        <li><a href="/pages/publications">Publications</a></li>
                        <li><a href="http://github.com/lanl/LaGriT">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Navigation Bar -->

    </div>

</body>

</html>
