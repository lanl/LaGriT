<html lang="en-gb" dir="ltr">

<head>
    <title>Demo Stack Layers</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="LaGriT : LaGriT is a library providing mesh generation and optimization for a variety of polyhedra and dimensions.">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon|Fira+Sans" rel="stylesheet">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Reg-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://getuikit.com/fonts/ProximaNova-Light-webfont.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="stylesheet" href="/assets/css/uikit_theme.css">
    <link rel="icon" type="image/x-icon" href="https://www.lanl.gov/favicon.ico">
    <link rel="stylesheet" type="text/css" href="/assets/css/footer.css">

    <!-- load stylesheets -->
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/he/1.2.0/he.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.6.2/marked.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js" defer=""></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/3.0.2/vue-router.min.js" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/uikit/dist/js/uikit-icons.min.js?1180" defer=""></script>
    <script src="https://getuikit.com/assets/highlightjs/highlight.min.js" defer=""></script>
    <script src="https://getuikit.com/app/main.min.js?1180" defer=""></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=UA-42150424-1" async=""></script>

    <!-- tipuesearch files -->
    <link rel="stylesheet" href="/assets/tipuesearch/css/normalize.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/assets/tipuesearch/tipuesearch_content.js"></script>
    <link rel="stylesheet" href="/assets/tipuesearch/css/tipuesearch.css">
    <script src="/assets/tipuesearch/tipuesearch_set.js"></script>
    <script src="/assets/tipuesearch/tipuesearch.min.js"></script>

    <!-- Finally, load global style to overwrite template, tipuesearch, etc. -->
    <!--<link rel="stylesheet" href="/assets/globalstyle.css">-->
</head>

<body>
    <div>
        <!-- Header -->
        <div uk-sticky="media: 960" class="uk-navbar-container tm-navbar-container uk-sticky uk-sticky-fixed" style="position: fixed; top: 0px; width: 100%; color: #212328;">
            <div class="uk-container uk-container-expand">
                <nav class="uk-navbar">
                    <div class="uk-navbar-left">
                        <a href="/" class="uk-navbar-item uk-logo" style="font-family: 'Do Hyeon', sans-serif; color: white;">
                            <img uk-img src="/assets/img/logo.png" width="50" class="uk-margin-small-right" alt="LANL logo">
                            LaGriT
                        </a>
                    </div>
                    <div class="uk-navbar-right">
                        <ul class="uk-navbar-nav uk-visible@m">
                            <li><a href="/pages/manual">Manual</a></li>
                            <li><a href="/pylagrit/original/index.html">PyLaGriT</a></li>
                            <li><a href="/pages/commands">Commands</a></li>
                            <li><a href="/pages/publications">Publications</a></li>
                            <li><a href="http://github.com/lanl/LaGriT"><span uk-icon="github"></span></a></li>

                            <!-- Begin search bar -->
                            <div class="nav-overlay uk-navbar-right">
                                <a class="uk-navbar-toggle" uk-search-icon uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <div class="nav-overlay uk-navbar-left uk-flex-1" hidden>
                                <div class="uk-navbar-item uk-width-expand">
                                    <form class="uk-search uk-search-navbar uk-width-1-1" action="https://lanl.github.io/LaGriT/search/">
                                        <input class="uk-search-input" name="q" type="search" id="tipue_search_input" placeholder="Search..." autofocus>
                                    </form>
                                </div>
                                <a class="uk-navbar-toggle" uk-close uk-toggle="target: .nav-overlay; animation: uk-animation-fade" href="#"></a>
                            </div>

                            <script>
                                $(document).ready(function() {
                                  $('#tipue_search_input').tipuesearch({
                                        'show': 10,
                                        'newWindow'  : true,
                                        'showURL' : true,
                                        'showTitleCount' : true,
                                        'descriptiveWords' : 20,
                                        'highlightTerms' : true,
                                        'mode': 'static',
                                  });
                                });
                            </script>
                            <!-- End search bar -->

                        </ul>
                        
                        <a uk-navbar-toggle-icon="" href="#offcanvas" uk-toggle="" class="uk-navbar-toggle uk-hidden@m uk-icon uk-navbar-toggle-icon">
                            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="navbar-toggle-icon">
                                <rect y="9" width="20" height="2"></rect>
                                <rect y="3" width="20" height="2"></rect>
                                <rect y="15" width="20" height="2"></rect>
                            </svg>
                        </a>
                    </div>
                </nav>
            </div>
        </div>
        <div class="uk-sticky-placeholder" style="height: 80px; margin: 0px;"></div>
        <!-- End Header -->

        <!-- Main Body text -->
        <div class="tm-main uk-section uk-section-default">
            <div class="uk-container uk-container-small uk-position-relative">

                <h1 id="demo-stacklayers">Demo stack/layers</h1>

<hr />

<h2 id="feature-truncating-surface">Feature: truncating surface</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmo/create/cmo1
stack/layers/avs/ surf-12.inp 1/ surf-5.inp 2/ surf5.inp 3/surf_slope3.inp 4/ surf25.inp 4 / trunc 4 / pinch 0.

stack/fill/ mohex /cmo1
</code></pre></div></div>

<p><a href="https://lanl.github.io/LaGriT/assets/images/x5.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/x5.jpg" /></a></p>

<p>Read 5 surface files, truncate by 4th surface.</p>

<p>No buffers at interfaces, no refinements.</p>

<pre class="lg-output">
................................................................

         surface name  layer color type llcorner  zic 
          surf-12.inp     1    1   -1         1)  -1.200000E+01 
           surf-5.inp     2    2    0        37)  -5.000000E+00 
            surf5.inp     3    3    0        73)   5.000000E+00 
      surf_slope3.inp     4    4    0       109)   1.800000E+01 
           surf25.inp     5    4   -2       145)   2.500000E+01

Elements per layer:         48 total:        240 
Nodes    per layer:         36 total:        180 
Layers truncated by surf_slope3.inp layer         4

STACK DONE:         5 files read out of         5

................................................................ 
</pre>

<h2 id="feature-truncating-surface-and-buffered-interfaces">Feature: truncating surface and buffered interfaces</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmo create cmo1
stack/layers/avs/ surf-12.inp 1/ surf-5.inp 2/ surf5.inp 3/ &amp;
     surf_slope3.inp 4/ surf25.inp 4 / trunc 4 / buffer 1. pinch 0.

stack/fill/ mohex / cmo1
</code></pre></div></div>

<p><a href="https://lanl.github.io/LaGriT/assets/images/x5_buff.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/x5_buff.jpg" /></a></p>

<p>Read 5 surface files, truncate by 4th surface.</p>

<p>buffers at interfaces, no refinements.</p>

<pre class="lg-output">
................................................................

         surface name  layer color type llcorner  zic 
          surf-12.inp     1    1   -1         1)  -1.200000E+01 
               buffer     2    1    1        37)  -6.000000E+00 
           surf-5.inp     3    2    0        73)  -5.000000E+00 
               buffer     4    2    1       109)  -4.000000E+00 
               buffer     5    2    1       145)   4.000000E+00 
            surf5.inp     6    3    0       181)   5.000000E+00 
               buffer     7    3    1       217)   6.000000E+00 
               buffer     8    3    1       253)   1.700000E+01 
      surf_slope3.inp     9    4    0       289)   1.800000E+01 
               buffer    10    4    1       325)   1.900000E+01 
           surf25.inp    11    4   -2       361)   2.500000E+01

Elements per layer:         48 total:        528 
Nodes    per layer:         36 total:        396 
Layers truncated by surf_slope3.inp layer         9

STACK DONE:         5 files read out of         5 
STACK DONE:         6 layers created for total        11 
</pre>

<h2 id="feature-truncation-with-no-refinement">Feature: truncation with no refinement</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmo create cmo1
stack/layers/avs/surf-12.inp 1/surf-5.inp 2/surf5.inp 3/surf_slope3.inp 4/ trunc 4 / pinch 0.

stack/fill/ moprism / cmo1
</code></pre></div></div>

<p><a href="https://lanl.github.io/LaGriT/assets/images/x5top.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/x5top.jpg" /></a></p>

<p>Read 4 surface files, truncate by last surface.</p>

<p>No buffers at interfaces, no refinements.</p>

<pre class="lg-output">
................................................................

         surface name  layer color type llcorner  zic 
          surf-12.inp     1    1   -1         1)  -1.200000E+01 
           surf-5.inp     2    2    0        37)  -5.000000E+00 
            surf5.inp     3    3    0        73)   5.000000E+00 
      surf_slope3.inp     4    4   -2       109)   1.800000E+01

Elements per layer:         48 total:        192 
Nodes    per layer:         36 total:        144 
Layers truncated by surf_slope3.inp layer         4

STACK DONE:         4 files read out of         4

................................................................ 
</pre>

<h3 id="feature-truncate-buffers-no-refinement">Feature: truncate, buffers, no refinement</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>cmo create cmo1
stack/layers/avs/surf-12.inp 1/surf-5.inp 2/surf5.inp 3/surf\_slope3.inp 4/ trunc 4 / buffer 1. pinch 0.
stack/fill/ moprism / cmo1
</code></pre></div></div>

<p><a href="https://lanl.github.io/LaGriT/assets/images/x5top_buff.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/x5top_buff.jpg" /></a></p>

<p>Read 5 surface files, truncate by last surface.</p>

<p>buffers at interfaces, no refinements.`</p>

<p>Warnings are from post-processer that checks buffer points.  It happens because there is not a buffer under the truncated surface.
IMPLEMENTATION QUESTION: Should this top layer be buffered?
As is, code does not buffer the top layer, just the interfaces.</p>

<pre class="lg-output">
WARNING: znext for buffer not found         13         6  0.500000E+01 
WARNING: znext for buffer not found         14         6  0.500000E+01 
WARNING: znext for buffer not found         15         6  0.500000E+01 
WARNING: znext for buffer not found         16         6  0.500000E+01

................................................................

         surface name  layer color type llcorner  zic 
          surf-12.inp     1    1   -1         1)  -1.200000E+01 
               buffer     2    1    1        37)  -6.000000E+00 
           surf-5.inp     3    2    0        73)  -5.000000E+00 
               buffer     4    2    1       109)  -4.000000E+00 
               buffer     5    2    1       145)   4.000000E+00 
            surf5.inp     6    3    0       181)   5.000000E+00 
               buffer     7    3    1       217)   6.000000E+00 
      surf_slope3.inp     8    4   -2       253)   1.800000E+01

Elements per layer:         48 total:        384 
Nodes    per layer:         36 total:        288 
Layers truncated by surf_slope3.inp layer         7
</pre>

<h2 id="feature-bead-on-a-string-algorithm">Feature: bead on a string algorithm</h2>

<h3 id="bead-0">bead 0</h3>

<p><a href="https://lanl.github.io/LaGriT/assets/images/bead.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/bead.jpg" /></a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>buffer 2.  pinch 0.
unit 2 thickness = 1.
</code></pre></div></div>

<pre class="lg-output">
SUMMARY VOLUME/AREA of ELEMENT COLORS 
Color nelem  volume        fractional volume 
1     288    0.2140000E+05     0.180743243 
2     432    0.1620000E+04     0.013682432 
3     432    0.2618000E+05     0.221114865 
4     288    0.6920000E+05     0.584459459 
</pre>

<h3 id="bead-1">bead 1</h3>

<p><a href="https://lanl.github.io/LaGriT/assets/images/bead1.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/bead1.jpg" /></a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>buffer 2.  / dpinch 0.0  dmin 1.
Post process node changes =         76
unit 2 thickness = 2.0
</code></pre></div></div>

<pre class="lg-output">
SUMMARY VOLUME/AREA of ELEMENT COLORS 
Color nelem  volume        fractional volume 
1     288    0.1942000E+05     0.164020270 
2     432    0.3600000E+04     0.030405405 
3     432    0.2618000E+05     0.221114865 
4     288    0.6920000E+05     0.584459459 
</pre>

<h3 id="bead-3">bead 3</h3>

<p><a href="https://lanl.github.io/LaGriT/assets/images/bead3.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/bead3.jpg" /></a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>buffer 2. /  dpinch .0   dmin 1.5   move 3
unit 2 thickness = 3.
</code></pre></div></div>

<pre class="lg-output">
SUMMARY VOLUME/AREA of ELEMENT COLORS 
Color nelem  volume        fractional volume 
1     288    0.1706000E+05     0.144087838 
2     432    0.5400000E+04     0.045608108 
3     432    0.2674000E+05     0.225844595 
4     288    0.6920000E+05     0.584459459 
</pre>

<h3 id="bead-4">bead 4</h3>

<p><a href="https://lanl.github.io/LaGriT/assets/images/bead4.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/bead4.jpg" /></a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>buffer 2. / dpinch .0   dmin 1.5    move 2
</code></pre></div></div>

<pre class="lg-output">
SUMMARY VOLUME/AREA of ELEMENT COLORS 
Color nelem  volume        fractional volume 
1     288    0.2140000E+05     0.180743243 
2     432    0.5400000E+04     0.045608108 
3     432    0.2430000E+05     0.205236486 
4     288    0.6730000E+05     0.568412162 
</pre>

<h3 id="bead-5">bead 5</h3>

<p><a href="https://lanl.github.io/LaGriT/assets/images/bead5.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/bead5.jpg" /></a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>buffer 2. / dpinch .0   dmin 1.5   move 1
</code></pre></div></div>

<pre class="lg-output">
SUMMARY VOLUME/AREA of ELEMENT COLORS 
Color nelem  volume        fractional volume 
1    288    0.1923000E+05     0.162415541 
2    432    0.5400000E+04     0.045608108 
3    432    0.2552000E+05     0.215540541 
4    288    0.6825000E+05     0.576435811 
</pre>

<h3 id="bead-2---last-image">bead 2 - last image</h3>

<p><a href="https://lanl.github.io/LaGriT/assets/images/bead2.jpg"><img width="300" src="https://lanl.github.io/LaGriT/assets/images/bead2.jpg" /></a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>buffer 2. / dpinch 1.0   dmin 2.0
</code></pre></div></div>

<pre class="lg-output">
SUMMARY VOLUME/AREA of ELEMENT COLORS 
Color nelem  volume        fractional volume 
1     288    0.2284000E+05     0.192905405 
2     432    0.0000000E+00     0.000000000 
3     432    0.2636000E+05     0.222635135 
4     288    0.6920000E+05     0.584459459 
</pre>

<p>Back to <a href="/pages/docs/commands/STACK.html">STACK</a></p>



            </div>
        </div>

        <!-- Begin footer -->
        <footer class="footer-distributed">
            <div class="footer-right">
              <div><img src="/assets/img/lanl_logo_white.png" height="80"></div>
            </div>

            <div class="footer-left lg-background-color">
                <p class="footer-links" style="font-family: 'Fira Sans', sans-serif; color: white;">
                    <a href="/">Home</a>
                    ·
                    <a href="/pages/docs/demos">Examples</a>
                    ·
                    <a href="/pylagrit/original/index.html">PyLaGriT</a>
                    ·
                    <a href="https://www.lanl.gov/org/ddste/aldcels/earth-environmental-sciences/computational-earth-science/index.php">EES-16</a>
                    ·
                    <a href="/pages/licensing.html">License</a>
                    ·
                    <a href="mailto:tamiller@lanl.gov">Contact</a>
                </p>

                <p>&copy; 2019 Los Alamos National Laboratory</p>
                <p>EES-16 | Computational Earth Science</p>
                <p>LA-CC-15-069</p>
            </div>
        </footer>

        <!-- Begin Navigation Bar -->
        <div id="offcanvas" uk-offcanvas="mode: push; overlay: true" class="uk-offcanvas">
            <div class="uk-offcanvas-bar">
                <div class="uk-panel">
                    <ul class="uk-nav uk-nav-default tm-nav">
                        <form class="uk-search uk-search-default" action="https://lanl.github.io/LaGriT/search/">
                            <a href="" uk-search-icon></a>
                            <input class="uk-search-input" type="search" placeholder="" name="q" id="tipue_search_input_mobile">
                        </form>
                        <li class="uk-nav-header">General</li>
                        <li><a href="/">Home</a></li>
                        <li><a href="/pages/manual">Manual</a></li>
                        <li><a href="/pylagrit/original/index.html">PyLaGriT</a></li>
                        <li><a href="/pages/commands">Commands</a></li>
                        <li><a href="/pages/publications">Publications</a></li>
                        <li><a href="http://github.com/lanl/LaGriT">GitHub</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- End Navigation Bar -->

    </div>

</body>

</html>
