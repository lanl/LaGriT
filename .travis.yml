language: c
sudo: required

os:
  - linux
  - osx
  - windows

matrix:
  allow_failures:
    - os: windows

compiler:
  - gcc

branches:
  only:
    - master

before_install:
  - if [ $TRAVIS_OS_NAME = windows ]; then choco install make; fi
  - if [ $TRAVIS_OS_NAME = windows ]; then choco install cmake; fi
  - if [ $TRAVIS_OS_NAME = linux ];   then sudo apt-get install gcc; fi
  - if [ $TRAVIS_OS_NAME = osx ];     then brew install gcc; fi
  - export FC=$(which gfortran)
  - export CC=$(which gcc)
  - export CXX=$(which g++)
  - echo $FC
  - echo $CC
  - echo $CXX

script:
  - make exodus
  - make release
  - make test

after_success:
  - echo LaGriT successfully compiled
