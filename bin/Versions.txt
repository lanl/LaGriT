=======================================================================
LaGriT V3.005 

*               *    Program:  LaGriT V3.005   Linux m64      * 
*               *    date_compile: 2012/04/15  gfort 4.5      *

added option for sort line_graph option for nodes or elements
added faceset option for dump exodus files
fixed bugs related to cmo/addatt and cmo/readatt resulting in seg fault
added error checking to cmo/readatt and stack routines

updated test/level01 reference files to reflect 64 bit results 
added test/level01/ ascem_demo001 eltset exodus hybrid_volume
updated test/level01/*.py to point to non-version 3 python which
        has different syntax for common routines such as print

Version LaGriT V3.005 as of June 2012: 
   linux 32 and 64 bit (compiled with gfortran 4.5)

Version LaGriT V2.200: 
   intel maci 32 and 64 bit
   powerpc mac 32 bit
   sun solaris 32 bit
   linux 32 bit (compiled with Absoft)
   sgi 32 bit

=======================================================================
LaGriT V3.002 
*               *    Program:  LaGriT V3.002   Linux m64      *                 
*               *    date_compile: 2011/09/09  gfort 4.5      *  

fixed bug: read/gmv small binary 
fixed bug: read/gmv second time (file not closing correctly)
           added better format checking, error messages 

M src/readdump.f
M src/readgmv_binary.f
M src/writfls.f
M src/writloga.f

Expanded read/write tests
M test/level01/io_agf_simple/input.lgi
M test/level01/io_agf_simple/reference/input.lgi
M test/level01/io_agf_simple/reference/output_ascii.gmv
M test/level01/io_agf_simple/reference/outx3dgen
M test/level01/result_files/diffout_lin.txt
M test/level01/result_files/stdout_lin64.txt
? io_agf_simple/reference/output_hex8_ascii.gmv
? io_agf_simple/reference/output_hex8_ascii.inp
? io_agf_simple/reference/output_hex8_ascii.lagrit
? io_agf_simple/reference/output_hex8_binary.gmv
? io_agf_simple/reference/output_hex8_binary.gmvF
? io_agf_simple/reference/output_hex8_binary.lagrit
? io_agf_simple/reference/output_tet1_ascii.gmv
? io_agf_simple/reference/output_tet1_binary.gmv
? io_agf_simple/reference/output_tet1_binary.gmvF


Update to V3.002
M bin/lagrit_lin64_o_gfort4.5
M lib/lagrit_lin64_g_gfort4.5.a
M lib/lagrit_lin64_o_gfort4.5.a
M src/lagrit.h
M src/lagrit.template.h
M src/lagrit_lin.h
M src/lagrit_lin64.h
M src/lagrit_mac.h
M src/lagrit_maci.h
M src/lagrit_sgi.h
M src/lagrit_sun.h

hg commit
V3.002 for new release has bug fixes. 
This closes #103 for 64bit version of LaGriT 
This version closes #66 writing outside ares for median and voronoi
This fixes #110 for all but a few cases that are added to test/level01
close #4 to create eltset like psets
close #34 reading gmv binary with few elements
fixes #50 where quality prints largets volume bin twice
close #60 addatt voronoi and hybrid




=======================================================================
LaGriT V3.001 Tue Aug 30 16:16:50 MDT 2011

Incorporate new codes from Adam and Andrew into single build
Include improvements to Makefile and build scripts

pulled clone src April 27 2011 and May 3 2011
This version was sent to Andrew Kuprat
64 bit modifications have been working in general

Adam Cozzette changes:

anothermatbld3d.c
    - added several functions for computing the hybrid point of a control volume:
      tetisOnBoundary, intersectSegmentWithFace, getHybridPoint
    - added helper functions for computing dot products and distances.
    - changed the areaOf3dTriangle function to compute a vector area rather than a scalar.
    - a change computes a unit vector in the direction of an edge between
      two points in the tetrahedral mesh. We dot this with the facet of the Voronoi
      cell in order to consider just the component of the area that is in the
      direction of the edge.
    - changed the parameter list for initialize3ddiffusionmat_ so that the
      function also takes arrays for jtet, pmbndry, ifhybrid, and hybridfactor.
      ifhybrid indicates whether to use hybrid volumes and hybrid_factor is an
      attribute that the function will fill in order to indicate the extent to which
      each cell is hybridized
    - added function prototypes so that gcc can perform type checking
    - added #if to match format string to size of integers being used

anothermatbld3d_wrapper.f
    - changed subroutine call to add hybrid_factor
             subroutine anothermatbld3d_wrapper
-     x           (ifile,io_type,num_area_coef,ifcompress)
+     x           (ifile,io_type,num_area_coef,ifcompress, ifhybrid)

cmo_addatt.f
    - added the hybrid_volume to the cmo // addatt command
    - added a metric for quad quality  cmo // addatt / quad_quality

connect2d_lg.f
    - fix bug in 2D delaunay connect where the code
      doubled the coordinates of the first Voronoi point

cr_copy.f
    - fixed an off-by-one error by making an array one element longer
      in a call to mmgetblk with length + 1
      this was causing segfault errors

dumpfehm.f
    - changed subroutine call to add hybrid_factor
       subroutine dumpfehm(ifile,ifileini,ioption,iomode,
-     *       area_coef_option,compress_opt,attrib_option,area_option)
+     *       area_coef_option,compress_opt,attrib_option,area_option,
+     *       hybrid_option)

eset.f
    - Added support for writing element sets out to a file based on pset logic
      changed the behavior so that eltset // write will write each element set
      to a separate file if it is given the -all- option
      filenames now end with .cellset
    - fixed a bug where attempting to redefine an element set, the set is now
      zeroed out and written afresh

geniee.f
    - changed loop to check condition before starting, this avoids
      writing to memory is invalid

intersect_cmo.f
    - added sort // line_graph after performing the intersection
    - fixed loop that was looping wrong number of times
      changed 1,npointsa to 1,npoint

pcc_test.f
    - fixed Warning so it is given once instead of once for every element

pset.F
    - changed pset to verify a point before writing to file
    - added the -all- option that writes each pset to seperate files
      with the new file extension .vertexset

quality.f
    - Added support for quad metrics in quality / quad

reorder.f
    - fixed reorder so that it doesn't rely on the numerical values
      to determine whether to sort nodes or elements
    - added messages to indicate possible WARNINGS for reorder

rotatelo.f
    - Fixed a bug whereby rotateln would rotate some points in one
      direction and some points in the opposite direction.

sortbins.f
    - Added support for sort // line_graph. line_graph_sort.cpp does most of the
      real work. I also had to fix this subroutine to create the sort keys correctly.
      Previously it used an integer length to decide whether to use 'nnodes' or
      'nelements', but now it is careful to choose based on whether it is actually
      sorting nodes or elements.

sparseMatrix.c
    - removed unused variables in order to get rid of compiler warnings
    - added #if for printf to use string according to integer size

writedump.f
    - changes to facilitate the 'hybrid' option and Rao's new dump / exo code

type_sizes.h - preprocessor definintions for int_ptrsize 32 or 64 bit
dumpexodusII.f - Rao's Exodus code
line_graph_sort.cpp - Sort and classify line segments
quad_quality.c - various quality metrics for quads
sparseMatrix.h - declarations for some of the functions in sparseMatrix.c
exodusII.inc - include file for dump/exodus, contains COPYRIGHT text
excre_wrapper.c - c wrapper for dump/exodus
Makefile.depends - updated for new routines and some name corrections

build change - add link with external libraries, compile static
-L/home/adamc/local/lib -lexoIIv2for -lexodus -lnetcdf -lm -lstdc++
NOTE: netcdf and exodus libraries come with copyright text

Andrew Kuprat changes:

filterkd.f - new filter command (called with 'filterkd') uses kd-tree for filter.
msgtty.f - added command 'filterkd'
reverseform.f - necessary for filterkd.f
readgmv_binary.f - Changed gmv routines so read/write gmv works on 64-bit
dumpgmv_hybrid.f - Changed gmv routines so read/write gmv works on 64-bit
Makefile.depends - updated for filterkd, reverseform

lg_util gmvwrite.c --> Bugfix: added #else clause (lines 625-633) necessary for
writing u,v,w

Terry Miller file changes:

IN GENERAL >>>>>>

/*  LaGriT assumes that the size of an integer is the same size as a
 *  pointer.  Use the preprocessor and configure settings to select
 *  the integer type so that it matches the size of a pointer.
 */
#if SIZEOF_INT == SIZEOF_VOIDP
#define int_ptrsize int
#elif SIZEOF_LONG == SIZEOF_VOIDP
#define int_ptrsize long

New Makefile and Makefile.depends includes changes for gfortran and 64 bit
 -fcray-pointer
 Enables the Cray pointer extension, which provides a C-like pointer
 -falign-commons (will try to reorder commons so this is not needed)
 By default, gfortran enforces proper alignment of all variables in a COMMON block by padding them as needed. On certain platforms this is mandatory, on others it increases performance. If a COMMON block is not declared with consistent data types everywhere, this padding can cause trouble, and -fno-align-commons can be used to disable automatic alignment. The same form of this option should be used for all files that share a COMMON block. To avoid potential alignment issues in COMMON blocks, it is recommended to order objects from largests to smallest.
 

readgmv_binary.f - merged with Kuprat version for 64 bit
                   added error capture and added messaging about bytes read

readgmv_ascii.f - added messaging consistent with read binary
                  note their is a readgmv_ascii and readgmv_asciistar

Combine routines used for stack_layers into one file stack_options.f
they used to be scattered between temptam.f and read_trilayers.f

The beads algorithm and routines are now all in their
own file beads_ona_ring.f - this file and stack had some
array usage that were incorrect and caused seg faults for
the beads options. They are working now but should be 
improved so memory management is consistent with current
practices. These codes have been the same since before 2000.

I have updated the demo tests as used for the manual and
rewritten and rerun the beads tests. They are currently in
/home/tam/src/lagrit/work_2000/stack and stack_beads

I have a new html and image file showing how the beads
work for the different options. 
/home/tam/src/lagrit/work_2000/stack_beads/html/stack_beads.html

------- changesets

changeset b13a2a415ef3 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=b13a2a415ef3
summary: Changes to compile and builds to allow gfortran for linux 64 bit

changeset d8a6f73d4bde in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=d8a6f73d4bde
summary: Version 3.001 kuprat additions for new filter command

changeset 025fe933aa95 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=025fe933aa95
summary: Version 3.001 merge of kuprat and tam changes and bug fixes

changeset aeb3852306bc in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=aeb3852306bc
summary: Version 3.001 Adam C work Add various quality metrics for quads

changeset 978c5375e4a1 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=978c5375e4a1
summary: Version 3.001 - Adam C work for sorting line polygons

changeset 8ae83dc2e41a in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=8ae83dc2e41a
summary: Version 3.001 - Adam C work for added several functions for computing the

changeset 1f94775b63e7 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=1f94775b63e7
summary: Version 3.001 - Adam C work for hybrid version of voronoi control volumes

changeset d6f9aa60769a in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=d6f9aa60769a
summary: Version 3.001 - 64 bit for linux

changeset dc645c0684d1 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=dc645c0684d1
summary: Version 3.001 - added error catching to avoid seg faults

changeset cb99635035d9 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=cb99635035d9
summary: Version 3.001 - tam work to clarify routines for stack command

changeset 3bec6ff60180 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=3bec6ff60180
summary: Version 3.001 - Adam C work in support of his debugging

changeset 73909b2a7736 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=73909b2a7736
summary: Version 3.001 - new include files for this version and for Adam C work

changeset e5b3592353fe in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=e5b3592353fe
summary: Version 3.001 - Adam C added for fortran interface for exodus file workchangeset 71f512772ca9 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagritdetails: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=71f512772ca9summary: Version 3.001 - new build for exodus files and 64 bit workchangeset 7b543e19ef2c in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=7b543e19ef2c
summary: Full notes on version changes.

changeset 921a89558212 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=921a89558212
summary: Added tag Release V3.001 for changeset 7b543e19ef2c



=======================================================================

src_V2.202
LaGriT March 8 2011
pull merge push latest files

NOTE: cmo_setatt.f was started but not finished!!!!!
Assigns scalar value to selected attribute

------- changesets

changeset 7d4c4cce15e2 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=7d4c4cce15e2
summary: Fixed arguments into dump tecplot so options

changeset a888b8ad9010 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=a888b8ad9010
summary: upscale images for types of mean calculations

changeset dac8cdf0fffe in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=dac8cdf0fffe
summary: Changes upscale which clarifies the scaling functions

lagrit.lanl.gov/docs/UPSCALE.html             |  210 +++++++++++-
lagrit.lanl.gov/images/upscale_arithmetic.jpg |    0 
lagrit.lanl.gov/images/upscale_geometric.jpg  |    0 
lagrit.lanl.gov/images/upscale_harmonic.jpg   |    0 
lib/lagrit_lin64_o_gfort4.5.a                 |    0 
src/cmo_setatt.f                              |   24 +-
src/dumptecplot_hybrid.f                      |  423 ++++++++++++++++++-------
src/setsize.F                                 |    4 +
src/upscale.f                                 |   22 +-
src/writedump.f                               |   49 ++-
10 files changed, 574 insertions(+), 158 deletions(-)

=======================================================================
LaGriT V2.202 MAJOR changes for compile 64 bit and 32 bit with gfortran 4.5

Move files from .f to .F for pre-process
cmo_interpolate.F  getsfact.F  initlagrit.F  memory.F  pset.F  regnpts.F  sbinit.F  setsize.F

ColoredGraphModule.f90
incompatible intent changed to either in or out
type(CGNode), intent(inout) :: node

Makefile, Makefile.depends - hardwired using gfortran 4.5 64 and 32 bit
lagrit_lin.h machine_header.h
< FFLAGS = -fcray-pointer -fno-sign-zero -m32 
< CFLAGS = -m32 -fno-sign-zero -Dlin
< FF90FLAGS = -fcray-pointer -fno-sign-zero -m32 
< 
< ifeq ($(MOPT), 64)
< OBJDIR = lin_objects_m64/
< FFLAGS = -fcray-pointer -fdefault-integer-8  -fno-sign-zero -Dlinx64 
< FF90FLAGS = -fcray-pointer -fdefault-integer-8  -fno-sign-zero -m64 -Dlinx64 
< CFLAGS = -m64 -Dlinx64
< endif
< SUFF = $(OSTAG)_o
< ifeq ($(MOPT), 64)
< SUFF = $(OSTAG)64_o
< endif
189,190c166,174
< ifeq ($(MOPT), 64)
< SUFF = $(OSTAG)64_g

Removed src/safemove.f old code with old routines not to be used
confirmed with Andrew Kuprat

hassign calls - major issues how this gets used.
for now, works best if allow arguments to be fortran integer
and copy into 4 bit integer for open and close 
ADDED return error that is now checked in lagrit calls
because a bad iunit number causes seg faults we want to avoid
M src/writinit.f
M src/cmo_readatt.f
M src/connect2d_lg.f
M src/connect.f
M src/control_command_lg.f
M src/dumpavs.f
M src/dumpchad.f
M src/dumpdatex.f
M src/dumpgmv_hybrid.f
M src/dump_fehm_geom.f
M src/dumpgeofest.f
M src/dump_interface_list.f
M src/dumpinventor.f
M src/dumpstl.f
M src/dumptecplot_hybrid.f
M src/dump_lagrit.f
M src/dump_material_list.f
M src/dump_multi_mat_con.f
M src/dump_outside_list.f
M src/dump_parent_list.f
M src/matbld2d_stor.f
M src/matbld3d_stor.f
M src/partition.f
M src/readavs.f
M src/readdatex.f
M src/readdcm.f
M src/readdump.f
M src/read_fehm_zone.f
M src/readfile.f
M src/read_gocad_tsurf.f
M src/read_lagrit.f
M src/read_lagrit_old.f
M src/read_sheetij.f
M src/readgmv_ascii.f
M src/readgmv_binary.f
M src/readngptri.f
M src/readnurbs_iges_grid.f
M src/readruby_lg.f
M src/readvrml.f
M src/sheet.f
M src/ung2avs.f
M src/voronoi_stor.f

Changed from Andrew and Brad versions where selected int declarations
are changed to long for 64 bit. Instead all int are changed to int_ptrsize
and are set to the same size as fortran integer = SIZEOF_VOIDP
For now, the preprocess define statements are top of each file.
These can be included as opsys.h or other include file at later date
once things are working and well understood.
If the preprocess does not work, dump/stor will give all junk values.
M src/skiplist.ch
M src/sparseMatrix.c
M src/anothermatbld3d.c
M src/matrix_values_compress.c
added debug statements for possible overflow of 64bit values
M src/anothermatbld3d_wrapper.f

dumpfehm.f - bad format for error message causes seg fault

rand_lg.f - fixed nstrid declaration to integer

Changed memory/maxmalloc for better output 64 and 32 bit
M lagrit.lanl.gov/docs/memory.html
! src/memory.f


checked in Jan 12 2011 for gfortran 64 and 32 bit compile with lagrit
changeset 7ad6b9b52c68 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lg_util
details: https://ancho.lanl.gov/lagrit/hg/lg_util?cmd=changeset;node=7ad6b9b52c68
summary: added error messages and checks for bad values

diffstat:
src/Makefile        |    11 +
src/gmvwrite.c      |   151 +++-
src/gmvwritef.c     |    84 +-
src/hassign.f       |    54 +-
src/io.c            |    56 +-
src/mm2000.F        |    84 ++-
src/mm2000_header.F |     3 +
src/mmsc.c          |    82 +-
src/opsys.h         |     7 +


=======================================================================
LaGriT V2.201 which adds changes compile for gfortran 4.5

Update metis codes with patch for log2()

=======================================================================
hg tag "Release V2.200"
Release 2.200

*               *    Program:  LaGriT V2.200   Linux m32      *                 
*               *    date_compile: 2010/11/22                 *      

Manual Updates for Version 2.200
lagrit.lanl.gov/docs/EXTRACT_SURFMESH.html
lagrit.lanl.gov/docs/cmo_addatt.html
lagrit.lanl.gov/docs/DUMP2.html
lagrit.lanl.gov/docs/DUMP3.html
lagrit.lanl.gov/docs/memory.html
lagrit.lanl.gov/docs/table.shtml
lagrit.lanl.gov/docs/READ.html          
lagrit.lanl.gov/docs/CMO2.html  
lagrit.lanl.gov/docs/COMPUTE.html 
lagrit.lanl.gov/docs/FSET.html   
lagrit.lanl.gov/docs/GRID2GRID.html 
lagrit.lanl.gov/docs/READ.html          
lagrit.lanl.gov/docs/COMPUTE.html 
lagrit.lanl.gov/docs/FSET.html   
lagrit.lanl.gov/docs/GRID2GRID.html 
lagrit.lanl.gov/docs/ADDMESH.html
lagrit.lanl.gov/docs/HEXTOTE.html 

Manual Updates for Version 2.106
lagrit.lanl.gov/docs/cmo_att_derive.html 
lagrit.lanl.gov/site.css                
lagrit.lanl.gov/xprint.css             
lagrit.lanl.gov/docs/COMPUTE.html     
lagrit.lanl.gov/docs/READ.html       
lagrit.lanl.gov/docs/buildsurf.lgi  
lagrit.lanl.gov/docs/read_avs.html 
lagrit.lanl.gov/docs/read_gmv.html
lagrit.lanl.gov/docs/read_gocad.html  
lagrit.lanl.gov/docs/read_lagrit.html
lagrit.lanl.gov/table.shtml         
lagrit.lanl.gov/publications.shtml
http://lagrit.lanl.gov/release.shtml


dump/fehm, dump/zone_outside
Changed FEHM outside area to Voronoi instead of Median
FEHM file file_name_outside.area changed to file_name_outside_vor.area
For dump/zone, added keywords keepatt_area or keepatt_voronoi which will 
compute and keep voronoi vector areas xn_varea, yn_varea, zn_varea
and keepatt_median will compute area/num nodes on face and 
keep attributes xn_area, yn_area, zn_area
The written file file_name_outside_vor.area or file_name_outside_med.area 
is a list of 2D area vectors (Ax_i,Ay_i,Az_i) associated with each node.
https://lagrit.lanl.gov/docs/DUMP3.html dump/zone_outside

cmo/addatt/voronoi_varea will do the same voronoi calculation on triangles
as is done with the outside area for FEHM modeling files. The call will
create node attributes xn_varea, yn_varea, zn_varea indicating face directions.
https://lagrit.lanl.gov/docs/cmo_addatt.html

extract/surfmesh
Now creates attributes to hold element local face numbers of 3D input 
mesh that occur on either side of output mesh face, idface0 and idface1.
Now copies user-created node-based attributes from source.

interpolate/
Changed interpolate to "find" more points on edges
this will permit nodes to find a nearest edge or point and be
"inside" the triangle for extreme small or large numbers where
epsilon values are difficult to evaluate correctly.
Note, this changed test results for interpolate, test/level01
results were updated for these improvements.

intrp_gtg.f
A bug was fixed in interpolation that would sometimes save
a node id in pt_gtg or el_gtg attributes that was not related
to the found candidate and value. This could occur where there are
multiple candidates for the source and if epsilon values are
reaching near machine limits. The test in level01/intrp_2D_sizes
was changed to capture and evaluate these issues.

dump/ filename
2 token dump for common files added to writedump.f
This was final work from Aaron codes.

intrp_gtg.f, inside_lg.f
There are changes to interpolate using tests for finding points
that are inside or on edges or vertices of an element. The epsilon
tests have been relaxed to allow points that are "near" to be
found on edge - if within the chosen epsilon. The interpolation
has been changed to evaluate candidate points based on the
confidence of being inside the associated triangle. A result
indicating the point is inside will "win" over a candidate result
that is on edge or vertice. If idebug attribute is set to a
number of 5 or greater, there will be many more statements
written that are related to the inside triangle and epsilon
tests.

Substantial changes and additions to DUMP2.html which describes
all the dump file_types and include more descriptions of FEHM files.
DUMP3.html for dump/fehm now includes descriptions of FEHM files.
https://lagrit.lanl.gov/docs/DUMP2.html
https://lagrit.lanl.gov/docs/DUMP3.html

test/level01
Change reference files to results from Linux
Updated zone_outside and zone_outside_minmax to current voronoi version

changesets

Date: 	November 12, 2010 1:35:34 PM MST
summary: Major changes that fix selection of multiple candidates
summary: merge carl version that adds idface0 and idface1
summary: Carl changes to save face attributes during extract
summary: testing for new release 2.2
summary: Carl changes merged with Aaron changes
summary: Release version 2.200
summary: Update all reference/outx3dgen to linux - m32 result
lagrit.lanl.gov/docs/EXTRACT_SURFMESH.html                   |  169 +-
lib/lagrit_lin_o.a                                           |    0 
src/extract_surfmesh.f                                       |  175 +-
src/inside_element.f                                         |    5 +-
src/inside_lg.f                                              |  427 ++++-
src/intrp_gtg.f                                              |  296 +++-
src/lagrit_lin.h                                             |    2 +-
src/lagrit_mac.h                                             |    2 +-
src/lagrit_maci.h                                            |    2 +-
src/lagrit_sgi.h                                             |    2 +-
src/lagrit_sun.h                                             |    2 +-
test/level01/00README                                        |   16 +-
test/level01/README                                          |    5 +
test/level01/addmesh_add/reference/outx3dgen                 |    6 +-
test/level01/addmesh_append/reference/outx3dgen              |    6 +-
test/level01/addmesh_doublemesh/reference/outx3dgen          |    8 +-
test/level01/connect_cube/reference/outx3dgen                |   16 +-
test/level01/createpts/reference/outx3dgen                   |    8 +-
test/level01/interp_continuous/reference/outx3dgen           |    8 +-
test/level01/interp_map/reference/outx3dgen                  |   12 +-
test/level01/interp_voronoi/reference/outx3dgen              |    6 +-
test/level01/intrp_2D_sizes/2d_triangle_sink.gmv             |    0 
test/level01/intrp_2D_sizes/2d_triangle_source.gmv           |    0 
test/level01/intrp_2D_sizes/input.lgi                        |  129 +-
test/level01/intrp_2D_sizes/reference/2d_triangle_sink.gmv   |    0 
test/level01/intrp_2D_sizes/reference/2d_triangle_source.gmv |    0 
test/level01/intrp_2D_sizes/reference/input.lgi              |  131 +-
test/level01/intrp_2D_sizes/reference/out_1.ep04.gmv         |    0 
test/level01/intrp_2D_sizes/reference/outx3dgen              |  695 ++++++++++-
test/level01/io_agf_simple/input.lgi                         |    3 +
test/level01/io_agf_simple/reference/input.lgi               |    3 +
test/level01/io_agf_simple/reference/outascii.stor           |   56 +-
test/level01/io_agf_simple/reference/outbin.stor             |    0 
test/level01/io_agf_simple/reference/output.gmv              |    0 
test/level01/io_agf_simple/reference/output.inp              |   21 +-
test/level01/io_agf_simple/reference/output_ascii.gmv        |    0 
test/level01/io_agf_simple/reference/outx3dgen               |  274 +--
test/level01/refine_octree/reference/outx3dgen               |   12 +-
test/level01/refine_octree_prd/reference/outx3dgen           |  208 +-
test/level01/refine_recon_quality/reference/outx3dgen        |    6 +-
test/level01/rmpoint/reference/outx3dgen                     |   14 +-
test/level01/setpts/reference/outx3dgen                      |    6 +-
test/level01/smooth/reference/outx3dgen                      |    8 +-
test/level01/surface/reference/outx3dgen                     |    6 +-
test/level01/zone_outside/reference/output_zone_outside.gmv  |    0 
test/level01/zone_outside/reference/outx3dgen                |   33 +-
test/level01/zone_outside_minmax/reference/outx3dgen         |  166 ++-


Date: 	August 31, 2010 2:25:11 PM MDT
summary: added attribute voronoi_varea for triangles and
summary: changed outside faces to voronoi instead of median
summary: wrapping up summer work

6 files changed, 891 insertions(+), 366 deletions(-)
src/cmo_addatt.f        |  324 +++++++++++++++++++++++++++++++++++---------
src/dump_outside_list.f |  328 ++++++++++++++++++++++++++++++++++-----------
src/dumpfehm.f          |   14 +
src/get_xcontab.f       |  339 ++++++++++++++++++++++++++++++++---------------
src/voronoi_center.f    |   58 ++++++++
src/writedump.f         |  194 ++++++++++----------------

Date: 	August 31, 2010 2:25:11 PM MDT
summary: Added documentation for keepatt_voronoi for outside zone commands.
summary: description for memory command replacing mmprint and mmverify
summary: Addded descriptions for full set of FEHM files
summary: added commands voronoi_volume and voronoi_varea
summary: added memory command
5 files changed, 846 insertions(+), 343 deletions(-)
lagrit.lanl.gov/docs/DUMP2.html      |  825 ++++++++++++++++++++++------------
lagrit.lanl.gov/docs/DUMP3.html      |  194 ++++++-
lagrit.lanl.gov/docs/cmo_addatt.html |   70 +-
lagrit.lanl.gov/docs/memory.html     |   89 +++
lagrit.lanl.gov/table.shtml          |   11 


=======================================================================
Update lagrit to Version 2.106 codes

*               *                                             *                 
*               *    Program:  LaGriT V2.106   Linux m32      *                 
*               *    date_compile: 2010/06/29                 *                 


This version contains the work done over the summer by Aaron Gable.
Better handling of errors and segmentation faults were added to
various pieces of the code having to do with actions involving
more than one mesh object and their user defined attributes.

Modified epsilons in tri2d, fixed bug in foreach part of loop

New code wrappers include  

read for 3 tokens 
https://lagrit.lanl.gov/docs/READ.html avs,gmv,lagrit

cmo/attribute_union
https://lagrit.lanl.gov/docs/cmo_att_derive.html

compute / linear_extrapolate
https://lagrit.lanl.gov/docs/COMPUTE.html

grid2grid wrapper for hextotet
can also convert from octree mesh to lagrit with tree_to_fe 
https://lagrit.lanl.gov/docs/GRID2GRID.html

June 29 2010 - updates to gable work
M lib/lagrit_lin_g.a
M lib/lagrit_lin_o.a
M lib/lagrit_mac_g.a
M lib/lagrit_mac_o.a
M lib/lagrit_maci_g.a
M lib/lagrit_maci_o.a
M lib/lagrit_sun_g.a
M lib/lagrit_sun_o.a
M src/Makefile
M src/Makefile.depends
M src/cmo_addatt_cmo.f
M src/cmo_att_derive.f
M src/cmo_get_attribute_name.f
M src/cmo_get_index.f
M src/hextotet_hybrid.f
M src/lagrit.h
M src/lagrit.template.h
M src/lagrit_lin.h
M src/lagrit_mac.h
M src/lagrit_maci.h
M src/lagrit_sgi.h
M src/lagrit_sun.h
M src/linear_extp.f
M src/msgtty.f
M src/perturb_lg.f


June 21 2010 - more gable work

summary: Committing new msgtty.f, that was accidentally excluded from the last update.
1 file changed, 8 insertions(+)
src/msgtty.f |    8 ++++++++

summary: Pushing new modules grid2grid/tree_to_fe and cmo/attribute_union.
29 files changed, 4139 insertions(+), 435 deletions(-)
lagrit.lanl.gov/docs/CMO2.html                 |  681 +++++---
lagrit.lanl.gov/docs/GRID2GRID.html            |  101 +
lagrit.lanl.gov/docs/HEXTOTE.html              |  278 +--
lagrit.lanl.gov/docs/cmo_att_derive.html       |   67 
lagrit.lanl.gov/site.css                       |   92 +
lagrit.lanl.gov/xprint.css                     |   38 
src/cmo_att_derive.f                           |  232 ++
src/cmo_command.f                              |   37 
src/grid2grid.f                                |  115 +
src/hextotet_hybrid.f                          |    9 
src/tree_to_fe.f                               |  218 ++
test/level03/attderive/input.lgi               |   21 
test/level03/attderive/reference/input.lgi     |   21 
test/level03/attderive/reference/logx3dgen     |   16 
test/level03/grid2grid/input.lgi               |   59 
test/level03/grid2grid/octcube.lgi             |   73 
test/level03/grid2grid/octree.lgi              |   61 
test/level03/grid2grid/quadplane.lgi           |   64 
test/level03/grid2grid/reference/input.lgi     |   59 
test/level03/grid2grid/reference/logx3dgen     |  146 +
test/level03/grid2grid/reference/octcube.lgi   |   73 
test/level03/grid2grid/reference/octree.lgi    |   61 
test/level03/grid2grid/reference/outx3dgen     | 1974 ++++++++++++++++++++++++
test/level03/grid2grid/reference/quadplane.lgi |   64 
test/level03/lin_extp/reference/logx3dgen      |    2 
test/level03/lin_extp/reference/outx3dgen      |    4 
test/level03/read_3token/reference/logx3dgen   |    2 
test/level03/read_3token/reference/outx3dgen   |    4 
test/level03/read_3token/reference/test.gmv    |    2 

June 15 - add Aaron Gable wrappers, docs, and testing
40 files changed, 4913 insertions(+), 342 deletions(-)
lagrit.lanl.gov/docs/COMPUTE.html             |  284 ++-
lagrit.lanl.gov/docs/READ.html                |   82 -
lagrit.lanl.gov/docs/buildsurf.lgi            |   98 +
lagrit.lanl.gov/docs/read_avs.html            |  185 +-
lagrit.lanl.gov/docs/read_gmv.html            |   69 
lagrit.lanl.gov/docs/read_gocad.html          |   80 -
lagrit.lanl.gov/docs/read_lagrit.html         |   86 -
lagrit.lanl.gov/table.shtml                   |   46 
src/compute.f                                 |    4 
src/linear_extp.f                             |  495 ++++++
src/logx3dgen                                 |    2 
src/outx3dgen                                 |   10 
src/readdump.f                                |   89 +
test/level03/lin_extp/buildsurf.lgi           |   98 +
test/level03/lin_extp/input.lgi               |    8 
test/level03/lin_extp/pathos.lgi              |   20 
test/level03/lin_extp/reference/buildsurf.lgi |   98 +
test/level03/lin_extp/reference/input.lgi     |    8 
test/level03/lin_extp/reference/logx3dgen     |  116 +
test/level03/lin_extp/reference/outx3dgen     | 1835 +++++++++++++++++++++++++
test/level03/lin_extp/reference/pathos.lgi    |   20 
test/level03/lin_extp/reference/square.lgi    |   33 
test/level03/lin_extp/square.lgi              |   33 
test/level03/read_3token/input.lgi            |   16 
test/level03/read_3token/logx3dgen            |    7 
test/level03/read_3token/outx3dgen            |  116 +
test/level03/read_3token/reference/input.lgi  |   16 
test/level03/read_3token/reference/logx3dgen  |   14 
test/level03/read_3token/reference/outx3dgen  |  129 +
test/level03/read_3token/reference/test.AvS   |   28 
test/level03/read_3token/reference/test.InP   |   28 
test/level03/read_3token/reference/test.avs   |   28 
test/level03/read_3token/reference/test.gmv   |   76 +
test/level03/read_3token/reference/test.inp   |   28 
test/level03/read_3token/test.AvS             |   28 
test/level03/read_3token/test.LaGriT          |  405 +++++
test/level03/read_3token/test.avs             |   28 
test/level03/read_3token/test.gmv             |   76 +
test/level03/read_3token/test.inp             |   28 
test/level03/read_3token/test.lg              |  405 +++++



=======================================================================
Begin May 24 2010 compile May 25 2010
Update lagrit to Version 2.105 codes

*               * * * * * * * * * * * * * * * * * * * * * * * *                 
*               *                                             *                 
*               *    Program:  LaGriT V2.105   Linux m32      *                 
*               *    date_compile: 2010/05/25                 *                 
*               *    Run Time: 2010/05/27  07:25:08           *                 
*               *    Manual:   http://lagrit.lanl.gov         *                 
*               *                                             *                 
*               * * * * * * * * * * * * * * * * * * * * * * * *                 


changeset 8225c39b3bf2 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=8225c39b3bf2
summary: updates for version 2.105 release

changeset bb14de831bf5 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=bb14de831bf5
summary: branch merge for release 2.1005


== lagrit*.h
changeset 3587d20056f7 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=3587d20056f7
summary: Change version numbers to 2.1005

== anothermatbld3d_wrapper.f
Create two new node vectors, ccoef, ij_ccoef
Put the negative ij coefficient value into the two nodes connected to the ij edge.
The vector ij_coef will assign the j index value to node i so that one can determine 
which edge is associated with the neative coefficient that is assigned to nodes.
changeset e17443d92311 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=e17443d92311
summary: report and save negative ij coefficient values in newer stor routine


== anothermatbld3d.c
Carl's changes to include TranslateTetToZero for geometric calculations
(not sure it is really helping with some of our neg ccoef issues)
changeset e960fd9bedc7 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=e960fd9bedc7
summary: add TranslateTetToZero for geometric calculations

== matbld3d_stor.f
changeset 22752b0ea1e0 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=22752b0ea1e0
summary: add warning for newlen call with uncertain effect


== pset.f checked in
changeset fafc744d4024 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=fafc744d4024
summary: Add option to pset/ / zone for user specified zone id number

== DUMP2.html and DUMP3.html checked in
changeset ca909602c59f in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=ca909602c59f
summary: Modify dump/fehm dump/stor documentation to reflect recent code changes (ccoef, ij_ccoef)


=======================================================================
Update lagrit and lg_util to Version 2.100 codes
Finish testing and port to all platforms
Tue Jun 30 08:54:40 MDT 2009
Mon Aug 31 11:02:44 MDT 2009 - hg check in

Version 2.100 Release
This is a major update to LaGriT and the lg_util library. 
Major changes have been made in the core memory management routines to allow 
development for a 64 bit release.  These changes will be invisible to most users 
but allows better reporting of errors and memory usage for useful diagnostic information.

NOTE: SUNOS has been updated to Studio 11 
      you must use libs for Studio 10 or higher running on OS 8 or higher
      use % source /n/env/local.sunwspro.11


*               * * * * * * * * * * * * * * * * * * * * * * * *                 
*               *                                             *                 
*               *    Program:  LaGriT V2.100   Linux m32      *                 
*               *    date_compile: 2009/08/03                 *                 
*               *    Run Time: 2009/08/14  10:31:26           *                 
*               *    Manual:   http://lagrit.lanl.gov         *                 
*               *                                             *                 
*               * * * * * * * * * * * * * * * * * * * * * * * *                
/home/tam/src/lagrit/mybin
lagrit_lin_g_090814*
lagrit_lin_o_090814*
lagrit_mac_g_090814*
lagrit_maci_g_090814*
lagrit_maci_o_090814*
lagrit_mac_o_090814*
lagrit_sun_g_090814*
lagrit_sun_o_090814*



lin = Linux with Absoft 10.0 32bit Fortran 95 9.0
Linux rainier 2.6.9-55.0.2.ELlargesmp #1 SMP Tue Jun 12 18:09:16 EDT 2007 x86_64 x86_64 x86_64 GNU/Linux

maci = MAC OSX on intel with Absoft 10.2 
OSX 10.5.8
Darwin sundog.lanl.gov 9.7.0 Darwin Kernel Version 9.7.0: Tue Mar 31 22:52:17 PDT 2009; root:xnu-1228.12.14~1/RELEASE_I386 i386

mac = MAC OSX with Absoft 9.5
OSX 10.5.4
Darwin darmok.lanl.gov 9.7.0 Darwin Kernel Version 9.7.0: Tue Mar 31 22:54:29 PDT 2009; root:xnu-1228.12.14~1/RELEASE_PPC Power Macintosh

sun = Solaris 10 with Studio 11 
SunOS flow 5.10 Generic_137137-09 sun4u sparc SUNW,Sun-Fire-880

--
NOTE
SunOS SUNWspro forte 7 no longer supported
voronoi 5.9 Generic_122300-02 sun4u sparc SUNW,Sun-Blade-1000 
sgi, sgi32, and sgi64 IRIX64 are no longer supported but included


Thu May 28 09:42:35 MDT 2009
Compiled and tested first outside of hg
-rwxr-xr-x   1 tam radiusd 14480283 Jun 19 09:42 xlagrit_lin_g*
-rwxr-xr-x   1 tam radiusd  9707574 Jun 19 09:43 xlagrit_lin_o*
-rwxr-x--x   1 tam radiusd 17252924 Jun 19 09:42 xlagrit_mac_g*
-rwxr-x--x   1 tam radiusd 11005452 Jun 19 09:42 xlagrit_maci_g*
-rwxr-x--x   1 tam radiusd  8859588 Jun 19 09:43 xlagrit_maci_o*
-rwxr-x--x   1 tam radiusd  7089528 Jun 19 09:43 xlagrit_mac_o*
-rwxr-x--x   1 tam radiusd 36331520 Jun 19 09:42 xlagrit_sun_g*
-rwxr-x--x   1 tam radiusd 11467784 Jun 19 09:43 xlagrit_sun_o*


version V2.1
- changed lagrit library
- changed lagrit man pages for stor
- new lg_util library can compile -m32 or -m64
- update to new compilers and flags

lagrit code diffs:

== lagrit*.h
changed v_minor=100 for V2.100
changed date_compile to 2009/06/15
change Darwin to Mac32 and Maci32 (Darwin too long)

== initlagrit.f
add call to mmverify
the new util version checks for correct pointer sizes 

== writinit.f
add m32 and m64 to Program line in lagrit header 
add intel to Program line for Mac

== cmo_addatt.f
addatt keyword vor_volume which calls
anothermatbld3d_wrapper to fill voronoi volumes

== sparseMatrix.c 
initialize list pointers to null
assign null to pointers after free
add warning messages for failure to free 

== writedump.f
declare implicit none and initialize variables
add comments to clarify the case switches
add more error checking and messages
change syntax for dump/ fehm and dump/ stor
old keywords not needed include alternate_scalar, binaryc, asciic
compression keywords are now none, coefs, graph, or all 
old syntax still works, but now code checks
for keywords after filename and cmo and sets
options for the fehm and stor routine calls 
The man pages are updated and corrected 

== dumpfehm.f
Add compress_opt to dumpfehm arguments
add comments and error checking to clarify code logic
check options and set for 2D or 3D calls to matbld
use matbld3d_stor for compress options none and coefs
use anothermatbld3d_wrapper for compress options all and graph
Note anothermatbld3d_wrapper can write only scalar coef values

== anothermatbld3d_wrapper.f
Extensive chages to error handling and messages, but not to the logic of program
This code has same logic as matbld3d - but uses linked lists instead of mmgetblk calls
Use io_type to toggle creation of attribute for voronoi volumes or to write to stor file
added extensive error checking to eliminate segmentation faults
added error check and message for every mmgetblk and mmrelblk
added calls to mmprint when mm calls fail
cleaned up variable declarations and added comments
added istatus to check for errors and completion of matrix
changed all routine messages to start with AMatbld3d_stor to distinguish from matrix built with Matbld3d_stor
added idebug options
added status report at end of routine

== matbld3d_stor.f
Extensive chages to error handling and messages, but not to the logic of program
This code uses many mmgetblk calls and about 40 percent more memory than linked list version
added extensive error checking to eliminate segmentation faults
added error check and message for every mmgetblk and mmrelblk
added calls to mmprint when mm calls fail
cleaned up variable declarations and added comments
added istatus to check for errors and completion of matrix
added idebug options
added status report at end of routine

== matbld1.f
This routine is called  by matbld3d_stor
added error check and message for every mmgetblk and mmrelblk
added calls to mmprint when mm calls fail

In src_dev, started with library for V2.005

V2.005 lagrit work since V2.004 --------------------------------------

bug fixed - readatt not working correctly for psets

lagrit_lin.h - v_minor=005 date_compile /'2009/05/28     
Makefile.depends - add metis_lg.o 

calc_rdist.f - permanent/agx/-1.0;finish 
cmo_get_stdptrs.f - integer declarations and debug for pointer types
cmo_node_elem_id.f - permanent/agx/-1.0;finish
cmo_readatt.f - allow skip of lines with non-numerics, added nwds2
create_graph.f - irank_nadjncy_set = 15
distance_field.f - permanent/agx/-1.0;finish 
dumpavs.f - character*2048 ch_string
dump_fehm_geom.f - itet1(itetoff(i)+nf instead of nn, add debug info
dumpgmv_hybrid.f - elseif(imt_exist .eq. 0) 
intersect_elements.f - permanent/agx/0/
intradd.f - k=itet1(itetoff(i)+nf) instead of nn
math_sum.f - permanent/agl
metis_interface.f - temporary/agx/0/
popcomponents_lg.f - temporary/agx/0
readdatex.f - permanent/agx/0/
refine_edge_list_lg.f - k=itet1(itetoff(i)+nf) instead of nn
refine_tet_add.f - temporary/agl/
reorder.f - optional 4th element no_att does not reorder attributes
sbinit.f - cmo_attlist(7)='agl'
stack_layers.f - constant//agx

New files added to lagrit library:

src > cmo_get_name_type.f ................................
src > cmo_get_num_io_att.f ................................
src > metis_defs.h ................................
src > metis.h ................................
src > metis_lg.c ................................
src > metis_macros.h ................................
src > metis_proto.h ................................
src > metis_rename.h ................................
src > metis_struct.h ................................

end V2.005 lagrit work since V2.004 ----------------------------------


=======================================================================
Wed Feb  4 09:49:27 MST 2009
rainier> hg push
pushing to https://ancho.lanl.gov/lagrit/hg/lagrit
http authorization required
realm: LaGrit Mercurial repository
user: tam
password: 
searching for changes
adding changesets
adding manifests
adding file changes
added 2 changesets with 7 changes to 7 files
notify: sending 1 subscribers 2 changes

5 files changed, 83 insertions(+), 12 deletions(-)
bin/00README      |   25 +++++++++++++++++++++----
src/Makefile      |   27 ++++++++++++++++++++++-----
src/blockcom.h    |    6 +++++-
src/lagrit_maci.h |   29 +++++++++++++++++++++++++++++
src/writinit.f    |    8 ++++++--

New mac compile on intel version of MAC OS X
*               * * * * * * * * * * * * * * * * * * * * * * * *                 
*               *                                             *                 
*               *    Program:  LaGriT V2.004   Darwin intel   *                 
*               *    date_compile: 2009/02/02                 *           
maci = MAC OSX on intel with Absoft 10.1 
Darwin rodmac2.lanl.gov 8.11.1 Darwin Kernel Version 8.11.1: Wed Oct 10
18:23:28 PDT 2007; root:xnu-792.25.20~1/RELEASE_I386 i386 i386
FIX xfix and kfix compile errors
blockcom.h
     fix for compile on MAC OS X Absoft on intel
     comment out ntetmax/0/ and let compiler initialize 
     because we have 2 instances of pointer sizes
     see kfix and xfix in neibor.h 

Makefile
     add compile options for mac intel

writinit.f
     add header info for mac intel

lagrit_maci.h
      new include file for mac intel 

from Carl November 14, 2008

addmesh.f 
changeset ba4adf1d170b in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details:
https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=ba4adf1d170b
summary: Modify addmesh/merge addmesh/append to handle more cases.

boundary_components.f
changeset 427e4b85dbdb in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details:
https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=427e4b85dbdb
summary: resetpts bug fix, boundary_components and extract_surfmesh added
features



=======================================================================
Release LaGriT V2.004

VERSION 2.004

New mac compile allows debug version to run on intel and powerpc
-rwxr-xr-x  1 tam  pf     16454372 Nov 12 10:04 lagrit_mac_g
*               * * * * * * * * * * * * * * * * * * * * * * * *                 
*               *                                             *                 
*               *    Program:  LaGriT V2.004   Darwin         *                 
*               *    date_compile: 2008/11/05                 *                 
*               *    Run Time: 2008/11/12  10:07:46           *                 
*               *    Manual:   http://lagrit.lanl.gov         *                 
*               *                                             *                 
*               * * * * * * * * * * * * * * * * * * * * * * * *                 


-rwxr-xr-x  1 tam radiusd  6764016 Oct 22 08:12 lagrit_mac_o*
-rwxr-xr-x  1 tam radiusd 13419232 Oct 22 08:12 lagrit_mac_g*
-rwxr-xr-x  1 tam radiusd 11114912 Oct 21 14:50 lagrit_sun_o*
-rwxr-xr-x  1 tam radiusd 35258368 Oct 21 14:50 lagrit_sun_g*
-rwxr-xr-x  1 tam radiusd  9411367 Oct 21 13:50 lagrit_lin_o*
-rwxr-xr-x  1 tam radiusd 13933505 Oct 21 13:49 lagrit_lin_g*
-rwxr-xr-x  1 tam radiusd  7649544 Oct 21 13:17 lagrit_sgi_o*
-rwxr-xr-x  1 tam radiusd 11586984 Oct 21 13:17 lagrit_sgi_g*
-rwxr-xr-x  1 tam radiusd  7649544 Oct 21 12:40 lagrit_sgi32_o*
-rwxr-xr-x  1 tam radiusd 11586984 Oct 21 12:40 lagrit_sgi32_g*

*               * * * * * * * * * * * * * * * * * * * * * * * *                 
*               *                                             *                 
*               *    Program:  LaGriT V2.004   Linux          *                 
*               *    date_compile: 2008/10/21                 *                 
*               *    Run Time: 2008/10/22  08:46:51           *                 
*               *    Manual:   http://lagrit.lanl.gov         *                 
*               *                                             *                 
*               * * * * * * * * * * * * * * * * * * * * * * * *                 


clean bin directory to include supported executables, not dated versions
remove *.f and buildbin, they are already in the src directory 
Update 00README to include version information and add
the link http://lagrit.lanl.gov/release.shtml
I keep date copies and build files in mybin

changeset 96fb0de9d8a8 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=96fb0de9d8a8
summary: Build version 2.004 for sun, lin, mac

Known changes:

changeset 427e4b85dbdb in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=427e4b85dbdb
summary: resetpts bug fix, boundary_components and extract_surfmesh added features
src/boundary_components.f                  |   26 ++++
src/extract_surfmesh.f                     |   86 +++++++++-----
src/resetpts.f                             |    7 -


changeset 5c8406e8de14 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=5c8406e8de14
summary: Made changes so that filter and rmmat return with no action rather than crash when passed an empty mesh object.
src/dumptecplot_hybrid.f                                  |    2 
src/filter.f                                              |   16 
src/offsetsurf.f                                          |   87 ++
src/rmmat.f                                               |   15 

changeset 9cd5c898d5e4 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=9cd5c898d5e4
summary: Add options dump/att_node and dump/att_elem
src/dumpavs.f   |   74 ++++++++++++++++++++++++++++++++++++++++++++++++-------
src/writedump.f |   40 ++++++++++++++++++++++++++++-

changeset fb1f221839b1 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=fb1f221839b1
summary: Corrected bug: cmo_exist returned error flag but check of error flag was to wrong error flag variable.
src/interp_lg.f |    2 +-

changeset 479e73cf7d3e in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=479e73cf7d3e
summary: Added option of using # in addition to * for comment lines.
bin/buildbin                                          |    4 
src/control_command_lg.f                              |    2 
test/level01/check_test.py                            |    2 
test/level01/result_files/diffout_lin.txt             |  382 +++----
test/level01/result_files/diffout_mac.txt             |  382 +++----
test/level01/result_files/diffout_sun.txt             |  306 +++--
test/level01/result_files/reference/diffout_sgi32.txt |  903 +++++++++++++++++
test/level01/result_files/stdout_lin.txt              |  116 +-
test/level01/result_files/stdout_mac.txt              |  116 +-
test/level01/result_files/stdout_sun.txt              |  116 +-
test/level01/run_test.py                              |    5 





=======================================================================
Release LaGriT V2.003 (previous version V2.002) 

From: lagrit-dev@lanl.gov
Date: May 20, 2008 2:44:28 PM MDT
To: lagrit-dev@lanl.gov
Subject: lagrit: Compile and test V2.003 for platforms SGI-32, SUN, MAC, ...

changeset 684a123422c7 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=684a123422c7
summary: Compile and test V2.003 for platforms SGI-32, SUN, MAC, LINUX
bin/buildbin                                          |    4 
test/level01/check_test.py                            |    2 
test/level01/result_files/diffout_lin.txt             |  382 +++----
test/level01/result_files/diffout_mac.txt             |  382 +++----
test/level01/result_files/diffout_sun.txt             |  306 +++--
test/level01/result_files/reference/diffout_sgi32.txt |  903 +++++++++++++++++
test/level01/result_files/stdout_lin.txt              |  116 +-
test/level01/result_files/stdout_mac.txt              |  116 +-
test/level01/result_files/stdout_sun.txt              |  116 +-
test/level01/run_test.py                              |    5 


Carl changes:
-rw-r-----  1 tam radiusd     7774 May 15 09:39 cmo_get_attparam.f
-rw-r-----  1 tam radiusd    47747 May 15 09:39 dumptecplot_hybrid.f
-rw-r-----  1 tam radiusd    21676 May 15 09:39 offsetsurf.f
-rw-r-----  1 tam radiusd     6765 May 15 09:39 sphere1.f

Compile errors fixed for SGI IRIX64 -32 
-rw-r-----   1 tam  pf   49470 May 15 11:06 dumpavs.f
-rw-r-----   1 tam  pf   35846 May 15 11:07 filter.f
-rw-r-----   1 tam  pf  191653 May 15 11:07 refine_tet_add.f
-rw-r-----   1 tam  pf   40342 May 15 11:08 rmpoint.f
-rw-r-----   1 tam  pf     919 May 15 11:13 lagrit.template.h
-rw-r-----   1 tam  pf     919 May 15 11:50 lagrit_sgi.h
-rw-r-----   1 tam  pf     915 May 15 11:51 lagrit_sun.h
-rw-r-----   1 tam  pf     909 May 15 11:51 lagrit_lin.h
-rw-r-----   1 tam  pf     919 May 15 11:51 lagrit_mac.h
-rw-r-----   1 tam  pf   11585 May 15 11:58 writinit.f
-rw-r-----   1 tam  pf     919 May 20 13:04 lagrit.h
-rw-r--r--   1 tam  pf    7941 May 15 14:24 Makefile



compile all, test, commit
rainier> hg status
M bin/lagrit_sgi32_g
M bin/lagrit_sgi32_o
M lib/lagrit_sgi32_g.a
M lib/lagrit_sgi32_o.a
M src/Makefile
M src/dumpavs.f
M src/filter.f
M src/lagrit.h
M src/lagrit.template.h
M src/lagrit_lin.h
M src/lagrit_mac.h
M src/lagrit_sun.h
M src/refine_tet_add.f
M src/rmpoint.f
M src/writinit.f
A test/level01/result_files/diffout_sgi32.txt
A test/level01/result_files/stdout_sgi32.txt
R src/lagrit.tmpl
R src/lagrit_lin_g
R src/lagrit_lin_g_071121
R src/lagrit_lin_o
R src/lagrit_lin_o_071121
R src/lagrit_sun_g
R src/lagrit_sun_g_071120
R src/lagrit_sun_o
R src/lagrit_sun_o_071120
R src/tmp2.h
! test/level01/intrp_2D_sizes/out_1.ep04.gmv
! test/level01/intrp_2D_sizes/out_1.ep06.gmv
! test/level01/io_agf_simple/outascii.stor
! test/level01/io_agf_simple/outbin.stor

changeset f01dda56867b in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=f01dda56867b
summary: Changed character to lower case and parameter

changeset 515ad9268558 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=515ad9268558
summary: sgi -32 f77 does not like unsized character, add size and check

changeset ce1d55837ffb in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=ce1d55837ffb
summary: sgi -32 f77 does not like the order of variables declared

changeset dcd244fab2f7 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=dcd244fab2f7
summary: sgi -32 caught mistake using > instead of .gt.

changeset 2bc913b6e390 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=2bc913b6e390
summary: sgi -32 f77 constants changed to lower case

changeset 74995a0f810d in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=74995a0f810d
summary: corrected use of object directory names

changeset 746e783aa5a0 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=746e783aa5a0
summary: sgi -32 code update and merge with Carl's changeset

changeset 04b692ad493d in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=04b692ad493d
summary: sgi -32 testing results

changeset 2f94152fca97 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=2f94152fca97
summary: sgi -32 changed character*(*) cmo_name to character*32

changeset a8c2839c6f94 in /nh/packages/www/svn/repos.ancho/lagrit/hg/lagrit
details: https://ancho.lanl.gov/lagrit/hg/lagrit?cmd=changeset;node=a8c2839c6f94
summary: sgi -32 cleanup of src directory

diffstat:

15 files changed, 1178 insertions(+), 259 deletions(-)
src/Makefile                                |   19 
src/dumpavs.f                               |   21 
src/filter.f                                |   92 ++
src/lagrit.h                                |   32 
src/lagrit.template.h                       |   32 
src/lagrit.tmpl                             |   54 -
src/lagrit_lin.h                            |   28 
src/lagrit_mac.h                            |   28 
src/lagrit_sgi.h                            |   29 
src/lagrit_sun.h                            |   28 
src/refine_tet_add.f                        |   68 +-
src/rmpoint.f                               |    2 
src/tmp2.h                                  |   54 -
src/writinit.f                              |   47 -
test/level01/result_files/diffout_sgi32.txt |  903 +++++++++++++




May 15 2008
change set for 32  version of SGI IRIX64  on patagonia

*               *    Program:  LaGriT V2.003   IRIX64         *                 
*               *    date_compile: 2008/05/12                 *                 
*               *    Run Time: 2008/05/13  07:13:03           *            

rainier> foreach f (*.f)
foreach? echo $f
foreach? diff $f ../mysrc/$f

dumpavs.f
265,266c265
<       pointer (ipch_string,ch_string)
<       character*32  ch_string(*) 
---
>       character*2048 ch_string 

filter.f
995c995
<       integer i1, it, i, i2, icount
---
>       integer i1, it, i, i2, icount, ierror

refine_tet_add.f
143,144d142
<       character*132 logmess
< C
145a144,159
> C
> C arguments
>       character*32 cmo_name
>       integer iprd, nadd
>  9025          format('ERROR refine prd: icount gt nnodes: ',i14,i14)

rmpoint.f
838c838
<          if (nremtet > 0) then
---
>          if (nremtet .gt. 0) then

writinit.f
135c136
<       character*8 iunitc,mode
---
>       character*8 iunitc
227,228c233,234
<         write ( Version(1:1), '(i1)' ) VMajor
<         write ( Version(3:5), '(i3.3)' ) VMinor
---
>         write ( Version(1:1), '(i1)' ) v_major
>         write ( Version(3:5), '(i3.3)' ) v_minor 
249c255
<  8389 format('*',15x,'*    Program:  LaGriT V',a6,'  IRIX           *')
---
>  8389 format('*',15x,'*    Program:  LaGriT V',a6,'  IRIX64         *')
280,282c286,290
<           call writloga('default',0,interfil,0,ierrdum)
<  9020     format(' code expiration date passed ')
<           call termcode()
---
>           call writloga('default',1,interfil,0,ierrdum)
>  9020     format('WARNING: code expiration date has passed.')
>           call writloga('default',0,interfil,2,ierrdum)
>  9021     format('This version is no longer supported.')
> c         call termcode()

rainier> cat lagrit.template.h
c
c----------------------------------------------------------------
c lagrit.template.h
c This is a template for lagrit.h for the LaGriT program banner
c Substitute the TAG strings with Date and Linux, Darwin, SunOS, or IRIX
c Compile library with updated lagrit.h and writinit.f 
c This template is preserved in lagrit.template.h
c
c----------------------------------------------------------------
c
      integer         NCall, VMajor, VMinor
      save            NCall
      parameter      (VMajor=2)
      parameter      (VMinor=002)
c
      character*16    MyName
      parameter      (MyName='lagritgen')
c
      character*8    OSName
      parameter      (OSName='OSTAG')
c
      character*22    Compiled
      parameter      (Compiled='DATETAG')
c
      character*8     Version
      save            Version
c
c----------------------------------------------------------------
c
rainier> cat ../mysrc/lagrit.template.h
c
c----------------------------------------------------------------
c lagrit.h for SGI IRIX with 32
c This is a template for the lagrit program banner
c Substitute the TAG strings with Date and Linux, Darwin, SunOS, or IRIX
c Compile library with updated lagrit.h used in writinit()
c This template is preserved in lagrit.template.h
c
c----------------------------------------------------------------
c
      integer        v_major, v_minor
      parameter      (v_major=2)
      parameter      (v_minor=003)
c
      character*22   date_compile
      character*8    os_name
      character*16   my_name
c
      data my_name      /'lagritgen'/
      data os_name      /'OSTAG   '/
      data date_compile /'DATETAG               '/
c
      integer         NCall
      save            NCall
      character*8     Version
      save            Version
c
c----------------------------------------------------------------




SGI NOTES=======================================================================

fdate must compile with f90 for DATE_AND_TIME intrinsic not available for f77

changes to lagrit*.h declaring and assigning character variables

checking history for sgi compiles, my notes indicate problems with opt compile
   getting bus errors at run time. Using -O1 for compile fixed the problem.
   In 2004 Denise was unable to compile opt version of sgi without malloc and bus errors.
   She was not supporting the optimized version after this.
   Using -O1 fixed bus and malloc errors in my test suite.

Compile flags for sgi >>>>>>>>>>>>>
makefiles in pvcs as of October 2007

build debug: 
f90 -g -n32 -r10000 -avoid_gp_overflow 
f90 -g -64 -i8 -r10000 -avoid_gp_overflow 

build opt:   
f90 -O -n32 -r10000 -avoid_gp_overflow  
f90 -O -64 -i8 -r10000 -avoid_gp_overflow

makefile_sgi
%.o : %.f: f77 -n32 -r10000 -O  -avoid_gp_overflow -OPT:Olimit=0
.f90.o: f90 -n32 -r10000 -O
%.o : %.c: cc -n32 -r10000 -O 

makefile_sgi-g 
%.o : %.f: f77 -g -n32 -r10000 -avoid_gp_overflow
.f90.o: f90  -g -n32 -r10000 
%.o : %.c: cc -g -n32 -r10000 

January 2008
2008 carl >> 

build executable
f77 -c -O -64 -i8 -r10000 -avoid_gp_overflow -OPT:Olimit=0 adrivgen.f matbld3d_stor.f matbld1.f 
f90 -O -64 -i8 -r10000 -avoid_gp_overflow -OPT:Olimit=0 -o xlagrit_O_sgi64 adrivgen.o matbld3d_stor.o matbld1.o 

/home/cwg/src/lagrit_v1.0/work/build_sgi/build_64bit/liblagrit

makefile_sgi
%.o : %.f f77 -64 -i8 -r10000 -O  -avoid_gp_overflow -OPT:Olimit=0
.f90.o f90 -64 -i8 -r10000 -O
%.o : %.c cc -64 -i8 -r10000 -O

makefile_sgi-g
%.o : %.f f77 -g -64 -i8 -r10000 -avoid_gp_overflow 
.f90.o:   f90 -g -64 -i8 -r10000
%.o : %.c cc -g -64 -i8 -r10000 

/home/cwg/src/lagrit_v1.0/work/build_sgi/build_64bit/libutil
makefile_sgi
 FC = f77                       
 CC = cc                        
 DFLAGS = -64 -i8 -r10000 -O       
FFLAGS = $(DFLAGS)              
 EFLAGS = -64 -i8 -r10000 -O       
CFLAGS = $(EFLAGS)              
 INCLUDE_UTL = mm2000.h \

%.o : %.f ${INCLUDE_UTL}
        ${FC} ${FFLAGS} $< -c
%.o : %.c
        ${CC} ${CFLAGS} $< -c


See:
/home/cwg/src/lagrit_v1.0/work/build_sgi/build_64bit/liblagrit  makefile_sgi

tesselate:build_64bit% more buildsgi_64bit
#! /bin/csh -f
#
# Debug version
#
f77 -c -g -64 -i8 -r10000 -avoid_gp_overflow \
/pvcs.config/t3d/ref/adrivgen.f    \
matbld3d_stor.f \
matbld1.f

f90 -g -64 -i8 -r10000 -avoid_gp_overflow  -o xlagrit_g_sgi64_new \
adrivgen.o \
matbld3d_stor.o \
matbld1.o \
/home/cwg/src/lagrit/work/build_sgi/build_64bit/liblagrit/liblagrit_sgi_64_i8_g.a \
/home/cwg/src/lagrit/work/build_sgi/build_64bit/libutil/libutil_sgi_64_i8_tmp.a

'rm' adrivgen.o
echo 'Build xlagrit_g_sgi64_new '
#
# Optimize version
#
f77 -c -O -64 -i8 -r10000 -avoid_gp_overflow -OPT:Olimit=0 \
/pvcs.config/t3d/ref/adrivgen.f    \
matbld3d_stor.f \
matbld1.f

f90 -O -64 -i8 -r10000 -avoid_gp_overflow -OPT:Olimit=0 -o xlagrit_O_sgi64_new \
adrivgen.o \
matbld3d_stor.o \
matbld1.o \
/home/cwg/src/lagrit/work/build_sgi/build_64bit/liblagrit/liblagrit_sgi_64_i8_opt.a \
/home/cwg/src/lagrit/work/build_sgi/build_64bit/libutil/libutil_sgi_64_i8_opt_tmp.a



TESTING >>  
refine_tet_add calls filter_subset
opt version lagrit/test/level01/refine_octree :

Element iteration:          1        27                                         
Octree refined elems: old=        50 new=       266                             
 refine_tet_add: icount:   2138747619
 mmgetblk: arg mpno:   2138747619
 mmgetblk: mpno,length:   2138747619  2138747619
MALLOCF: Out of memory.

Fixed variable declaration ordering
 refine_tet_add: icount:          606
 mmgetblk: arg mpno:   2138747619
Fixed arguments by changing character*(*) to character*32

refine_octree now works, but there is a bus error in addmesh_append
at dumpavs where argument ch_string is declared as character*(*)
dump avs2 output_append_hex2.inp cmo_merge                                      
cmo/modatt/-def-/-def-/ioflag/x                                                 
finish                                                                          
Process 850825 (lagrit_sgi_o) stopped on signal SIGBUS: Bus error (default) at [z_putc:116 +0x2c,0xacf756c]
         Source (of /j10/mtibuild/v741m/workarea/v7.4.1m/libI77/iio.c) not available for Process 850825
(dbx) where
>  0 z_putc(0x0, 0x2, 0x20, 0x1, 0x4, 0xfb4fe48, 0xa0133a00, 0xa0133a01) ["/j10/mtibuild/v741m/workarea/v7.4.1m/libI77/iio.c":116, 0xacf756c]
   1 wrt_E(0x104e0f80, 0x2, 0x14, 0xc, 0x4, 0xfb4fe48, 0xa0133a00, 0xa0133a01) ["/j10/mtibuild/v741m/workarea/v7.4.1m/libI77/wrtfmt.c":429, 0xad13ec8]
   2 w_ed(0x0, 0x104ecc60, 0x7ff315f0, 0x8, 0x4, 0xfb4fe48, 0xa0133a00, 0xa0133a01) ["/j10/mtibuild/v741m/workarea/v7.4.1m/libI77/wrtfmt.c":1350, 0xad17ee8]
   3 do_fio64_mp(0x0, 0x2, 0x20, 0x1, 0x4, 0xfb4fe48, 0xa0133a00, 0xa0133a01) ["/j10/mtibuild/v741m/workarea/v7.4.1m/libI77/fmt.c":673, 0xacf24d8]
   4 do_fioxr8v(0x0, 0x2, 0x20, 0x1, 0x4, 0xfb4fe48, 0xa0133a00, 0xa0133a01) ["/j10/mtibuild/v741m/workarea/v7.4.1m/libI77/fmt.c":1612, 0xacf4960]
   5 string_add_entry_r8(0x7ff319e0, 0x7ff3226c, 0x1053b118, 0x20202034, 0x4, 0xfb4fe48, 0xa0133a00, 0xa0133a01) ["/tmp_mnt/home/tam/src/lagrit/mysrc/dumpavs.f":1299, 0x102ea890]
 6 dumpavs(0x0, 0x7ff326b0, 0x20, 0x1, 0x4, 0xfb4fe48, 0xa0133a00, 0xa0133a01) ["/tmp_mnt/home/tam/src/lagrit/mysrc/dumpavs.f":946, 0x102e9dc0]
NOTE: debug version has no problems


